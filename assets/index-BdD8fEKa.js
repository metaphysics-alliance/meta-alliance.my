import{j as t,u as ts,a as is,m as Me,S as rs,X as bi,M as ss,A as Ye,t as as,c as ns,C as lr,b as cr,d as dr,e as ti,L as os,f as ls,g as cs,h as ds,i as us}from"./ui-DWL7-z61.js";import{b as hs,g as ur,R as pe,a as b,L as R,u as _t,c as ms,d as ps,e as fe,f as hr,h as et,i as gs,N as fs,j as ys,O as bs}from"./vendor-BZRfAApf.js";import{_ as L,t as vs,a as Ct}from"./pdf-CaOu4D8y.js";import{l as ws,E as xs,u as js,a as Ns,P as ks}from"./stripe-TkOMgsgj.js";function Ss(r,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in r)){const n=Object.getOwnPropertyDescriptor(s,a);n&&Object.defineProperty(r,a,n.get?n:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}})();var st={},vi;function _s(){if(vi)return st;vi=1;var r=hs();return st.createRoot=r.createRoot,st.hydrateRoot=r.hydrateRoot,st}var Cs=_s();const Ts=ur(Cs);var mr={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},wi=pe.createContext&&pe.createContext(mr),Es=["attr","size","title"];function As(r,e){if(r==null)return{};var i=Ps(r,e),s,a;if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(i[s]=r[s])}return i}function Ps(r,e){if(r==null)return{};var i={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;i[s]=r[s]}return i}function bt(){return bt=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])}return r},bt.apply(this,arguments)}function xi(r,e){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),i.push.apply(i,s)}return i}function vt(r){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?xi(Object(i),!0).forEach(function(s){Ls(r,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):xi(Object(i)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(i,s))})}return r}function Ls(r,e,i){return e=Is(e),e in r?Object.defineProperty(r,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[e]=i,r}function Is(r){var e=Rs(r,"string");return typeof e=="symbol"?e:e+""}function Rs(r,e){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function pr(r){return r&&r.map((e,i)=>pe.createElement(e.tag,vt({key:i},e.attr),pr(e.child)))}function B(r){return e=>pe.createElement(Ms,bt({attr:vt({},r.attr)},e),pr(r.child))}function Ms(r){var e=i=>{var{attr:s,size:a,title:n}=r,o=As(r,Es),c=a||i.size||"1em",l;return i.className&&(l=i.className),r.className&&(l=(l?l+" ":"")+r.className),pe.createElement("svg",bt({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,o,{className:l,style:vt(vt({color:r.color||i.color},i.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),n&&pe.createElement("title",null,n),r.children)};return wi!==void 0?pe.createElement(wi.Consumer,null,i=>e(i)):e(mr)}function Os(r){return B({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M80 299.3V512H196V299.3h86.5l18-97.8H196V166.9c0-51.7 20.3-71.5 72.7-71.5c16.3 0 29.4 .4 37 1.2V7.9C291.4 4 256.4 0 236.2 0C129.3 0 80 50.5 80 159.4v42.1H14v97.8H80z"},child:[]}]})(r)}function ji(r){return B({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function Ds(r){return B({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M331.5 235.7c2.2 .9 4.2 1.9 6.3 2.8c29.2 14.1 50.6 35.2 61.8 61.4c15.7 36.5 17.2 95.8-30.3 143.2c-36.2 36.2-80.3 52.5-142.6 53h-.3c-70.2-.5-124.1-24.1-160.4-70.2c-32.3-41-48.9-98.1-49.5-169.6V256v-.2C17 184.3 33.6 127.2 65.9 86.2C102.2 40.1 156.2 16.5 226.4 16h.3c70.3 .5 124.9 24 162.3 69.9c18.4 22.7 32 50 40.6 81.7l-40.4 10.8c-7.1-25.8-17.8-47.8-32.2-65.4c-29.2-35.8-73-54.2-130.5-54.6c-57 .5-100.1 18.8-128.2 54.4C72.1 146.1 58.5 194.3 58 256c.5 61.7 14.1 109.9 40.3 143.3c28 35.6 71.2 53.9 128.2 54.4c51.4-.4 85.4-12.6 113.7-40.9c32.3-32.2 31.7-71.8 21.4-95.9c-6.1-14.2-17.1-26-31.9-34.9c-3.7 26.9-11.8 48.3-24.7 64.8c-17.1 21.8-41.4 33.6-72.7 35.3c-23.6 1.3-46.3-4.4-63.9-16c-20.8-13.8-33-34.8-34.3-59.3c-2.5-48.3 35.7-83 95.2-86.4c21.1-1.2 40.9-.3 59.2 2.8c-2.4-14.8-7.3-26.6-14.6-35.2c-10-11.7-25.6-17.7-46.2-17.8H227c-16.6 0-39 4.6-53.3 26.3l-34.4-23.6c19.2-29.1 50.3-45.1 87.8-45.1h.8c62.6 .4 99.9 39.5 103.7 107.7l-.2 .2zm-156 68.8c1.3 25.1 28.4 36.8 54.6 35.3c25.6-1.4 54.6-11.4 59.5-73.2c-13.2-2.9-27.8-4.4-43.4-4.4c-4.8 0-9.6 .1-14.4 .4c-42.9 2.4-57.2 23.2-56.2 41.8l-.1 .1z"},child:[]}]})(r)}function gr(r){return B({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"},child:[]}]})(r)}const Ni={EN:{bazi:{badge:"Destiny Architecture",title:"Quantum Destiny Algorithm (BaZi)",subtitle:"Boardroom-grade BaZi intelligence engineered to underwrite leadership, capital and legacy plays.",sections:[{key:"overview",dividerTitle:"Inside the Engagement",dividerSubtitle:"How we build your destiny operating system",title:"Executive Blueprint Intensive",imageLabel:"BaZi Command Deck",imageUrl:"/images/page-bazi/Bazi-Img-01.png",body:"Your natal matrix is recast with True Solar Time calibration, imperial records and modern analytics before we simulate multiple career, wealth and family scenarios.",points:["True Solar Time recalibration verified against Qing and NASA ephemeris archives.","Scenario modelling translating elemental economics into cashflow, influence and wellbeing levers.","Gap analysis that converts metaphysical diagnostics into resourcing, scheduling and behaviour shifts."]},{key:"methodology",dividerTitle:"Methodology & Toolset",dividerSubtitle:"What makes this analysis investment-grade",title:"Research Lab + Strategic Studio",imageLabel:"Methodology Console",imageUrl:"/images/page-bazi/Bazi-Img-02.png",body:"A dual-analyst team triangulates classical doctrine with contemporary leadership insight so the dossier reads like a command manual, not a horoscope.",points:["Dual-analyst peer review combining imperial canon, Liu Yao cross-checks and proprietary scoring.","Quantified opportunity matrices that rank markets, business models and relationship archetypes.","Secure digital workspace for evidence, playbooks and post-briefing amendments."]},{key:"value",dividerTitle:"Strategic Advantage",dividerSubtitle:"Why growth leaders rely on this analysis",title:"Timing, Positioning, Leverage",imageLabel:"Strategic Momentum Board",imageUrl:"/images/page-bazi/Bazi-Img-03.png",body:"Every recommendation cross-checks natal, decadal and annual flows to expose the plays that compound faster than market noise.",points:["Pinpoint quarters to raise, expand or consolidate using macro and micro luck cycles.","Pre-empt partnership, reputation and regulatory stress with mitigation tied to celestial windows.","Translate talent archetypes into hiring criteria, incentive design and succession bench plans."]},{key:"audience",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Where the algorithm delivers quantifiable lift",title:"Capital Allocation & Leadership Continuity Programs",imageLabel:"Leadership Circle",imageUrl:"/images/page-bazi/Bazi-Img-04.png",body:"Engineered for coalitions that manage capital velocity, succession stability and cross-portfolio execution using quantified BaZi intelligence.",points:["Multi-entity founders and investment partners choreographing funding rounds, liquidity events and governance rotations.","Family offices codifying stewardship mandates, succession playbooks and intergenerational asset deployment.","Executive boards aligning hiring, incentive design and resilience infrastructure to long-range cycle analysis."]},{key:"deliverables",dividerTitle:"Deliverables",dividerSubtitle:"What lands on your desk",title:"Celestial Strategy Portfolio",imageLabel:"Intelligence Portfolio",imageUrl:"/images/page-bazi/Bazi-Img-05.png",body:"You receive a 140+ page intelligence deck, executive dashboards and live briefings that convert metaphysics into immediate action.",points:["Celestial scorecards detailing talents, monetisation channels, resilience levers and relationship strategies.","Launch and hedge calendar with auspicious micro-windows, risk alerts and countermeasures.","Role-specific guidance for partners, family and key staff to keep the organism synchronised.","Private recording, transcripts and follow-up briefing notes hosted in a secure portal."]},{key:"results",dividerTitle:"Measured Impact",dividerSubtitle:"What clients report",title:"Commercial + Personal Uplift",imageLabel:"Impact Dashboard",imageUrl:"/images/page-bazi/Bazi-Img-06.png",body:"Clients consistently cite faster execution, cleaner hiring decisions and calmer personal bandwidth once the algorithm is deployed.",points:["Strategic initiatives launched within lucky windows show 20–35% faster revenue ramp compared to prior cycles.","Leadership teams cite 2x clarity on role fit and board communication after aligning with elemental wiring.","Personal wellbeing KPIs—sleep, family dynamics, creative momentum—stabilise within the first 90 days."]}],cta:{dividerTitle:"Reserve Your Analysis Window",dividerSubtitle:"Limited BaZi commissions each month",title:"Command Your Destiny Algorithm",message:"Submit your brief with objectives, operating horizon and team map to secure the next open slot. We only open a handful of intakes to maintain analytical depth.",primaryLabel:"Book BaZi Strategy Call",primaryHref:"/contact"},newsletterTitle:"Executive Timing Intelligence",newsletterSubtitle:"Monthly boardroom memos on celestial windows, capital moves and leadership stamina."},ziwei:{badge:"Imperial Foresight",title:"Imperial Star Atlas Command",subtitle:"Decode prestige, alliances and succession cycles with forensic Zi Wei Dou Shu insight built for public leaders.",sections:[{key:"overview",dividerTitle:"Inside the Atlas",dividerSubtitle:"How your imperial heavens are mapped",title:"Palace Constellation Audit",imageLabel:"Imperial Star Console",imageUrl:"/images/page-zimei/zimei-img-01.png",body:"We chart every palace, star cluster and transformation to reveal the theatres where authority, wealth and reputation rise or erode under your command.",points:["Profiles primary, auxiliary and hidden stars with imperial transformation codes for influence, wealth and legacy.","Maps cross-palace tensions impacting leadership voice, partnership chemistry and public sentiment.","Highlights power blocs, hidden benefactors and antagonists across the Twenty-Four Palaces."]},{key:"methodology",dividerTitle:"Methodology & Toolset",dividerSubtitle:"How imperial accuracy is achieved",title:"Forensic Star Intelligence",imageLabel:"Imperial Analytics Lab",imageUrl:"/images/page-zimei/zimei-img-02.png",body:"Our astro-strategy cell unifies Zi Wei doctrine, modern reputational analytics and discreet stakeholder interviews to produce counsel worthy of an imperial court.",points:["Multi-chart review including natal, decade, annual and partner charts to ensure integrated insight.","Influence heat-maps combining palace data with sentiment, media and stakeholder telemetry.","Secure counsel sessions with anonymised summaries for speechwriters, chiefs of staff and advisors."]},{key:"value",dividerTitle:"Strategic Advantage",dividerSubtitle:"Where the Atlas pays dividends",title:"Reputation Capital Engine",imageLabel:"Influence Trajectory Board",imageUrl:"/images/page-zimei/zimei-img-03.png",body:"Know when to amplify visibility, negotiate alliances, initiate transitions or withdraw strategically while protecting legacy assets.",points:["Spot precise months to stage keynotes, IPOs, partnerships or philanthropic campaigns.","Reveal reputational risk pockets with counter-narratives, rituals and spatial remedies.","Sequence mentorship, succession grooming and family governance to celestial support periods."]},{key:"audience",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Stakeholders requiring imperial star governance",title:"Reputation Command & Succession Councils",imageLabel:"Imperial Council",imageUrl:"/images/page-zimei/zimei-img-04.png",body:"Built for public-facing principals and advisory boards that administer influence portfolios, alliance stability and succession risk through forensic Zi Wei intelligence.",points:["Heads of state, public officials and flagship brand figureheads calibrating visibility, alliances and crisis posture.","Family office councils engineering legacy transitions, philanthropy mandates and diplomatic programmes.","Reputation, communications and influence strategists supervising narrative orchestration across volatile cycles."]},{key:"deliverables",dividerTitle:"Deliverables",dividerSubtitle:"What you take back to court",title:"Imperial Star Command Portfolio",imageLabel:"Imperial Briefing Folio",imageUrl:"/images/page-zimei/zimei-img-05.png",body:"Receive cinematic intelligence dossiers, influence dashboards and private advisory sessions custom-built for your inner circle.",points:["120+ page atlas covering palace diagnostics, influence levers, rival mapping and loyalty signals.","Succession and reputation playbooks with activation dates, talking points and ceremonial support.","Quarterly monitoring templates to keep chiefs-of-staff and communications teams aligned."]},{key:"results",dividerTitle:"Measured Impact",dividerSubtitle:"Imperial-grade outcomes",title:"Visibility, Trust, Continuity",imageLabel:"Imperial Impact Console",imageUrl:"/images/page-zimei/zimei-img-06.png",body:"Clients report smoother transitions, stronger coalition support and elevated brand gravity once the atlas informs orchestration.",points:["Campaigns and launches timed with supportive palaces deliver markedly higher engagement and conversion.","Succession roadmaps guided by Zi Wei reduce churn and conflict during leadership handovers.","Stakeholder confidence and media tone trend positively when messaging aligns with palace activations."]}],cta:{dividerTitle:"Claim Your Imperial Atlas",dividerSubtitle:"Secure a confidential Zi Wei command window",title:"Commission Imperial Star Counsel",message:"Submit your objectives, stakeholders and discretion requirements to enter the imperial roster. We maintain a tight queue to guarantee confidentiality and depth.",primaryLabel:"Book Imperial Consultation",primaryHref:"/contact"},newsletterTitle:"Stay in Imperial Orbit",newsletterSubtitle:"Influence alerts, alliance case studies and celestial reputation cues curated for powerholders."},fsOffice:{badge:"Feng Shui Assessment",title:"Office Power Alignment",subtitle:"Engineer relentless revenue floors and cultural clarity by weaponising your workspace with high-precision Feng Shui and Qi Men gating.",sections:[{key:"overview",dividerTitle:"Inside the Programme",dividerSubtitle:"Structure every floor for performance and cohesion",title:"Performance Floor Masterplan",imageLabel:"Boardroom Energy Grid",imageUrl:"/images/page-fs-office/office-img-01.png",body:"Engineer relentless revenue floors and cultural clarity by weaponising your workspace with high-precision Feng Shui and Qi Men gating.",points:["Executive war-room placement calibrated to leadership authority and decision velocity sectors.","Revenue, marketing and innovation pods sequenced to time gates that amplify pipeline flow.","Recruitment, onboarding and retention rituals embedded into spatial choreography.","Annual retuning and renovation governance blueprint to protect momentum during change."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Operational landscapes engineered for this audit",title:"Hypergrowth Floorplate Coalitions",imageLabel:"Power Floor Strategy",imageUrl:"/images/page-fs-office/office-img-02.png",body:"Built for venture-backed enterprises, funds and leadership councils aligning revenue floors, governance cadence and talent velocity through precision workspace modelling.",points:["Hypergrowth floorplates recalibrating leadership, revenue and enablement hubs to time-gated energetic sectors.","Investment studios coordinating diligence war rooms, analyst bays and investor hospitality pathways.","Transformation offices sequencing renovation phases, swing spaces and compliance checkpoints without interrupting throughput."]},{key:"method",dividerTitle:"Professional Methodology",dividerSubtitle:"How the audit is governed",title:"Corporate-Grade Delivery",imageLabel:"Corporate Audit Playbook",imageUrl:"/images/page-fs-office/office-img-03.png",body:"We run the engagement like a capital project, scoped, benchmarked and documented for stakeholders.",points:["Stakeholder discovery with leadership, HR, facilities and brand guardians to set measurable objectives.","Digital twin modelling overlaying Flying Star charts, Qi Men time gates and traffic studies.","Implementation playbooks for contractors, designers and operations teams with compliance checklists."]},{key:"impact",dividerTitle:"Performance Outcomes",dividerSubtitle:"KPIs clients attribute to the programme",title:"Revenue Resilience and Team Cohesion",imageLabel:"Corporate Wins",imageUrl:"/images/page-fs-office/office-img-04.png",body:"Leadership teams report tighter rhythms, faster deal flow and healthier morale within one quarter.",points:["Quarterly revenue volatility narrows as sales pods operate within activated sectors.","Talent retention improves as seating and mentoring hubs align with supportive palaces.","Cross-functional collaboration scores climb thanks to recalibrated meeting and breakout rooms."]}],cta:{dividerTitle:"Claim Your Power Floor",dividerSubtitle:"Corporate audits scheduled on a priority queue",title:"Book an Office Alignment Briefing",message:"Send your floor plans, growth targets and change roadmap so we can scope the engagement and reserve your slot.",primaryLabel:"Schedule Alignment Call",primaryHref:"/contact"},newsletterTitle:"Prosperous Floor Pulse",newsletterSubtitle:"Launch windows, redesign checklists and boardroom rituals proven to lift KPIs."},fsDragon:{badge:"Feng Shui Assessment",title:"Dragon Vein Oracle",subtitle:"Secure land parcels that breathe longevity by tracing dragon veins, protective ridges and water mouths before any ground is broken.",sections:[{key:"overview",dividerTitle:"Inside the Expedition",dividerSubtitle:"Reading the land before the first pile",title:"Dragon Vein Field Report",imageLabel:"Landform Intelligence Map",imageUrl:"/images/page-fs-dragon/dragon-img-01.png",body:"Secure land parcels that breathe longevity by tracing dragon veins, protective ridges and water mouths before any ground is broken.",points:["Macro landform reconnaissance using drone, satellite and classical compass diagnostics for every candidate site.","Geomantic scoring matrix ranking prosperity, wellness, protection and legacy potential by parcel.","Gateway, water architecture and access road schematics tuned to capture and retain qi.","Due diligence binder covering soil notes, compliance alerts and long-term maintenance rituals."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Land and capital programs suited for this expedition",title:"Geomantic Acquisition Mandates",imageLabel:"Strategic Land Selection",imageUrl:"/images/page-fs-dragon/dragon-img-02.png",body:"Ideal for development syndicates, hospitality flagships and legacy estate councils requiring defensible geomantic intelligence before committing capital.",points:["Greenfield townships and integrated resorts validating multi-decade prosperity, protection and water governance corridors.","Institutional land banks mapping regulatory readiness, investor optics and phased release strategies with geomantic evidence.","Legacy estates configuring ancestral alignment, memorial precincts and stewardship infrastructure prior to acquisition."]},{key:"method",dividerTitle:"Survey Methodology",dividerSubtitle:"How each expedition is governed",title:"Field Intelligence Playbook",imageLabel:"Survey Protocol",imageUrl:"/images/page-fs-dragon/dragon-img-03.png",body:"We blend classical geomancy, geospatial technology and feasibility analysis to produce defensible recommendations.",points:["Pre-expedition scoping with planners, legal advisors and environmental consultants to align intent and constraints.","Multi-day fieldwork mapping mountain-water interactions, wind corridors and environmental stress zones.","Comparative reporting with diagrams, video logs and investment recommendations ready for boardrooms."]},{key:"impact",dividerTitle:"Investment Outcomes",dividerSubtitle:"Results clients experience",title:"Longevity, Protection, Prestige",imageLabel:"Landform Wins",imageUrl:"/images/page-fs-dragon/dragon-img-04.png",body:"Expect smoother approvals, favourable financing and proud community reception when the land plan follows the dragon vein.",points:["Flagship developments enjoy sustained footfall and premium pricing thanks to supportive topography.","Estate families experience steadier health and relationship harmony when homes sit on balanced veins.","Maintenance budgets decline as water management and qi retention strategies are baked into infrastructure."]}],cta:{dividerTitle:"Lock In Your Land Divination",dividerSubtitle:"Limited field expeditions each season",title:"Request a Dragon Vein Expedition",message:"Share coordinates, topographic data and development vision so we can scope the reconnaissance team and timeline.",primaryLabel:"Plan My Expedition",primaryHref:"/contact"},newsletterTitle:"Landform Intelligence Alerts",newsletterSubtitle:"Terrain case studies, acquisition timing cues and qi stewardship strategies."},fsCycle:{badge:"Feng Shui Layout",title:"Cosmic Cycle of Fate Layout",subtitle:"Ride every twenty four Solar Term without guesswork by installing seasonal Feng Shui adjustments that keep your property synchronised with moving qi currents.",sections:[{key:"overview",dividerTitle:"Seasonal Playbook",dividerSubtitle:"What each quarter delivers",title:"Solar Term Synchronisation",imageLabel:"Seasonal Strategy Grid",imageUrl:"/images/page-3core/3Core-Img-01.png",body:"Ride every twenty four Solar Term without guesswork by installing seasonal Feng Shui adjustments that keep your property synchronised with moving qi currents.",points:["Quarterly tuning plans covering wealth, wellbeing, protection and relationship sectors.","Integration with household or office calendars so rituals land effortlessly.","Elemental support kits detailing aromas, colours, nutrition and actions for each season.","Stakeholder briefing notes so family or teams understand the intention behind each shift."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Seasonal programs calibrated for this stewardship",title:"Family & Enterprise Rhythm Councils",imageLabel:"Seasonal Cohesion Blueprint",imageUrl:"/images/page-3core/3Core-Img-02.png",body:"Designed for households and leadership teams institutionalising quarterly recalibration so momentum, wellbeing and protection stay synchronised with solar term dynamics.",points:["Household rhythm boards synchronising rituals, recovery blocks and protective cures with solar term diagnostics.","Executive cadence councils aligning capital sprints, product pushes and safeguard windows to seasonal qi patterns.","Estate or campus managers orchestrating occupant briefings, supply kits and intervention logs across each quarter."]},{key:"method",dividerTitle:"Delivery Framework",dividerSubtitle:"How each quarter is managed",title:"Seasonal Stewardship System",imageLabel:"Seasonal Control Centre",imageUrl:"/images/page-3core/3Core-Img-03.png",body:"We provide a structured cadence—briefing, implementation, checkpoints and review—so adjustments never feel ad hoc or mystical.",points:["Seasonal briefing highlighting focus themes, rituals and success metrics for the upcoming phase.","Implementation checklists for layout tweaks, supply kits and behavioural prompts.","Mid-season check-in and end-season review with action logs and metric dashboards."]},{key:"impact",dividerTitle:"Performance Outcomes",dividerSubtitle:"How clients quantify progress",title:"Rhythm, Revenue, Resilience",imageLabel:"Seasonal Wins",imageUrl:"/images/page-3core/3Core-Img-04.png",body:"Expect smoother energy, fewer health dips and more predictable cashflow as the property stays in phase with the calendar.",points:["Family wellbeing incidents decrease as rest and activity schedules mirror elemental shifts.","Launches and campaigns timed to seasonal qi outperform prior-year benchmarks.","Teams report higher morale and lower burnout thanks to built-in recovery rituals."]}],cta:{dividerTitle:"Claim Your Seasonal Edge",dividerSubtitle:"Quarterly retainer seats fill quickly",title:"Subscribe to Cosmic Cycle Stewardship",message:"Share your current layout, annual priorities and available resources so we can craft the seasonal intervention roadmap.",primaryLabel:"Unlock Seasonal Stewardship",primaryHref:"/contact"},newsletterTitle:"Seasonal Layout Signals",newsletterSubtitle:"Solar term reminders, ritual checklists and protection alerts delivered before each shift."},fsMatrix:{badge:"Feng Shui Layout",title:"Celestial Star Matrix Design",subtitle:"Translate Flying Star charts into interior design that feels luxurious and performs like a precision instrument.",sections:[{key:"overview",dividerTitle:"Design Intelligence",dividerSubtitle:"Where aesthetics meets measurable qi",title:"Flying Star Interior Playbook",imageLabel:"Interior Energy Matrix",imageUrl:"/images/page-flying-star/flying-img-01.png",body:"Translate Flying Star charts into interior design that feels luxurious and performs like a precision instrument.",points:["Sector diagnostics with recommendations for layout, traffic flow and functional zoning.","Lighting, colour and material palettes tuned to annual, monthly and daily star dynamics.","Detailed handover packs for designers, contractors and stylists with measurements and specifications.","Quality assurance visits or video audits prior to handover to ensure compliance."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Design programs aligned for this matrix",title:"Showpiece Renovation & Interior Command Studios",imageLabel:"Design Momentum Map",imageUrl:"/images/page-flying-star/flying-img-02.jpg",body:"Best suited for architecture, interior and development teams integrating Flying Star intelligence into luxury refurbishments, showcase units and flagship residences.",points:["Luxury refurbishment labs translating annual, monthly and daily stars into structural, acoustic and material directives.","Developer showcase teams codifying compliance checklists, staging protocols and QA punchlists sector by sector.","Flagship residence designers orchestrating circulation choreography, sensory layers and amenity placement with energetic matrices."]},{key:"method",dividerTitle:"Design Workflow",dividerSubtitle:"How we collaborate with your creative team",title:"Co-Creation Delivery",imageLabel:"Design Studio Workflow",imageUrl:"/images/page-flying-star/flying-img-03.png",body:"We slot into your architect and interior ecosystem, providing metaphysical guardrails without stifling creativity.",points:["Kick-off workshops aligning vision, user journeys and energetic objectives.","Iterative design reviews overlaying star charts onto plans until aesthetics and qi align.","Installation supervision plus punch-list adjustments before client reveal."]},{key:"impact",dividerTitle:"Performance Outcomes",dividerSubtitle:"What owners and designers observe",title:"Awards, Sales, Wellbeing",imageLabel:"Design Impact",imageUrl:"/images/page-flying-star/flying-img-04.jpg",body:"Projects win design praise, sell faster and feel calmer because every detail echoes the star matrix.",points:["Show units and luxury residences achieve faster sell-through and premium pricing.","Occupants report improved focus, sleep and creative flow as sectors support key life roles.","Design approvals accelerate because energetic rationale is documented for stakeholders."]}],cta:{dividerTitle:"Design with Celestial Precision",dividerSubtitle:"Concept slots limited each quarter",title:"Commission a Star Matrix Design",message:"Share your architectural package, timelines and brand positioning so we can co-create the design roadmap.",primaryLabel:"Start My Design Brief",primaryHref:"/contact"},newsletterTitle:"Matrix Design Notes",newsletterSubtitle:"Star trend reports, palette inspirations and implementation tips for design teams."},fsEnergy:{badge:"Feng Shui Layout",title:"Energy Convergence Field",subtitle:"Fuse Feng Shui, Qi Men and numerology to craft a signature energetic identity for flagship homes, headquarters or hospitality icons.",sections:[{key:"overview",dividerTitle:"Signature Identity",dividerSubtitle:"Where space, timing and brand unite",title:"Convergence Masterplan",imageLabel:"Signature Energy Blueprint",imageUrl:"/images/page-land/land-img-01.jpg",body:"Fuse Feng Shui, Qi Men and numerology to craft a signature energetic identity for flagship homes, headquarters or hospitality icons.",points:["Holistic masterplan layering orientation, formation timing and numeric branding cues.","Launch, onboarding and VIP rituals codified to anchor the field in daily operations.","Audit of signage, pathways, scent and digital touchpoints to maintain convergence.","KPI dashboard aligning experiential goals with energetic metrics for leadership review."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Flagship environments optimised by this field",title:"Hospitality, Retail & Executive Signature Programs",imageLabel:"Signature Presence Map",imageUrl:"/images/page-land/land-img-02.jpg",body:"Reserved for hospitality groups, flagship retail portfolios and executive councils calibrating immersive ambience, loyalty economics and governance cadence through energetic convergence.",points:["Luxury hospitality groups programming guest journeys, amenity activation and service rituals against convergence diagnostics.","Flagship retail programmes synchronising experiential nodes, loyalty pathways and premium merchandising windows with energetic anchors.","Executive councils governing board deliberations, stakeholder diplomacy and confidential briefings within stabilised energy envelopes."]},{key:"method",dividerTitle:"Commission Process",dividerSubtitle:"How we partner from concept to handover",title:"Flagship Project Governance",imageLabel:"Commission Workflow",imageUrl:"/images/page-land/land-img-03.jpg",body:"We work alongside brand, architecture, HR and operations so the energetic identity becomes a living system, not a one-time ritual.",points:["Brand and experience diagnostics aligning story, scent, sound and movement with celestial archetypes.","Iterative convergence labs with cross-functional stakeholders to test rituals and wayfinding.","Training manuals and SOP integration so teams can uphold the field long after launch."]},{key:"impact",dividerTitle:"Signature Outcomes",dividerSubtitle:"Metrics owners track",title:"Presence, Loyalty, Revenue",imageLabel:"Signature Wins",imageUrl:"/images/page-land/land-img-04.jpg",body:"Spaces feel unforgettable, teams align faster and commercial metrics hold steady because the field anchors every interaction.",points:["Flagship venues record higher dwell time, repeat visitation and premium conversions.","Staff engagement and brand adherence scores climb as rituals embed culture.","Corporate suites report smoother negotiations and strategic clarity within the energy field."]}],cta:{dividerTitle:"Anchor Your Signature Field",dividerSubtitle:"Bespoke commissions by application",title:"Begin an Energy Convergence Commission",message:"Outline your property vision, guest journey and success metrics so we can map the convergence roadmap and stakeholders.",primaryLabel:"Submit Commission Brief",primaryHref:"/contact"},newsletterTitle:"Signature Field Signals",newsletterSubtitle:"Launch rituals, staff alignment practices and ambience maintenance notes for flagship spaces."},mmIching:{badge:"Magnetic Matrix",title:"I-Ching Energy Matrix",subtitle:"Turn volatile decisions into measured breakthroughs with I-Ching hexagram intelligence integrated into your strategy dashboard.",sections:[{key:"overview",dividerTitle:"Hexagram Intelligence",dividerSubtitle:"How guidance becomes execution",title:"Strategic Hexagram Playbook",imageLabel:"Hexagram Dashboard",imageUrl:"/images/page-iching/iching-img-01.png",body:"Turn volatile decisions into measured breakthroughs with I-Ching hexagram intelligence integrated into your strategy dashboard.",points:["Primary and relating hexagrams decoded into scenario storyboards and leadership cues.","Action plays for talent moves, partnerships and crisis pivots anchored to changing lines.","Decision calendar aligning upcoming choices with favourable hexagram phases.","Executive briefing sheets with rituals, communication angles and accountability prompts."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Decision environments stabilised by this matrix",title:"Strategic Command & Advisory Cells",imageLabel:"Decision Focus Map",imageUrl:"/images/page-iching/iching-img-02.png",body:"Designed for strategy offices, deal teams and chiefs-of-staff orchestrating multi-threaded initiatives that demand hexagram-governed decision cadence.",points:["Strategic advisory cells sequencing board deliberations, capital allocation and risk reviews by hexagram timetables.","Deal and partnership squads integrating line changes into negotiation playbooks, escalation routes and exit triggers.","Operational command centres coordinating crisis drills, comms protocols and resource hedging through matrix dashboards."]},{key:"method",dividerTitle:"Analytical Approach",dividerSubtitle:"How each reading stays rigorous",title:"Data-Backed Divination",imageLabel:"Hexagram Lab",imageUrl:"/images/page-iching/iching-img-03.png",body:"We triangulate classical texts, modern analytics and stakeholder interviews so the matrix feels precise and actionable.",points:["Multi-method casting to confirm the dominant hexagram narrative before prescribing moves.","Integration with BaZi and Zi Wei profiles to ensure personal resonance and timing alignment.","Encrypted delivery workspace with searchable transcripts, diagrams and action trackers."]},{key:"impact",dividerTitle:"Strategic Outcomes",dividerSubtitle:"What teams experience",title:"Clarity, Confidence, Control",imageLabel:"Decision Wins",imageUrl:"/images/page-iching/iching-img-04.png",body:"Leaders report faster decision cycles, fewer reversals and calmer teams when the I-Ching matrix guides the agenda.",points:["Key approvals land sooner because stakeholders see logical and energetic justification side by side.","Talent deployment improves as compatibility and timing cues prevent misaligned hires.","Crisis pivots become measured rather than reactive thanks to contingency hexagrams."]}],cta:{dividerTitle:"Install Your Hexagram Matrix",dividerSubtitle:"Strategy retainers filled by screening",title:"Book an I-Ching Advisory Session",message:"Share your decision horizon and team structure so we can architect the hexagram intelligence cadence.",primaryLabel:"Secure Advisory Window",primaryHref:"/contact"},newsletterTitle:"Hexagram Signals",newsletterSubtitle:"Changing-line alerts, decision rituals and leadership prompts before each critical window."},mmName:{badge:"Magnetic Matrix",title:"Name Destiny Code",subtitle:"Craft names that amplify destiny by synthesising numerology, BaZi resonance and phonetic magnetism.",sections:[{key:"overview",dividerTitle:"Naming Intelligence",dividerSubtitle:"Where story, sound and fate align",title:"Destiny Naming Playbook",imageLabel:"Name Resonance Map",imageUrl:"/images/page-name/name-img-01.jpg",body:"We audit existing identities, generate magnetic naming shortlists and deliver activation plans that align legal, commercial and metaphysical standards.",points:["Audit current names to locate energetic leakage, legal friction and pronunciation drag.","Curated shortlists with narrative positioning, phonetic analysis and numeric scoring.","Activation workflows covering legal change, launch rituals and communication rollout.","Brand tone, domain and social handle checks to ensure seamless adoption."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Where naming intelligence delivers the greatest lift",title:"Naming Command Cells",imageLabel:"Naming Governance Map",imageUrl:"/images/page-name/name-img-02.jpg",body:"Built for naming command cells that require measurable resonance across legal, phonetic and destiny governance.",points:["Brand and product launch councils aligning legal clearance, phonetic stress-testing and numerology governance for new ventures.","Renaming taskforces steering M&A integrations, reputation resets or crisis response while maintaining multi-market resonance.","Legacy naming commissions codifying heirloom frameworks, auspicious activation schedules and identity governance playbooks."]},{key:"method",dividerTitle:"Naming Methodology",dividerSubtitle:"How we engineer magnetism",title:"Data + Story + Destiny",imageLabel:"Naming Lab",imageUrl:"/images/page-name/name-img-03.jpg",body:"We merge linguistic science, numerology and destiny profiling so your name works legally, commercially and metaphysically.",points:["Stakeholder interviews to define archetype, market positioning and emotional tone.","Phonetic heat-mapping across key languages and dialects to avoid negative connotations.","Numerology alignment with personal or corporate charts including cycle timing recommendations."]},{key:"impact",dividerTitle:"Performance Outcomes",dividerSubtitle:"What clients notice post-launch",title:"Recognition, Conversion, Loyalty",imageLabel:"Naming Wins",imageUrl:"/images/page-name/name-img-04.jpg",body:"Names crafted through the Destiny Code pull audiences faster, stabilise internal identity and convert more efficiently.",points:["Brand recall and click-through metrics lift as names become easier to pronounce and remember.","Team pride and alignment improve when the name mirrors mission and destiny.","Legal and cross-border adoption smooths out because conflicts and unlucky codes are removed up front."]}],cta:{dividerTitle:"Author Your Signature Name",dividerSubtitle:"Naming commissions limited each cycle",title:"Start a Name Destiny Project",message:"Share your objectives, audience and timeline so we can assemble the research cell and delivery schedule.",primaryLabel:"Start Naming Brief",primaryHref:"/contact"},newsletterTitle:"Naming Intelligence Digest",newsletterSubtitle:"Phonetic trends, numerology tips and launch activation scripts delivered monthly."},mmSoul:{badge:"Magnetic Matrix",title:"Soul Number Blueprint",subtitle:"Synchronise your numerology with BaZi and Zi Wei to reveal life lessons, karmic debts and partnership chemistry you can operationalise.",sections:[{key:"overview",dividerTitle:"Numerology Intelligence",dividerSubtitle:"From insight to integration",title:"Soul Blueprint Portfolio",imageLabel:"Numerology Command Board",imageUrl:"/images/page-numerology/num-img-01.jpg",body:"We map core, destiny, soul and maturity numbers alongside celestial charts so your personal operating system is precise and actionable.",points:["Comprehensive reading of core, destiny, soul and maturity numbers with actionable guidance.","Compatibility matrix for partners, family members and key team roles.","Daily rhythm and environment prescriptions covering colours, directions and restorative rituals.","Quarterly checkpoints aligning personal goals with incoming numerology cycles."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Decision environments stabilised by this blueprint",title:"Numerology Strategy Cells",imageLabel:"Blueprint Alignment Map",imageUrl:"/images/page-numerology/num-img-02.jpg",body:"Built for numerology strategy cells that convert personal and partnership intelligence into operational cadence.",points:["Personal strategy offices translating life lessons, karmic debts and timing windows into adaptive roadmaps.","Leadership partnerships synchronising compatibility, rituals and shared sprints across business and personal arenas.","Wellness and coaching collectives aligning daily rhythm, environment design and accountability frameworks to personal numbers."]},{key:"method",dividerTitle:"Analytical Method",dividerSubtitle:"How the blueprint is assembled",title:"Cross-System Calibration",imageLabel:"Blueprint Lab",imageUrl:"/images/page-numerology/num-img-03.jpg",body:"We map numerology, BaZi and Zi Wei into a single dashboard so you know when to accelerate, pause or renegotiate.",points:["Data intake covering life milestones, relationships and health markers for pattern recognition.","Cross-validation of numbers against celestial charts to confirm supportive or conflicting influences.","Secure portal hosting visual dashboards, meditations and habit trackers to embed the blueprint."]},{key:"impact",dividerTitle:"Life and Business Outcomes",dividerSubtitle:"Changes clients report",title:"Alignment, Momentum, Peace",imageLabel:"Blueprint Results",imageUrl:"/images/page-numerology/num-img-04.jpg",body:"Clients move with more certainty, repair key relationships faster and enjoy steadier wellbeing once rhythms are aligned.",points:["Goal execution accelerates as personal timing windows replace random hustle.","Partnerships and teams stabilise because compatibility and conflict intervals are managed proactively.","Crisis pivots become measured rather than reactive thanks to contingency hexagrams."]}],cta:{dividerTitle:"Unlock Your Soul Blueprint",dividerSubtitle:"Consult slots open by application",title:"Book a Soul Number Intensive",message:"Outline your current transitions and relationship map so we can prepare the integrated numerology briefing.",primaryLabel:"Schedule Blueprint Session",primaryHref:"/contact"},newsletterTitle:"Soul Number Signals",newsletterSubtitle:"Monthly number forecasts, compatibility prompts and ritual reminders."},fsHome:{badge:"Feng Shui Assessment",title:"Home Destiny Compass",subtitle:"Transform your residence into a regenerative command centre tuned to every occupant's destiny signature.",sections:[{key:"overview",dividerTitle:"Inside the Audit",dividerSubtitle:"How we engineer a living sanctuary",title:"Celestial Habitat Blueprint",imageLabel:"Residential Energy Map",imageUrl:"/images/page-fs-home/home-img-01.png",body:"Transform your residence into a regenerative command centre tuned to every occupant's destiny signature.",points:["Hybrid onsite and digital survey layering landform, Flying Star and household BaZi intelligence.","Critical-room protocols covering wealth altars, wellness anchors, sleep optimisation and focus zones.","Annual retuning calendar with date-specific cures, activations and maintenance actions.","Curated remedy procurement list with vetted metals, crystals, water features and artisan suppliers."]},{key:"ideal",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Residential programs engineered for this audit",title:"Performance-Driven Residential Coalitions",imageLabel:"Family Alignment",imageUrl:"/images/page-fs-home/home-img-04.png",body:"Built for residential leadership cohorts requiring measurable wellness, protection and succession outcomes from their living environments.",points:["Multi-generational estates calibrating sleep suites, stewardship rooms and heritage zones to occupant BaZi matrices.","Portfolio residences staging relocation sequences, tenancy transitions and auspicious move-ins with energetic proofing.","Hybrid live-work sanctuaries balancing focus pods, childcare ecosystems and recovery rituals under one energetic framework."]},{key:"method",dividerTitle:"Professional Workflow",dividerSubtitle:"Why discerning families trust this audit",title:"Evidence-Based Feng Shui Process",imageLabel:"Fieldwork Protocol",imageUrl:"/images/page-fs-home/home-img-02.png",body:"From intake to post-audit coaching, every step is documented so you know precisely how each recommendation was produced.",points:["Pre-audit data room with questionnaires, floor plans, compass shots and occupant profiles.","Hybrid onsite and remote validation using laser measurements, drone imagery and Flying Star simulations.","Thirty day concierge support to monitor cures, answer practical questions and calibrate behaviour shifts."]},{key:"impact",dividerTitle:"Performance Outcomes",dividerSubtitle:"Metrics households report",title:"Health, Prosperity, Harmony",imageLabel:"Household Wins",imageUrl:"/images/page-fs-home/home-img-03.png",body:"Clients reference calmer households, healthier bodies and more consistent cashflow within months of implementation.",points:["Sleep quality, emotional tone and overall immunity stabilise within forty five days of bedroom rewiring.","Study and career efforts sharpen as personal sectors are aligned to supportive directions.","Receivables and savings ratios improve once wealth sectors are activated and clutter neutralised."]}],cta:{dividerTitle:"Upgrade Your Home Field",dividerSubtitle:"Private audit slots released each month",title:"Book a Home Destiny Assessment",message:"Share your floor plan, compass shots and family birth data so we can secure survey dates and prepare your bespoke evaluation dossier.",primaryLabel:"Schedule My Audit",primaryHref:"/contact"},newsletterTitle:"Home Energy Intelligence",newsletterSubtitle:"Seasonal layout tweaks, auspicious move-in windows and live transformation stories."},taiyiNumbers:{badge:"Imperial Oracle",title:"Celestial Tai Yi Strategy",subtitle:"Master the Celestial Map · Turn Time into Advantage.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"What this service delivers",title:"Imperial Strategy for Modern Decisions",imageLabel:"Tai Yi celestial command chart",imageUrl:"/images/page-taiyi/taiyi-img-01.jpg",body:"The Celestial Tai Yi Strategy is an advanced metaphysical consultation rooted in Tai Yi Shen Shu—the imperial art used to forecast shifts in destiny and power. It interprets where cosmic timing and human decision intersect so you know when to advance, when to pause, and where unseen opportunities are forming. Ancient celestial algorithms are translated into clear, actionable guidance for today."},{key:"insight",dividerTitle:"What Tai Yi Reveals",dividerSubtitle:"Precision timing intelligence",title:"Know the Rhythm Behind Every Move",imageLabel:"Celestial timing dashboard",imageUrl:"/images/page-taiyi/taiyi-img-02.jpg",body:"Tai Yi’s strength lies in timing clarity. It illuminates the landscape before events surface.",points:["Strategic Momentum: phases destined for expansion or consolidation.","Hidden Shifts: forces quietly shaping upcoming events and relationships.","Power Dynamics: windows where authority, wealth or influence align in your favour.","Turning Points: cycles where decisive action changes everything."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Heaven · Earth · Human alignment",title:"Decode the Cause-and-Timing Mechanism",imageLabel:"Tri-layer Tai Yi resonance model",imageUrl:"/images/page-taiyi/taiyi-img-03.jpg",body:"Using the Tai Yi celestial model, every person or organisation is mapped against cosmic cycles to expose resonance, imbalance and potential.",points:["Cycle cadence so you know when to accelerate and when to stabilise.","Clarity on the cause-and-timing chain that drives success or friction.","A practical timing strategy so every decision carries confidence."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From intake to execution",title:"Five Steps to Command Tai Yi Intelligence",imageLabel:"Tai Yi strategy workflow board",imageUrl:"/images/page-taiyi/taiyi-img-04.jpg",body:"A tightly sequenced workflow converts celestial intelligence into ready-to-apply guidance.",points:["Consultation Intake – clarify objectives across career, business or life decisions.","Tai Yi Charting – build the personal celestial layout through time mapping.","Cycle Interpretation – surface strategic windows and pivotal turning phases.","Strategic Briefing – receive a one-on-one explanation in precise, practical language.","Action Plan – take away tailored guidance covering timing, direction and decision flow."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Designed for inflection points",title:"For Leaders Who Refuse to Move Blindly",imageLabel:"Decision makers navigating change",imageUrl:"/images/page-taiyi/taiyi-img-05.jpg",body:"Ideal for anyone facing high-stakes transitions or mission-critical timing choices.",points:["Leaders and founders navigating strategic crossroads.","Investors identifying trend reversals or new cycles.","Professionals preparing significant career pivots.","Individuals who sense change and want to act with foresight."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you receive",title:"Leave with a Strategic Time Map",imageLabel:"Time-coded opportunity blueprint",imageUrl:"/images/page-taiyi/taiyi-img-06.jpg",body:"You receive a strategic map—not vague predictions, but a timeline of opportunities, risks and inflection points. Celestial Tai Yi Strategy gives you the rare advantage of timing so you act before events unfold and steer destiny instead of reacting to it."}],cta:{dividerTitle:"Ready to Anticipate the Unseen?",dividerSubtitle:"Reserve your Tai Yi command window",title:"Start Your Tai Yi Strategy Consultation",message:"Click to begin your personalised Tai Yi reading and uncover the rhythm behind destiny.",primaryLabel:"Start Your Tai Yi Strategy Consultation",primaryHref:"/contact"},newsletterTitle:"Tai Yi Strategy Dispatch",newsletterSubtitle:"Timing intelligence, cycle alerts and celestial briefings for decisive leaders."},sixRen:{badge:"Imperial Oracle",title:"The Divine Mechanism of Six Ren",subtitle:"See before it happens.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Strategic foresight in action",title:"Ancient Foresight, Modern Command",imageLabel:"Six Ren celestial decision grid",imageUrl:"/images/page-sixren/sixren-img-01.jpeg",body:"The Divine Mechanism of Six Ren is a high-level metaphysical strategy consultation derived from Liu Ren Shen Shu—the classical art generals used to forecast outcomes before action. It decodes the interplay between time, people and circumstance so you can navigate turning points, anticipate unseen factors and decide in rhythm with Heaven."},{key:"insight",dividerTitle:"What Six Ren Reveals",dividerSubtitle:"Structure behind the chaos",title:"Understand the Forces Shaping Tomorrow",imageLabel:"Hidden dynamics intelligence board",imageUrl:"/images/page-sixren/sixren-img-02.jpeg",body:"Six Ren exposes the pattern within apparent chaos so you can move decisively.",points:["Decision Timing: when to advance, pause or reposition.","Hidden Influences: people, trends and energies silently shaping results.","Crisis Indicators: subtle warnings before disruption takes hold.","Strategic Openings: unseen doors of opportunity ready to unlock momentum."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Heaven · Earth · Human interplay",title:"Read the Living Energy Chessboard",imageLabel:"Dynamic timing resonance map",imageUrl:"/images/page-sixren/sixren-img-03.jpeg",body:"Through Six Ren, every scenario becomes a living network of timing and energy flow. We observe how Heaven (timing), Earth (environment) and Human (decision) interact to pinpoint the moments where action converts into impact.",points:["Panoramic understanding of your current situation.","Advance awareness of how momentum will unfold.","A time-based action strategy tuned to the cycles ahead."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From discovery to deployment",title:"Five Steps to Harness Six Ren Intelligence",imageLabel:"Six Ren consultation workflow",imageUrl:"/images/page-sixren/sixren-img-04.jpeg",body:"A disciplined sequence transforms metaphysical insight into decisive guidance.",points:["Discovery Consultation – clarify context and primary goals.","Situation Mapping – chart timing, influence and power flows.","Cycle Interpretation – surface upcoming phases of rise, conflict and opportunity.","One-to-One Session – translate findings into plain, practical language.","Strategic Roadmap – deliver a time-backed execution plan with clear priorities."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Engineered for inflection points",title:"For Those Who Lead from Foresight",imageLabel:"Leaders sensing pivotal change",imageUrl:"/images/page-sixren/sixren-img-05.jpeg",body:"Designed for individuals and organisations who sense change and refuse to move blindly.",points:["Entrepreneurs planning expansion or investment.","Executives navigating competitive pressure.","Professionals charting significant career transitions.","Individuals seeking destiny clarity beyond coincidence."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you receive",title:"A Strategic Lens for Invisible Forces",imageLabel:"Invisible forces strategy map",imageUrl:"/images/page-sixren/sixren-img-06.jpeg",body:"You leave with a clear strategic lens—not vague prophecy. The Divine Mechanism of Six Ren equips you to anticipate outcomes, act at the right moment and neutralise risks before they form. It is built for decision-makers who know timing defines success."}],cta:{dividerTitle:"Ready to See the Invisible Strategy?",dividerSubtitle:"Reserve your Six Ren consultation",title:"Begin Your Six Ren Consultation",message:"Start your personalised session and master the rhythm of change.",primaryLabel:"Begin Your Six Ren Consultation",primaryHref:"/contact"},newsletterTitle:"Six Ren Strategy Dispatch",newsletterSubtitle:"Energy shifts, timing alerts and strategic counsel for anticipatory leaders."},qimen:{badge:"Strategic Warfare",title:"Arcane Strategy Matrix (Qi Men)",subtitle:"Deploy Qi Men Dun Jia formations that engineer breakthroughs in negotiations, launches and crisis response.",sections:[{key:"overview",dividerTitle:"Inside the Operation",dividerSubtitle:"How your formation is engineered",title:"Mission Architecture Intensive",imageLabel:"War-Room Console",imageUrl:"/images/page-qimen/qimen-img-01.png",body:"We harvest mission intelligence, chart doors, stars and deities, then convert the formation into tactical plays your team can execute within minutes.",points:["Objective scoping and competitive intel mapping before any chart is cast.","Custom formations specifying direction, personas, supportive elements and forbidden actions.","Scenario boards showing best, base and fail-safe manoeuvres for every stakeholder."]},{key:"methodology",dividerTitle:"Methodology & Toolset",dividerSubtitle:"How missions stay controlled",title:"Operational War-Lab",imageLabel:"Operations Lab",imageUrl:"/images/page-qimen/qimen-img-02.png",body:"Analysts, negotiators and risk specialists collaborate to ensure the celestial prescription translates into field-ready orders.",points:["Rapid-cycle charting with cross-validation against BaZi and Zi Wei intel for coherence.","Embedded risk matrix highlighting triggers, escalation ladders and extraction plans.","Encrypted mission briefings, recordings and command checklists for distributed teams."]},{key:"value",dividerTitle:"Strategic Advantage",dividerSubtitle:"What the matrix unlocks",title:"Asymmetric Advantage On Demand",imageLabel:"Tactical Edge Dashboard",imageUrl:"/images/page-qimen/qimen-img-03.png",body:"Synchronise timing, positioning and resource deployment so you seize the window while competitors are still guessing.",points:["Lock down exact launch windows, negotiation vectors and protective retreats by minute and bearing.","Reveal missing allies, experts or artefacts required to complete the formation and secure outcomes.","Keep mission morale and clarity high with scripted debriefs, rituals and reset protocols."]},{key:"audience",dividerTitle:"Ideal Beneficiaries",dividerSubtitle:"Operational theatres primed for Qi Men deployment",title:"High-Stakes Operations & Negotiation Cells",imageLabel:"Operations Team",imageUrl:"/images/page-qimen/qimen-img-04.png",body:"Purpose-built for mission-critical units executing market entries, negotiations and crisis manoeuvres that demand time-gated tactical intelligence.",points:["Expansion squads sequencing market launches, channel activations and site acquisitions against competitive pressure.","Deal and negotiation teams steering funding, M&A and regulatory settlements within compressed tactical windows.","Crisis response and security command centres orchestrating containment, countermeasures and resilience drills."]},{key:"deliverables",dividerTitle:"Deliverables",dividerSubtitle:"What your war-room receives",title:"Arcane Mission Kit",imageLabel:"Mission Kit",imageUrl:"/images/page-qimen/qimen-img-05.png",body:"Receive a war-room dossier, interactive battle maps and live rehearsals to stress-test every scenario before execution.",points:["Formation cards highlighting key roles, directional routes, power assets and blind spots.","Command brief recording plus annotated slides for rapid dissemination to field units.","Mission tracker with daily check-ins, contingency triggers and de-escalation protocols."]},{key:"results",dividerTitle:"Measured Impact",dividerSubtitle:"Operational outcomes clients cite",title:"Speed, Win Rate, Risk Control",imageLabel:"Tactical Results Board",imageUrl:"/images/page-qimen/qimen-img-06.png",body:"Teams deploying the Arcane Strategy Matrix report faster deal cycles, higher close rates and materially lower collateral damage.",points:["Negotiation cycles compress by 20–40% when aligned with prescribed doors and timings.","Critical launches see uplift in adoption and PR sentiment within the first week.","Crisis response teams contain reputational fallout faster while protecting executive stamina."]}],cta:{dividerTitle:"Deploy Your Arcane Matrix",dividerSubtitle:"Priority lanes for time-critical missions",title:"Activate Qi Men Command",message:"Provide mission objectives, stakeholders and deadlines so we can queue your operation and assemble the tactical cell.",primaryLabel:"Book Qi Men Briefing",primaryHref:"/contact"},newsletterTitle:"Tactical Window Alerts",newsletterSubtitle:"Formation alerts, field notes and mission debrief invitations straight to your operations inbox."}},CN:{bazi:{badge:"命运架构",title:"量子命盘智能（八字）",subtitle:"为董事会级领袖打造的八字情报，精准指挥资本、事业与家族布局。",sections:[{key:"overview",dividerTitle:"服务亮点",dividerSubtitle:"命运操作系统如何成形",title:"高阶命盘重塑工作坊",imageLabel:"八字指挥舱",imageUrl:"/images/page-bazi/Bazi-Img-01.png",body:"透过真太阳时校准、皇朝史料与现代数据，我们重建你的先天气场，并推演多组事业、财富与家庭场景。",points:["以真太阳时结合清宫与 NASA 历法完成精准排盘。","情境建模将五行经济转换为现金流、影响力与身心恢复策略。","差距分析直接转译为资源配置、时间排程与行为调整。"]},{key:"methodology",dividerTitle:"方法论与工具组",dividerSubtitle:"为何值得高级预算投入",title:"研究室＋策略战情室",imageLabel:"方法论中枢",imageUrl:"/images/page-bazi/Bazi-Img-02.png",body:"双分析师交叉古籍、六爻校验与专属评分模型，让报告像作战手册而非星座故事。",points:["双人复核，整合皇室典籍与现代决策数据。","量化机会矩阵，对产业、商业模式与关系角色进行排序。","专属安全工作区，集中证据、简报与后续修订。"]},{key:"value",dividerTitle:"战略价值",dividerSubtitle:"高成长领袖为何信赖",title:"时机・位势・杠杆",imageLabel:"战略动能仪表",imageUrl:"/images/page-bazi/Bazi-Img-03.png",body:"每项建议皆同时检视本命、大运与流年，确保你抓住能量高点并避开暗潮。",points:["掌握季度扩张、融资或回收的最佳窗口。","提前定位合作、形象与监管风险，并提供对策。","将人才 archetype 转换为招募条件、激励设计与接班梯队。"]},{key:"audience",dividerTitle:"适合对象",dividerSubtitle:"算法发挥最大杠杆的场景",title:"资本调度与领导承接体系",imageLabel:"领袖核心圈",imageUrl:"/images/page-bazi/Bazi-Img-04.png",body:"适用于掌管资本速度、接班布局与战略转向的高阶团队，需要以量化八字情报统筹决策。",points:["多实体创办人／投资人，统筹募资节奏、退出窗口与治理轮替。","家族办公室，建立接班、托管授权与跨世代资产配置框架。","执行董事会，校准招募、激励与健康保障，使长期周期分析落地。"]},{key:"deliverables",dividerTitle:"交付成果",dividerSubtitle:"你将获得什么",title:"天时战略组合包",imageLabel:"情报组合包",imageUrl:"/images/page-bazi/Bazi-Img-05.png",body:"交付 140+ 页情报手册、可视化仪表与专属讲解，确保古老智慧即时落地。",points:["天赋、变现通道、韧性杠杆与关系战略的综合评分。","包含吉时、风险与对策的行事历，让执行有据可循。","为伴侣、家人与关键团队提供同步建议，保持整体节奏一致。","专属录音、文字稿与补充说明存放于安全工作区。"]},{key:"results",dividerTitle:"验证成效",dividerSubtitle:"客户回馈的关键指标",title:"商业增长 + 生活稳态",imageLabel:"成效仪表板",imageUrl:"/images/page-bazi/Bazi-Img-06.png",body:"上线后客户普遍反馈：执行更快、用人更稳、生活更有韧性。",points:["依指引推出的战略项目平均提前 20–35% 达成营收目标。","团队角色与沟通框架同步后，高管冲突大幅下降。","90 天内，睡眠、家庭互动与灵感指数显著回升。"]}],cta:{dividerTitle:"锁定专属时窗",dividerSubtitle:"每月限量八字专案",title:"启动量子命盘指挥",message:"提交目标、时间线与团队结构，抢先占位。我们维持小型名额以确保深度。",primaryLabel:"预约战略通话",primaryHref:"/contact"},newsletterTitle:"同步天时脉动",newsletterSubtitle:"每月接收吉时提醒、资本布局与身心优化建议。"},ziwei:{badge:"帝星前瞻",title:"帝星图鉴指挥",subtitle:"以紫微斗数剖析声望、联盟与传承周期，为公众领袖提供统筹方案。",sections:[{key:"overview",dividerTitle:"图鉴核心",dividerSubtitle:"帝星如何为你建模",title:"星宫全景稽核",imageLabel:"帝星指挥台",imageUrl:"/images/page-zimei/zimei-img-01.png",body:"我们绘制每一宫位、星曜与飞化，揭示权力、财富与声望涨落的关键战场。",points:["解析主星、辅星与暗星的飞化密码，锁定影响力、财富与传承杠杆。","标示跨宫互动对发声、合作与舆论温度的影响机制。","辨识暗助、潜在对手与能量消耗点，指导如何调度。"]},{key:"methodology",dividerTitle:"方法论与工具组",dividerSubtitle:"确保帝星精度的流程",title:"星象情报实验室",imageLabel:"帝星情报中心",imageUrl:"/images/page-zimei/zimei-img-02.png",body:"星象分析团队整合紫微经典、声誉数据与幕僚访谈，产出机密而可执行的指挥手册。",points:["多盘同步（本命、大限、流年、关键人物）确保信息一致。","结合舆情、媒体与利益关系的影响力热度图。","针对幕僚与发言人提供匿名化摘要与执行框架。"]},{key:"value",dividerTitle:"战略价值",dividerSubtitle:"帝星图鉴如何放大势能",title:"声誉资本引擎",imageLabel:"影响力轨迹板",imageUrl:"/images/page-zimei/zimei-img-03.png",body:"掌握何时抬轿、谈判、传承或策略性退场，同时守护品牌资产。",points:["选择最佳月份发布演说、上市、联盟或公益计划。","提前识别声誉风险区，并搭配话术、仪轨与空间调理。","安排辅导、接班与家族治理，在天时支持期推进。"]},{key:"audience",dividerTitle:"适合对象",dividerSubtitle:"需以帝星情报治理杠杆的角色",title:"声誉指挥与承传治理委员会",imageLabel:"帝星议会",imageUrl:"/images/page-zimei/zimei-img-04.png",body:"服务需要精细掌握影响力周期、联盟稳固度与承传风险的公众核心与顾问团队。",points:["国家／公共领袖与品牌代言人，调度曝光、联盟与危机姿态。","家族办公室理事会，设计承传、慈善与外交项目。","企业声誉与公关策略团队，统筹多周期的叙事与阵列。"]},{key:"deliverables",dividerTitle:"交付成果",dividerSubtitle:"你将带回宫廷的情报",title:"帝星指挥组合包",imageLabel:"帝星简报册",imageUrl:"/images/page-zimei/zimei-img-05.png",body:"交付电影般的情报图册、影响力仪表板与私人顾问会议，专供核心幕僚使用。",points:["120+ 页图册涵盖宫位诊断、影响力杠杆、竞争态势与忠诚度指标。","接班与声誉剧本，附启用日期、关键信息与仪式支持。","季度监控模板，协助幕僚与传播团队锁定执行节奏。"]},{key:"results",dividerTitle:"验证成效",dividerSubtitle:"帝星客户的成果",title:"能见度・信任・延续",imageLabel:"帝星成效图",imageUrl:"/images/page-zimei/zimei-img-06.png",body:"客户回报更平顺的交接、更强的盟友支援与更高的品牌引力。",points:["与吉时相符的活动，媒体与受众互动显著提升。","依据帝星规划的接班路线，冲突与流失大幅降低。","当讯息与宫位能量对齐时，利益相关者信心与舆论调性快速转正。"]}],cta:{dividerTitle:"领取帝星图鉴",dividerSubtitle:"锁定机密紫微咨询窗口",title:"委任帝星指挥",message:"提交目标、关键关系与保密需求，即可进入帝星排程。我们维持小量名额确保深度与隐私。",primaryLabel:"预约帝星咨询",primaryHref:"/contact"},newsletterTitle:"保持帝星轨道",newsletterSubtitle:"定期接收影响力提醒、联盟案例与声誉洞察。"},fsHome:{badge:"风水评估",title:"宅运罗盘",subtitle:"把住所打造为与全家命盘共振的能量指挥中心。",sections:[{key:"overview",dividerTitle:"服务亮点",dividerSubtitle:"我们如何打造居家圣域",title:"宅运能量蓝图",imageLabel:"住宅气场图",imageUrl:"/images/page-fs-home/home-img-01.png",body:"把住所打造为与全家命盘共振的能量指挥中心。",points:["结合现场勘查与云端分析，整合形峦、飞星与家庭成员八字。","围绕财富、健康、睡眠与专注区，制定核心空间的操作规范。","提供全年调整日历，明确何时化煞、催旺与维护。","附上精选化煞与催旺物料清单，含可信的金属、晶石、水景与匠人资源。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合导入宅运评估的家庭结构",title:"多代共居・资产组合・混合工作宅",imageLabel:"家庭对位",imageUrl:"/images/page-fs-home/home-img-04.png",body:"服务需要量化家居绩效的家庭领导者，确保健康、财务与承传目标都能在空间中落地。",points:["多代共居与照护架构：区分养护、睡眠与资源指挥区，让成员各得其所。","资产组合住宅：规划迁入、租赁与交接流程，在每个关键节点维持吉时与气场。","混合工作宅：整合专注模块、育儿支持与复原仪式，维持高强度生活与事业节奏。"]},{key:"method",dividerTitle:"专业流程",dividerSubtitle:"为何高端家庭指定此服务",title:"证据化的风水工作法",imageLabel:"勘查流程",imageUrl:"/images/page-fs-home/home-img-02.png",body:"从资料蒐集到实施辅导，全程留痕，让你清楚知道每个建议的依据。",points:["审前资料库包含问卷、平面图、罗盘照与成员资料。","结合现场丈量、航拍影像与飞星模拟确认每个落点。","三十天顾问随行，追踪化煞效果、解答疑问并调整生活习惯。"]},{key:"impact",dividerTitle:"成效验证",dividerSubtitle:"客户共同的指标",title:"健康・财气・和谐同步",imageLabel:"家庭成果",imageUrl:"/images/page-fs-home/home-img-03.png",body:"多数家庭在数月内明显感受到情绪稳定、收入稳定与家庭氛围升级。",points:["卧室优化四十五天后，睡眠品质与免疫状态显著提升。","学习与事业区对位吉方，孩子与大人专注力明显提高。","财富位催旺后，回款周期缩短，储蓄比率上升。"]}],cta:{dividerTitle:"升级你的居家能场",dividerSubtitle:"每月限量实地档期",title:"预约宅运评估",message:"提交平面图、罗盘资料与家庭成员信息，我们将锁定勘察日期并准备专属报告。",primaryLabel:"预约宅运诊断",primaryHref:"/contact"},newsletterTitle:"宅运情报站",newsletterSubtitle:"季节布局提示、搬迁吉时与真实案例即时送达。"},fsOffice:{badge:"风水评估",title:"权势办公格局",subtitle:"以高精度风水与奇门时门武装办公空间，打造不掉线的营收底盘与企业文化。",sections:[{key:"overview",dividerTitle:"项目亮点",dividerSubtitle:"为每层楼注入战斗力",title:"绩效楼层总蓝图",imageLabel:"企业能量网格",imageUrl:"/images/page-fs-office/office-img-01.png",body:"以高精度风水与奇门时门武装办公空间，打造不掉线的营收底盘与企业文化。",points:["将决策核心布置于权力旺位，强化决策速度与执行定力。","销售、市场与创新团队按照时门节奏排兵布阵，提升管线流速。","把招募、启用与留才仪式融入空间动线，让文化自然展开。","提供年度调频与装修治理准则，确保动工期间不失控。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合导入此审计的营运场景",title:"高速扩张楼层指挥体系",imageLabel:"能量布局策略",imageUrl:"/images/page-fs-office/office-img-02.png",body:"服务高速成长的企业、基金与领导团队，以高精度空间模型统筹营收底盘、治理节奏与人才动线。",points:["高速营收楼层：针对领导、营收与赋能核心进行时门布阵，稳定流水与节奏。","投资与风投工作室：统筹尽调战情室、分析工位与投资者接待动线。","变革指挥中心：规划装修、临时办公与合规节点，确保项目不中断。"]},{key:"method",dividerTitle:"专业方法论",dividerSubtitle:"项目如何控管",title:"企业级交付流程",imageLabel:"企业审查手册",imageUrl:"/images/page-fs-office/office-img-03.png",body:"以资本项目的严谨度执行，从访谈、建模到落地都有记录可循。",points:["与高层、HR、总务与品牌部门深度访谈，确认可量化目标。","建立数位双生模型，叠加飞星、奇门时门与人流热区。","提供施工与运营团队的执行手册与稽核清单。"]},{key:"impact",dividerTitle:"成效指标",dividerSubtitle:"客户实际反馈",title:"营收韧性・团队黏着",imageLabel:"企业成果",imageUrl:"/images/page-fs-office/office-img-04.png",body:"导入后一个季度内即可看到业绩稳定、协作顺畅与士气提升。",points:["销售管线稳定上扬，季度波动明显收窄。","座位与导师配置对位吉方，关键人才留任率提升。","会议与协作空间优化后，跨部门合作评分持续走高。"]}],cta:{dividerTitle:"掌控权势楼层",dividerSubtitle:"企业顾问排程优先制",title:"预约办公能量简报",message:"提供平面图、成长目标与变革计划，我们将预留档期并拟定专案范围。",primaryLabel:"预约对接",primaryHref:"/contact"},newsletterTitle:"旺场节奏快讯",newsletterSubtitle:"启动吉时、空间改造与董事会议程仪式即时送达。"},fsDragon:{badge:"风水评估",title:"龙脉圣图",subtitle:"在开工之前追踪龙脉、护砂与水口，为千秋基业挑选能量旺地。",sections:[{key:"overview",dividerTitle:"勘察亮点",dividerSubtitle:"动土前先读地",title:"龙脉实勘报告",imageLabel:"地形情报图",imageUrl:"/images/page-fs-dragon/dragon-img-01.png",body:"在开工之前追踪龙脉、护砂与水口，为千秋基业挑选能量旺地。",points:["结合航拍、卫星与罗盘，逐一巡检候选基地的山水格局。","建立吉凶评分矩阵，量化财富、健康、安全与传承潜力。","规划出入口、水景与道路，让气流顺利聚合并长久维持。","附上土质、法规与长期养气维护的完整备忘录。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合导入龙脉勘察的资本布局",title:"开发旗舰・度假集群・承传庄园",imageLabel:"龙脉择地策略",imageUrl:"/images/page-fs-dragon/dragon-img-02.png",body:"为大型开发计划、顶级度假资产与多世代家族所设，在投入资金前取得可验证的地理能量情报。",points:["新城镇、综合度假村等长期项目，验证聚气、护砂与水系治理图谱。","机构土地银行，评估法规通过率、投资者观感与分期启用节奏。","家族庄园与承传资产，规划祖祠、纪念轴线与世代守护设施。"]},{key:"method",dividerTitle:"勘察方法",dividerSubtitle:"每一次外勤如何控管",title:"地形情报工作手册",imageLabel:"勘查流程",imageUrl:"/images/page-fs-dragon/dragon-img-03.png",body:"团队融合经典堪舆、地理科技与可行性分析，给出经得起检验的建议。",points:["出队前与规划、法务与环评团队对齐目标与限制。","多日外勤测绘山水走向、风口与环境压力点。","产出图像、视频与投资等级建议，直接提供决策层使用。"]},{key:"impact",dividerTitle:"投资成果",dividerSubtitle:"客户普遍回馈",title:"稳定・护持・荣耀",imageLabel:"地形成果",imageUrl:"/images/page-fs-dragon/dragon-img-04.png",body:"依圣图行事的项目在审查、融资与社区沟通上更顺畅。",points:["旗舰项目凭借天赐地势，客流稳定、溢价能力强。","家族宅邸落在和谐龙脉上，成员健康与关系稳定提升。","因前期规划水系与养气策略，长期维护成本明显降低。"]}],cta:{dividerTitle:"锁定龙脉勘察",dividerSubtitle:"每季限量外勤档期",title:"申请龙脉考察",message:"提供地段坐标、地形资料与开发愿景，我们将规划勘察范围与团队。",primaryLabel:"安排实地勘查",primaryHref:"/contact"},newsletterTitle:"地形情报速递",newsletterSubtitle:"掌握择地案例、购地天窗与长期养气秘诀。"},fsCycle:{badge:"风水布局",title:"三元九运",subtitle:"顺着二十四节气调整风水布局，让空间与气场四季同频而不被拖累。",sections:[{key:"overview",dividerTitle:"季度手册",dividerSubtitle:"每一季的关键部署",title:"节气同步蓝图",imageLabel:"节气策略图",imageUrl:"/images/page-3core/3Core-Img-01.png",body:"顺着二十四节气调整风水布局，让空间与气场四季同频而不被拖累。",points:["提供财富、健康、防护与关系方位的季节性调校计划。","与家庭或团队行程整合，让仪式与调整自然落地。","附上香氛、色彩、饮食与行动指南，让五行平衡有据可依。","准备沟通手册，让成员理解每次调整的意义与注意事项。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合导入此季节守护的团队",title:"家庭节律委员会・企业节拍小组",imageLabel:"节律协同蓝图",imageUrl:"/images/page-3core/3Core-Img-02.png",body:"服务全年维持动能的家庭与领导团队，以制度化季度校准，确保健康、营收与防护随节气同频。",points:["家庭节律小组：统筹仪式、休憩与防护布署，让成员随节气调频。","企业节拍委员会：把产品冲刺、资本操作与防护窗口对齐季节气场。","园区／社区管理人：季度通报住户、准备物资并记录干预执行情况。"]},{key:"method",dividerTitle:"落实机制",dividerSubtitle:"每季如何执行",title:"节律守护系统",imageLabel:"节律控制台",imageUrl:"/images/page-3core/3Core-Img-03.png",body:"我们提供完整节奏：季前简报、落实清单、巡检到复盘，让调整不散乱。",points:["季前说明会，交代本季主题、仪式与衡量指标。","执行清单涵盖摆设调整、物资采购与行为提醒。","季中巡检与季末复盘，附行动日志与指标仪表板。"]},{key:"impact",dividerTitle:"成果验证",dividerSubtitle:"客户常见反馈",title:"节奏・营收・复原力",imageLabel:"季节成果",imageUrl:"/images/page-3core/3Core-Img-04.png",body:"随着空间与节令同步，能量更稳、健康起伏更少、现金流更可预测。",points:["家庭健康与情绪波动下降，因为作息配合五行能量。","配合节气推出的活动与项目，达成率明显高于往年。","团队倦怠感下降，因定期内建复原仪式。"]}],cta:{dividerTitle:"抢占季节先机",dividerSubtitle:"季度顾问名额有限",title:"订阅节律守护计划",message:"告诉我们现有布局、年度目标与资源配置，我们将设计节气干预路线。",primaryLabel:"启动季度守护",primaryHref:"/contact"},newsletterTitle:"节气情报",newsletterSubtitle:"即时掌握节气提醒、仪式清单与防护预警。"},fsMatrix:{badge:"风水布局",title:"飞星矩阵设计",subtitle:"把飞星盘化成兼具奢华美感与精准能量表现的室内设计。",sections:[{key:"overview",dividerTitle:"设计情报",dividerSubtitle:"美感与能量同步",title:"飞星室内攻略",imageLabel:"室内能量矩阵",imageUrl:"/images/page-flying-star/flying-img-01.png",body:"把飞星盘化成兼具奢华美感与精准能量表现的室内设计。",points:["逐宫提供布局、动线与机能分区建议。","灯光、色彩与材质组合依年度、月度乃至日柱飞星调配。","为设计师、承包商与软装团队准备含尺寸的执行文件。","交付前复检（现场或远程），确保每项细节符合能量要求。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合导入此矩阵的设计项目",title:"旗舰整装・样板指挥・豪宅室内实验室",imageLabel:"设计动能地图",imageUrl:"/images/page-flying-star/flying-img-02.jpg",body:"服务建筑、室内与开发团队，把飞星情报融入顶级翻修、样板工程与豪宅室内设计，以兼顾美感与性能。"},{key:"method",dividerTitle:"协作流程",dividerSubtitle:"如何与设计团队共创",title:"共创式交付",imageLabel:"设计协作流程",imageUrl:"/images/page-flying-star/flying-img-03.png",body:"与建筑师、室内团队紧密协作，在不压制创意的前提下提供玄学护栏。",points:["启动工作坊，统一愿景、用户旅程与能量目标。","按阶段审阅图面，将飞星图层叠加至设计方案。","施工与陈设阶段提供现场或远程监造与微调。"]},{key:"impact",dividerTitle:"成果反馈",dividerSubtitle:"业主与设计师的观察",title:"奖项・销售・舒适",imageLabel:"设计成果",imageUrl:"/images/page-flying-star/flying-img-04.jpg",body:"在矩阵护航下，作品兼具奖项质感、销售速度与生活舒适度。",points:["样板房与豪宅更快售出且溢价更高。","居住者在专注、睡眠与灵感上明显受益。","有完整能量说明，设计方案更易取得审批。"]}],cta:{dividerTitle:"以天星精准设计",dividerSubtitle:"每季限量概念名额",title:"委托飞星矩阵设计",message:"提供建筑资料、时程与品牌定位，我们将共创专属设计路线。",primaryLabel:"开启设计简报",primaryHref:"/contact"},newsletterTitle:"矩阵设计笔记",newsletterSubtitle:"飞星趋势、配色灵感与施工要点一次掌握。"},fsEnergy:{badge:"风水布局",title:"能域汇聚场",subtitle:"融合风水、奇门与数理，为旗舰住宅、总部或酒店打造不可复制的能量标识。",sections:[{key:"overview",dividerTitle:"标志氛围",dividerSubtitle:"空间・时机・品牌一次到位",title:"汇聚总蓝图",imageLabel:"标志能量图",imageUrl:"/images/page-land/land-img-01.jpg",body:"融合风水、奇门与数理，为旗舰住宅、总部或酒店打造不可复制的能量标识。",points:["整合方位、阵法时序与数理品牌的整体规划。","设计开幕、员工启动与 VIP 体验的日常仪式。","全面检视动线、指示、香氛与数位触点，让能量持续汇聚。","建立 KPI 仪表，让管理层以能量与商业双指标追踪。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最能放大能域汇聚成效的场域",title:"酒店旗舰・零售地标・高层指挥中心",imageLabel:"标志动能地图",imageUrl:"/images/page-land/land-img-02.jpg",body:"专为酒店集团、旗舰零售与高层会议中心打造，以能量汇聚工程稳固沉浸体验、忠诚收益与治理节奏。",points:["豪华酒店：以能量板块规划宾客旅程、服务动线与仪式级体验。","旗舰零售地标：同步橱窗节奏、体验节点与会员循环，提升客单与停留时间。","董事／指挥中心：在高压谈判、战略沟通与闭门会议中维持稳定能场。"]},{key:"method",dividerTitle:"委案流程",dividerSubtitle:"从概念到交接的全程陪伴",title:"旗舰专案治理",imageLabel:"委案流程",imageUrl:"/images/page-land/land-img-03.jpg",body:"与品牌、建筑、HR 与营运团队并肩合作，让能量标识成为日常系统。",points:["解析品牌故事、嗅觉、声场与动线，确保与天象原型对齐。","举办跨部门共创工作坊，测试仪式、导视与顾客旅程。","编写培训手册与 SOP，让团队在开幕后也能维护能场。"]},{key:"impact",dividerTitle:"成效验证",dividerSubtitle:"业主持续追踪的指标",title:"存在感・忠诚度・收益",imageLabel:"标志成果",imageUrl:"/images/page-land/land-img-04.jpg",body:"空间令人难忘、团队价值观更一致，商业指标也随之稳健。",points:["旗舰场所的停留时间、回访率与高价转化显著提升。","仪式融入文化后，员工参与感与品牌遵循度持续走高。","企业会客区在能场护持下，谈判与策略沟通更顺畅。"]}],cta:{dividerTitle:"锚定专属能场",dividerSubtitle:"量身定制采申请制",title:"启动能域汇聚委案",message:"说明物业愿景、嘉宾旅程与成功指标，我们将规划汇聚路线与关键参与者。",primaryLabel:"提交委案简报",primaryHref:"/contact"},newsletterTitle:"能场情报",newsletterSubtitle:"掌握启动仪式、团队对齐与氛围维护的方法。"},mmIching:{badge:"磁场矩阵",title:"易经能量矩阵",subtitle:"让关键抉择化为可控突破，把易经卦象智慧植入你的战略仪表。",sections:[{key:"overview",dividerTitle:"卦象情报",dividerSubtitle:"从启示到执行",title:"战略卦象手册",imageLabel:"卦象仪表板",imageUrl:"/images/page-iching/iching-img-01.png",body:"让关键抉择化为可控突破，把易经卦象智慧植入你的战略仪表。",points:["解析本卦与互卦，转化为情境剧本与领导指令。","依据动爻制定用人、合作与危机转向的行动方案。","建立决策行事历，让重大选择踩在有利卦运上。","附上仪式、沟通与责任分配表，确保执行到位。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合部署卦象矩阵的决策团队",title:"战略指挥・交易谈判・幕僚决策体系",imageLabel:"决策动能地图",imageUrl:"/images/page-iching/iching-img-02.png",body:"服务统筹多线任务的策略长、交易团队与幕僚体系，让卦象情报化为固定的决策节奏。",points:["战略顾问局：规划董事会议程、资本配置与风险审查的周期化节奏。","交易／合作小组：将动爻结果植入谈判脚本、升级路径与退出触发器。","运营指挥中心：以卦象矩阵协调危机演练、沟通流程与资源调度。"]},{key:"method",dividerTitle:"分析方法",dividerSubtitle:"如何确保精准",title:"数据化卦象分析",imageLabel:"卦象实验室",imageUrl:"/images/page-iching/iching-img-03.png",body:"结合经典文献、现代数据与团队访谈，让矩阵既精准又可执行。",points:["多重占算确认主轴后再提出建议，避免偏误。","与八字、紫微档案交叉验证，确保人事与时机同频。","提供加密平台，存放逐字稿、图像与任务追踪表。"]},{key:"impact",dividerTitle:"战略成果",dividerSubtitle:"团队实际反馈",title:"清晰・信心・掌控",imageLabel:"决策成果",imageUrl:"/images/page-iching/iching-img-04.png",body:"导入后，决策更快定案、反复更少，团队情绪更稳。",points:["兼顾逻辑与能量，关键提案更容易取得审批。","职位与用人决定更稳定，避免不合时宜的聘任。","危机转向有预案，行动不再仓皇。"]}],cta:{dividerTitle:"部署卦象矩阵",dividerSubtitle:"策略顾问需先筛选排程",title:"预约易经顾问会议",message:"说明决策周期与团队配置，我们将规划卦象情报节奏。",primaryLabel:"锁定顾问时段",primaryHref:"/contact"},newsletterTitle:"卦象情报",newsletterSubtitle:"第一时间掌握动爻提醒、决策仪式与领导提示。"},mmName:{badge:"磁场矩阵",title:"姓名命势代码",subtitle:"融合数理、八字共振与语音磁场，打造放大命运的专属姓名。",sections:[{key:"overview",dividerTitle:"命名情报",dividerSubtitle:"故事・音韵・命势的交汇",title:"命势命名攻略",imageLabel:"姓名共振图",imageUrl:"/images/page-name/name-img-01.jpg",body:"检视现用姓名、生成磁性命名清单，并提供落地计划，让名字在法规、商业与能量层面同时通关。",points:["检视现用姓名，找出能量流失、法律风险与发音阻力。","提供具故事性、音韵分析与数理评分的精选名单。","规划法律手续、启用仪式与对外沟通脚本。","同步评估网址、社交帐号与品牌资产，避免落差。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最能放大命势命名成效的团队",title:"命势命名指挥单元",imageLabel:"命名治理图",imageUrl:"/images/page-name/name-img-02.jpg",body:"服务品牌、产品与传承命名团队，以数理＋命盘＋法务架构打造高共鸣姓名。",points:["品牌／产品命名委员会：同步法务检索、语音测试与数理治理，确保新计划一次到位。","改名／并购整合小组：跨市场完成声誉重整、危机应对或整并统一。","家族与传承命名委员会：建立世袭架构、启用吉时与身份治理手册。"]},{key:"method",dividerTitle:"命名方法论",dividerSubtitle:"我们如何打造磁性名字",title:"数据 × 故事 × 命运",imageLabel:"命名实验室",imageUrl:"/images/page-name/name-img-03.jpg",body:"结合语言科学、数理与命盘分析，让名字在法规、商业与能量层面都能通关。",points:["访谈利害关系人，厘清品牌 archetype、市场定位与情绪基调。","针对主要语言与口音进行音声热力图，避开负面联想。","与个人或企业命盘对齐，并配合时运给予启用建议。"]},{key:"impact",dividerTitle:"成果体现",dividerSubtitle:"客户上线后的感受",title:"辨识・转化・忠诚",imageLabel:"命名成果",imageUrl:"/images/page-name/name-img-04.jpg",body:"透过命势代码锻造的名字，更容易被记住、被喜欢，也更能凝聚团队。",points:["品牌记忆度与点击率提升，因为名字好读又好记。","团队认同感增强，因为名字贴近使命与命势。","跨国与法律落地更顺畅，因事前排除冲突与不吉数。"]}],cta:{dividerTitle:"写下你的专属名号",dividerSubtitle:"命名委案采限量制度",title:"启动命势命名计画",message:"说明目标受众、用途与时程，我们将规划研究小组与交付排程。",primaryLabel:"开始命名简报",primaryHref:"/contact"},newsletterTitle:"命名情报站",newsletterSubtitle:"掌握音韵趋势、数理精选与启用仪式脚本。"},taiyiNumbers:{badge:"帝皇天策",title:"乾坤太乙策",subtitle:"洞察天机 · 掌握乾坤先机",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"太乙为何能定乾坤",title:"帝师级战略洞察",imageLabel:"太乙天盘策略图",imageUrl:"/images/page-taiyi/taiyi-img-01.jpg",body:"《乾坤太乙策》源自《太乙神数》——帝师以此观星筹谋、推演权势走势。它解析“天时”与“人事”相交之处，告诉你何时出击、何时退守、哪里潜藏机会，让古老的天机成为现代决策的行动指南。"},{key:"insight",dividerTitle:"太乙能揭示什么",dividerSubtitle:"以时间掌控局势",title:"未动先知的战略透视",imageLabel:"天时节奏洞察板",imageUrl:"/images/page-taiyi/taiyi-img-02.jpg",body:"太乙的核心是“知时而动”，在事件发生之前看清局势。",points:["战略节奏：哪些阶段宜攻、哪些阶段宜守。","潜在变局：谁或什么正在暗中推动局势。","能量格局：财富、权力、人脉何时自动聚合。","命运转折：关键年份、月令能否逆转与突破。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"天·地·人三才同参",title:"看见成败的时间逻辑",imageLabel:"三层太乙共振模型",imageUrl:"/images/page-taiyi/taiyi-img-03.jpg",body:"太乙以天、地、人三才模型，将个人或企业置于宇宙周期中推演共振与失衡，不算运气，只算成败背后的时间链。",points:["掌握周期节奏，明白何时加速、何时沉稳。","理解成败因果链，不再盲目等待或碰运气。","收获可执行的时间策略，让每一步更有底气。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"五步完成太乙推演",title:"从洞察到行动的全链路",imageLabel:"太乙策略流程板",imageUrl:"/images/page-taiyi/taiyi-img-04.jpg",body:"严谨的步骤把天机洞察转化为可立即应用的决策指令。",points:["初步沟通：厘清目标与当前困境（事业、财富、重大决策）。","太乙排局：绘制专属天盘运行图，掌握命运格局。","周期解读：拆解关键周期与可操作时机。","策略讲解：一对一说明，直接告诉你怎么做、何时动。","行动方案：交付时间、方向与决策顺序的专属规划。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键阶段的最佳助手",title:"给不愿盲走的决策者",imageLabel:"关键抉择的领导团队",imageUrl:"/images/page-taiyi/taiyi-img-05.jpg",body:"适合正处于高风险转折或重大时间节点的人。",points:["正在做战略抉择的管理者与企业家。","关注周期转势的投资人。","准备转型或跃迁的职场精英。","感知变化、想提前布局的行动派。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"带走的不是预测",title:"掌握时间主导权",imageLabel:"时间编码决策图",imageUrl:"/images/page-taiyi/taiyi-img-06.jpg",body:"你得到的是一份时间战略图——清楚列出机会、挑战与拐点，帮助你提前布局、主动出击。《乾坤太乙策》让你掌握时间的主动权，不再被命运推着走，而是亲自掌舵未来。"}],cta:{dividerTitle:"想掌握先机、洞察未见？",dividerSubtitle:"预约你的太乙推演窗口",title:"开启乾坤太乙策推演",message:"点击预约专属推演，解锁隐藏的时间节奏与布局策略。",primaryLabel:"开启乾坤太乙策推演",primaryHref:"/contact"},newsletterTitle:"太乙策略情报",newsletterSubtitle:"掌握时间节奏、周期提醒与决策指令。"},sixRen:{badge:"帝师预策",title:"六壬天机策",subtitle:"预见未发之机。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"以时间掌控局势",title:"古法先见，为当下决策而生",imageLabel:"六壬天盘策略图",imageUrl:"/images/page-sixren/sixren-img-01.jpeg",body:"《六壬天机策》源自《六壬神数》，古代将相以此“未战先知”，把握局势、先人一步。它解析天时、人事与环境的互动，让你在变化来临前洞察关键节点、识别风险并作出最佳选择。这不是算命，而是一套以时间为武器的战略体系。"},{key:"insight",dividerTitle:"六壬能揭示什么",dividerSubtitle:"混乱背后的结构",title:"看懂命运的隐形布局",imageLabel:"隐性动能洞察板",imageUrl:"/images/page-sixren/sixren-img-02.jpeg",body:"六壬揭示的是时机、选择与命运交织的结构，让你不再盲行。",points:["行动时机：何时宜动、何时宜守、何时转向。","潜在影响：谁或什么在暗中左右局势。","风险信号：危机爆发前的能量预警。","隐藏机会：原本无形却能撬动格局的突破口。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"天·地·人三才同参",title:"读懂动态时间棋局",imageLabel:"六壬气机共振图",imageUrl:"/images/page-sixren/sixren-img-03.jpeg",body:"在六壬视角下，万事万物是一张随时间、气机而变化的棋盘。通过推演天时（时间节奏）、地势（环境格局）与人应（决策行动），找出成败转化的关键瞬间。",points:["掌握当下局势的全景视角。","提前预判未来走势的强弱变化。","以时间为轴制定行动策略，让每一步都顺势而为。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"从洞察到执行",title:"五个阶段完成六壬推演",imageLabel:"六壬咨询流程图",imageUrl:"/images/page-sixren/sixren-img-04.jpeg",body:"严谨流程让玄学洞察转化为具备可执行性的战略建议。",points:["初步沟通：厘清处境与核心目标。","局势绘制：梳理时间节奏、能量走势与权势结构。","周期解读：识别上升期、冲突期与突破窗口。","咨询说明：一对一说明，用通俗语言呈现复杂局面。","策略蓝图：交付含时间维度的行动计划。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键抉择者的工具",title:"给站在十字路口的你",imageLabel:"关键决策的领导团队",imageUrl:"/images/page-sixren/sixren-img-05.jpeg",body:"适合身处关键阶段、需要时间先见与节奏掌控的人。",points:["筹划扩张或投资的创业者。","面对竞争与变局的管理者。","正在进行重大职业抉择的专业人士。","想跳出盲点、掌握命运节奏的个人。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"带走的是真正的掌控力",title:"在对的时间做对的事",imageLabel:"隐形动能战略图",imageUrl:"/images/page-sixren/sixren-img-06.jpeg",body:"你得到的是一份清晰的战略视角：看见隐藏的力量，提前布局，危机未起先化，机会未显先动。《六壬天机策》让努力与天时同步，让决定更有方向感。"}],cta:{dividerTitle:"想看懂命运的隐藏布局？",dividerSubtitle:"预约你的六壬推演",title:"开启六壬天机策推演",message:"点击开启专属推演，掌握变化节奏，先人一步布局。",primaryLabel:"开启六壬天机策推演",primaryHref:"/contact"},newsletterTitle:"六壬先见情报",newsletterSubtitle:"掌握能量变化、时间提醒与战略指导。"},mmSoul:{badge:"磁场矩阵",title:"灵数全息蓝图",subtitle:"让数理、八字与紫微同频，揭示生命课题、因果亏欠与关系化学，并付诸行动。",sections:[{key:"overview",dividerTitle:"灵数情报",dividerSubtitle:"从洞见到整合",title:"灵数蓝图组合",imageLabel:"灵数指挥台",imageUrl:"/images/page-numerology/num-img-01.jpg",body:"完整解析命格数、灵魂数、成熟数等核心指标，并给出执行建议。",points:["完整解析命格数、灵魂数、成熟数等核心指标，并给出执行建议。","建立伴侣、家人与关键团队角色的合拍矩阵。","提供每日节奏与环境处方：颜色、方位与修复仪式。","安排季度复盘，将个人目标与来临的数字周期对齐。"]},{key:"ideal",dividerTitle:"适合对象",dividerSubtitle:"最适合部署灵数蓝图的决策体系",title:"灵数策略指挥单元",imageLabel:"灵数对位图",imageUrl:"/images/page-numerology/num-img-02.jpg",body:"为策略长、合作伙伴与幕僚体系提供跨数理与命盘的行动蓝图。",points:["战略顾问局：依灵数与节奏安排董事议程、资本配置与风险检视。","伙伴／谈判小组：把动爻与灵数信号写入谈判脚本、升级流程与退场机制。","运营指挥中心：借助灵数矩阵统筹危机演练、沟通流程与资源调度。"]},{key:"method",dividerTitle:"分析方法",dividerSubtitle:"蓝图如何建构",title:"多系统校准",imageLabel:"蓝图实验室",imageUrl:"/images/page-numerology/num-img-03.jpg",body:"把灵数、八字与紫微整合成一个仪表板，让你知道何时加速、暂停或重组。",points:["蒐集关键里程碑、关系与健康指标，辨识模式。","跨比数字与星盘，确认助力与冲突的时间点。","提供安全平台，存放可视化仪表、冥想与习惯追踪工具。"]},{key:"impact",dividerTitle:"生活与事业成效",dividerSubtitle:"客户的真实回馈",title:"对齐・动能・安稳",imageLabel:"蓝图成果",imageUrl:"/images/page-numerology/num-img-04.jpg",body:"当节奏与使命同步后，客户行动更笃定，关系修复更快，身心状态更稳。",points:["依照个人天窗执行计划，目标达成速度提升。","伙伴与团队在事前预判冲突与合拍期，合作更顺。","透过明确的复原、创意与决策仪式，心智负担明显下降。"]}],cta:{dividerTitle:"解锁灵数蓝图",dividerSubtitle:"顾问席次采申请制",title:"预约灵数深度会谈",message:"说明目前的转折与关系地图，我们将准备整合式灵数简报。",primaryLabel:"预约蓝图会议",primaryHref:"/contact"},newsletterTitle:"灵数情报",newsletterSubtitle:"获取月度数字预测、关系提醒与仪式提示。"},qimen:{badge:"战略奇门",title:"玄机战策矩阵（奇门）",subtitle:"以奇门遁甲排兵布阵，在谈判、启动与危机中取得不对称优势。",sections:[{key:"overview",dividerTitle:"行动核心",dividerSubtitle:"阵盘如何为你构建",title:"任务架构密训",imageLabel:"作战指挥台",imageUrl:"/images/page-qimen/qimen-img-01.png",body:"我们先蒐集任务情报，排盒定位门、星、神，再转译为团队可即时执行的战术路线。",points:["行动前情蒐与竞争分析，确保阵盘精准。","量身定制阵法，明确方向、角色、资源与禁忌。","场景版图呈现最佳、基准、后手策略，方便战情推演。"]},{key:"methodology",dividerTitle:"方法论与工具组",dividerSubtitle:"保障任务掌控力",title:"作战实验室",imageLabel:"战术研究室",imageUrl:"/images/page-qimen/qimen-img-02.png",body:"分析师、谈判顾问与风险专家共同校准，使天星处方化为可执行命令。",points:["快速排盘并与八字、紫微交叉验证，确保信息一致。","内建风险矩阵，标示触发点、升级流程与撤离方案。","提供加密简报、录音与追踪表，便于分散团队掌握。"]},{key:"value",dividerTitle:"战略价值",dividerSubtitle:"矩阵能带来的突破",title:"即时的不对称优势",imageLabel:"战术优势图",imageUrl:"/images/page-qimen/qimen-img-03.png",body:"同步时机、方位与资源调度，让你在对手尚未反应前抢占关键窗口。",points:["精确锁定发布、谈判、撤退的时间与方位。","找出缺失的盟友、专家或道具，并给出征召方式。","通过仪式与复盘脚本，维持团队士气与专注度。"]},{key:"audience",dividerTitle:"适合对象",dividerSubtitle:"最适合部署奇门矩阵的作战现场",title:"高压运营与谈判指挥单元",imageLabel:"行动小队",imageUrl:"/images/page-qimen/qimen-img-04.png",body:"为执行市场攻防、谈判议价与危机调度的任务小组量身打造，需要依时门掌握战术窗口。",points:["扩张小组：规划市场进入、渠道落地与据点布局，在竞争压制下抢先部署。","谈判与交易团队：主导融资、并购、合规和解等高额谈判，压缩战术窗口。","危机与安全指挥中心：统筹封堵、反制与复原演练，保持组织韧性。"]},{key:"deliverables",dividerTitle:"交付成果",dividerSubtitle:"作战室将收到什么",title:"玄机行动包",imageLabel:"行动包",imageUrl:"/images/page-qimen/qimen-img-05.png",body:"交付作战情报档、互动阵图与现场演练，确保情境在执行前已被彻底验证。",points:["阵法卡片标示关键角色、动路线、资源与盲点。","录制指挥简报并附注重点，方便团队快速同步。","提供任务追踪表、警戒点与降温流程，让执行可控。"]},{key:"results",dividerTitle:"验证成效",dividerSubtitle:"客户反馈的核心指标",title:"速度・胜率・风险控管",imageLabel:"战果仪表板",imageUrl:"/images/page-qimen/qimen-img-06.png",body:"部署奇门矩阵的团队普遍反馈：周期更短、胜率更高、附带损害更少。",points:["对齐天时后的谈判周期缩短 20–40%。","关键发布的触达与口碑在首周显著提升。","危机应对更快止血，同时守住高层能量与声誉。"]}],cta:{dividerTitle:"部署你的玄机矩阵",dividerSubtitle:"即时任务优先排程",title:"启动奇门指挥",message:"提交任务目标、关键角色与时限，我们将进入作战排程并组建战术小组。",primaryLabel:"预约奇门简报",primaryHref:"/contact"},newsletterTitle:"抢先掌握天时战窗",newsletterSubtitle:"定期获得阵法预警、实战笔记与作战复盘邀请。"}}},E={EN:{brand_top:"玄域联盟",brand_bottom:"Metaphysics Alliance",who_title:"Who We Are",who_long:"Metaphysics Alliance is a Malaysia‑based boutique dedicated to turning classical Chinese metaphysics into clear, practical guidance. We combine BaZi, Zi Wei Dou Shu, Qi Men Dun Jia, Feng Shui, Huangji, Taiyi, Liu Ren and modern numerology to illuminate timing, strategy and design. Every reading is anchored to True Solar Time and the 24 Solar Terms, cross‑checked with authoritative calendars to protect accuracy.",why_title:"Why Choose Us?",why_long:"Choose Metaphysics Alliance for rigor, clarity and timing. We triangulate BaZi, Zi Wei, Qi Men, Feng Shui, Huangji, Taiyi, Liu Ren and numerology so recommendations are cross‑validated, not single-method guesses.",reviews_title:"What Our Client's Says About Us",newsletter_title:"Newsletter",newsletter_sub:"Insights, timing windows & case studies. No spam.",newsletter_placeholder:"Enter your email",newsletter_button:"Subscribe",map_title:"Our Location",nav:{home:"Home",celestial:"Celestial",bazi:"BaZi Analysis",ziwei:"Zi Wei Dou Shu",qimen:"Qi Men Dun Jia",fengshui:"Feng Shui",fengshui_res:"Residential Feng Shui",fengshui_com:"Commercial Feng Shui",name_number:"Name & Number",soul_matrix:"Soul Path Matrix",cosmic_name:"Cosmic Name Architecture",oracles:"Imperial",celestial_numbers:"Supreme Celestial Numbers",taiyi_numbers:"Cosmic Tai Yi Strategy",six_ren:"Mystical Mechanism of Six Ren",vip_report:"360 Holistic",vip_essential:"Essential Destiny Blueprint",vip_advanced:"Advanced Destiny Blueprint",vip_supreme:"Supreme Destiny Blueprint",academy:"Academy",courses:"Courses Overview",foundation:"Chinese Metaphysics Foundation",beginner:"Beginner Course",advanced:"Advanced Course",pro:"Professional Certification",enterprise:"Enterprise",audit:"Corporate Destiny Intelligence",site:"Enterprise Site Strategy",cycles:"Enterprise Strategy Intelligence",resources:"Resources",four_pillars:"Cosmic Four Pillars Chart",purple_star:"Celestial Star Oracle Chart",pricing:"Pricing",about:"About",contact:"Contact",celestial_groups:[{title:"Destiny Blueprint",items:[{title:"Destiny Algorithm (BaZi)",href:"/services/celestial/destiny-algorithm",thumbnail:"/images/page-services/1-bazi.png"},{title:"Imperial Star Atlas (Zi Wei Dou Shu)",href:"/services/celestial/imperial-star-atlas",thumbnail:"/images/page-services/2-ziwei.png"},{title:"Arcane Strategy Matrix (Qi Men Dun Jia)",href:"/services/celestial/arcane-strategy-matrix",thumbnail:"/images/page-services/3-qimen.jpg"}]},{title:"Feng Shui Assessment",items:[{title:"Home Destiny Compass",href:"/services/fengshui/home-destiny-compass",thumbnail:"/images/page-services/4-home.jpg"},{title:"Office Power Alignment",href:"/services/fengshui/office-power-alignment",thumbnail:"/images/page-services/5-office.jpg"},{title:"Dragon Vein Oracle",href:"/services/fengshui/dragon-vein-oracle",thumbnail:"/images/page-services/6-dragon.jpg"}]},{title:"Feng Shui Layout",items:[{title:"Cosmic Cycle of Fate",href:"/services/fengshui/cosmic-cycle-of-fate",thumbnail:"/images/page-services/7-cosmic.jpg"},{title:"Celestial Star Matrix",href:"/services/fengshui/celestial-star-matrix",thumbnail:"/images/page-services/8-celestial.jpg"},{title:"Energy Convergence Field",href:"/services/fengshui/energy-convergence-field",thumbnail:"/images/page-services/9-energy.jpg"}]},{title:"Magnetic Matrix",items:[{title:"I-Ching Energy Matrix",href:"/services/magnetic-matrix/i-ching-energy-matrix",thumbnail:"/images/page-services/10-iching.jpg"},{title:"Name Destiny Code",href:"/services/magnetic-matrix/name-destiny-code",thumbnail:"/images/page-services/11-name.jpg"},{title:"Soul Number Blueprint",href:"/services/magnetic-matrix/soul-number-blueprint",thumbnail:"/images/page-services/12-soul.jpg"}]}]},pricing:{heroTitle:"Pricing & Engagement Levels",heroSubtitle:"Precision metaphysics for visionary leaders, heirs and enterprise teams.",heroDescription:"Fees are quoted in Malaysian Ringgit (MYR). Engagements commence once objectives are confirmed and a 50% retainer is received. Remaining balance is due on delivery of the primary dossier or consultation.",noticeTitle:"Every Engagement Includes",noticePoints:["Discovery briefing to capture objectives, decision-makers and constraints.","True Solar Time calibration plus multi-method cross-verification.","Bilingual deliverables (EN/CN) with executive-ready summaries.","30-day post-delivery support via email for implementation clarifications."],currencyNote:"All fees are exclusive of travel, on-site assessments and applicable taxes. International work is billed in MYR or USD at prevailing rates.",heroHighlights:[{title:"First strategy sprint mapped in 7 days",description:"We stage the kickoff, assign owners, and establish 30/60/90 checkpoints so momentum starts immediately and stays accountable."},{title:"Executive-ready artefacts",description:"Receive bilingual decks, briefing notes and decision matrices formatted for boardrooms, investors and family councils."},{title:"Operational integration support",description:"We stay on-call across 30/60/90-day implementation sprints to close loops fast whenever conditions shift."},{title:"Stakeholder briefings pre-loaded",description:"Investor, board and team messaging comes scripted so you open kickoff with every stakeholder aligned on objectives and metrics."}],objectionsTitle:"Top Five Hesitations And Rejections",objectionsSubtitle:"We engineered each programme to neutralise the most common “no.”",objections:[{key:"budget",objection:"“It’s too expensive.”",response:"We front-load the revenue defence: each engagement includes ROI baselines, cost-of-delay modelling, and milestone gates tied to measurable upticks.",reinforcements:["Stage-gated payment schedule triggered by delivered artefacts.","Executive KPI sheet showing breakeven windows and upside scenarios."]},{key:"time",objection:"“We don’t have time to implement this.”",response:"We map your capacity wall first, then fold recommendations into current cadences—no new teams or mystical rituals required.",reinforcements:["30/60/90-day sprint board with owners, deliverables and stand-up prompts.","Optional 20-minute weekly war-room with our strategists to clear blocks instantly."]},{key:"clarity",objection:"“I’m not sure it will work for us.”",response:"Every dossier includes risk flags, proof points and what-to-do-if variants so leadership can see how the play adapts to your environment.",reinforcements:["Cross-validation appendix showing how BaZi, Zi Wei, Qi Men and Feng Shui align on the recommendation.","Scenario controls for best, base and fallback triggers."]},{key:"trust",objection:"“We tried metaphysics before and it was vague.”",response:"We operate like management consultants wielding classical systems: structured interviews, evidence packets, decision logs and post-mortem reviews.",reinforcements:["Session recordings and bilingual transcripts provided for compliance.","Every recommendation ties to measurable targets—not abstract “energy shifts”."]},{key:"team",objection:"“My stakeholders won’t buy in.”",response:"We brief stakeholders, translate metaphysical insight into business language and hand you ready-to-send messaging.",reinforcements:["Executive briefing deck plus talking points for investors, boards or family councils.","Change-management scripts tailored to frontline teams so adoption sticks."]}],cart:{add:"Add to cart",added:"Added",remove:"Remove",view:"View cart",goToCheckout:"Go to checkout",miniTitle:"Cart preview",empty:"No services selected yet.",clear:"Clear cart",continue:"Continue browsing"},checkout:{title:"Review your command deck",subtitle:"Confirm the services you want us to deploy before we generate your invoice and onboarding timeline.",emptyTitle:"No services selected yet",emptyDescription:"Add at least one programme or retainer from the pricing page to begin checkout.",emptyCta:"Back to pricing",summaryTitle:"Selected services",totalsLabel:"Investment overview",currencyDisclaimer:"Final invoices mirror Malaysian Ringgit totals. USD conversions follow the latest synced rate.",primaryCta:"Confirm & request invoice",secondaryCta:"Keep exploring",tableHeaders:{service:"Service",investment:"Investment",remove:"Remove"}},checkoutAssuranceTitle:"What happens after you confirm",checkoutAssurancePoints:["We lock your consultation windows and assign lead strategists within one business day.","You receive a secure payment link and onboarding dossier outlining the data we need.","Kickoff call maps quick-win milestones so the first 30/60/90 days execute without drag."],categories:[{key:"celestial",title:"Celestial Intelligence",subtitle:"Deep personal mastery programmes for founders, investors and mission-critical talent.",tiers:[{name:"Destiny Algorithm (BaZi)",price:"RM 6,888",cadence:"per executive blueprint",href:"/services/celestial/destiny-algorithm",shortDescription:"180-page destiny analysis with 90-min strategy consult and 12-month action map",features:["180-page bilingual dossier covering destiny code, influence and focus cycles.","90-minute strategy consult with 12-month action map.","True Solar Time sequencing plus relationship and leadership overlays."]},{name:"Imperial Star Atlas (Zi Wei Dou Shu)",price:"RM 9,888",cadence:"per atlas issuance",href:"/services/celestial/imperial-star-atlas",shortDescription:"Palace-by-palace positioning strategy with succession and reputation counsel",features:["Palace-by-palace orchestration for influence, capital and public positioning.","Six major activation windows aligned to stakeholder and media cadence.","Private counsel covering succession, alliances and reputation architecture."]},{name:"Arcane Strategy Matrix (Qi Men Dun Jia)",price:"RM 8,588",cadence:"per mission deployment",href:"/services/celestial/arcane-strategy-matrix",shortDescription:"Tactical hour-by-hour formations for launches and critical negotiations",features:["Tactical formations for launches, negotiations or critical transitions.","Mission dashboard with hourly portals, portals to avoid and decoy paths.","30-day live support during the active operation window."]}]},{key:"spatial",title:"Feng Shui & Spatial Intelligence",subtitle:"Spatial command for residences, offices and flagship locations.",tiers:[{name:"Home Destiny Compass",price:"RM 7,288",cadence:"per residence",href:"/services/fengshui/home-destiny-compass",shortDescription:"On-site feng shui audit with life palace alignment and 12-month activation calendar",features:["On-site or digital audit covering layout, landform and annual renewals.","Life palace alignment matched to household BaZi charts.","Activation calendar covering twelve months of adjustments."]},{name:"Office Power Alignment",price:"RM 12,588",cadence:"per floor or site",href:"/services/fengshui/office-power-alignment",shortDescription:"Executive placement strategy with revenue flow choreography and quarterly tuning",features:["Executive command placement, revenue flow choreography and team zoning.","Leadership sanctuary and war-room shielding for critical decisions.","Quarterly tuning schedule plus renovation governance protocol."]},{name:"Dragon Vein Oracle",price:"RM 11,888",cadence:"per site study",href:"/services/fengshui/dragon-vein-oracle",shortDescription:"Macro landform analysis with geomantic risk scoring and timing overlays",features:["Macro landform reconnaissance with geomantic risk scoring.","Directional pairing for entrances, signage and water features.","Timing overlays for acquisition, groundbreaking and activation."]}]},{key:"magnetic",title:"Magnetic Matrix & Numerology",subtitle:"Energy recalibration for naming, communication and personal rhythm.",tiers:[{name:"I-Ching Energy Matrix",price:"RM 4,288",cadence:"per report",href:"/services/magnetic-matrix/i-ching-energy-matrix",shortDescription:"Hexagram-based personality analysis with 6-month timing arcs and practice stack",features:["Hexagram-based personality, motive and decision rhythm decoding.","Six-month timing arcs highlighting accelerate versus consolidate phases.","Daily practice stack to stabilise energy leak points."]},{name:"Name Destiny Code",price:"RM 3,688",cadence:"per naming cycle",href:"/services/magnetic-matrix/name-destiny-code",shortDescription:"Full vibration audit with strategic renaming proposals and implementation guide",features:["Full vibration audit of current identity across languages and scripts.","Strategic renaming proposals aligned to destiny and industry resonance.","Implementation guide covering legal, digital and public roll-out."]},{name:"Soul Number Blueprint",price:"RM 2,988",cadence:"per blueprint",href:"/services/magnetic-matrix/soul-number-blueprint",shortDescription:"Numerology pathways with talent acceleration routines and compatibility insights",features:["Numerology pathways for intuition, creativity and fulfilment.","Talent acceleration routines matched to core and destiny numbers.","Relationship compatibility insights with collaboration guardrails."]}]},{key:"imperial",title:"Imperial Oracles",subtitle:"High ceremony consultations for sovereign decisions and national scale projects.",tiers:[{name:"Supreme Celestial Numbers",price:"RM 12,888",cadence:"per imperial cycle",href:"/oracle/celestial-numbers",shortDescription:"True Solar Time matrices with Court of Eight analysis and 3-part strategic briefing",features:["True Solar Time matrices correlating to national and global cycles.","Court of eight analysis for influence, risk and protection strategies.","Three-part briefing (strategy, mitigation, activation) with slide deck."]},{name:"Cosmic Tai Yi Strategy",price:"RM 10,888",cadence:"per directive",href:"/oracle/taiyi-numbers",shortDescription:"Tai Yi flight path for capital moves with Heaven-Earth-Human harmonisation",features:["Tai Yi flight path for geopolitical or capital-intensive moves.","Heaven, Earth and Human harmonisation ledger with priority actions.","Optional emergency recalibration session within 45 days."]},{name:"Mystical Mechanism of Six Ren",price:"RM 9,688",cadence:"per mission",href:"/oracle/six-ren",shortDescription:"Six Ren board casting for conflict resolution with enemy-ally positioning grid",features:["Six Ren board casting for conflict resolution and covert manoeuvres.","Enemy and ally positioning grid with probability markers.","Rapid-response counsel throughout the chosen timing window."]}]},{key:"academy",title:"Academy Mastery Path",subtitle:"Four-stage curriculum guiding practitioners from foundations to professional certification.",tiers:[{name:"Foundation Course",price:"RM 2,888",cadence:"per intake (6 weeks)",href:"/academy/foundation",shortDescription:"6-week live intensive with interactive chart labs and bilingual workbooks",features:["Six-week live intensive covering classical frameworks and timing fundamentals.","Interactive chart labs introducing BaZi, Zi Wei and Qi Men toolkits.","Bilingual workbooks with lifetime access to recorded sessions."]},{name:"Beginner Course",price:"RM 4,288",cadence:"per intake (8 weeks)",href:"/academy/beginner",shortDescription:"Case-led workshops with weekly office hours and peer study pods",features:["Case-led workshops applying destiny diagnostics to real scenarios.","Weekly office hours for personalised guidance and practice feedback.","Peer study pods to reinforce technique and accountability."]},{name:"Advanced Course",price:"RM 5,888",cadence:"per cohort (10 weeks)",href:"/academy/intermediate",shortDescription:"Cross-discipline synthesis with enterprise playbooks and capstone project",features:["Cross-discipline synthesis bridging destiny, space and timing intelligence.","Enterprise playbooks translating metaphysics into board-level language.","Capstone project with instructor critique and refinement."]},{name:"Professional Certification",price:"RM 8,888",cadence:"per cohort (12 weeks)",href:"/academy/professional",shortDescription:"Supervised client simulations with ethics training and certification panel review",features:["Supervised client simulations covering intake, analysis and delivery.","Ethics, governance and documentation standards for professional practice.","Certification panel review plus alumni community access."]}]},{key:"vip360",title:"360 Holistic Destiny Blueprint",subtitle:"Three-tier holographic destiny intelligence for private clients and family offices.",tiers:[{name:"Essential Destiny Blueprint",price:"RM 9,888",cadence:"per blueprint",href:"/vip-report/essential",shortDescription:"120-page destiny dossier with 10-year timing overlays and 75-min walkthrough",features:["120-page personalised dossier covering destiny code, wealth flow and career resonance.","10-year and annual timing overlays with priority action steps.","Discovery consult plus 75-minute walkthrough session with email support for 30 days."]},{name:"Advanced Destiny Blueprint",price:"RM 14,888",cadence:"per blueprint",href:"/vip-report/pro",shortDescription:"220-page deep analysis with leadership matrices and two consultation sessions",features:["220-page deep analysis integrating name energy, numerology and multi-system triangulation.","Leadership, relationship and capital orchestration matrices with contingency triggers.","Two consultation sessions (strategy + implementation) and bespoke timing calendar."]},{name:"Supreme Destiny Blueprint",price:"RM 23,888",cadence:"per blueprint",href:"/vip-report/supreme",shortDescription:"320-page holographic masterplan with family governance and 60-day concierge support",features:["320-page full holographic masterplan uniting destiny, Feng Shui, numerology and True Solar Time.","Family governance, legacy and asset allocation blueprints with risk mitigation protocols.","Extended concierge support for 60 days including on-call timing advisories."]}]},{key:"enterprise",title:"Enterprise Command Deck",subtitle:"Board-level intelligence aligning destiny, timing and operational execution.",tiers:[{name:"Corporate Destiny Intelligence",price:"RM 18,588",cadence:"per enterprise",href:"/enterprise/audit",shortDescription:"Founding chart analysis with leadership audit and 3-tier action sequence",features:["Founding chart with leadership resonance audit and wealth channels.","Operational risk scan across markets, people and space.","Three-tier action sequence covering defend, expand and diversify moves."]},{name:"Enterprise Site Strategy",price:"RM 22,088",cadence:"per location short-list",href:"/enterprise/site",shortDescription:"Landform evaluation for 3 sites with scoring matrix and implementation playbook",features:["Landform, directional and timing evaluation for up to three sites.","Scoring matrix with prosperity, resilience and compliance indicators.","Implementation playbook for design, phasing and go-live timing."]},{name:"Enterprise Strategy & Cycle Intelligence",price:"RM 16,588",cadence:"per annual planning cycle",href:"/enterprise/cycles",shortDescription:"10-year rhythm map with leadership cadence dashboard and strategy calendar",features:["Ten-year and annual rhythm map for growth, consolidation and pause phases.","Leadership cadence dashboard with succession safeguards.","Strategy calendar aligning launches, capital moves and partner rotations."]}]}],addOnsTitle:"Retainers & Enhancements",addOns:[{name:"Executive Concierge Retainer",price:"From RM 5,000 / month",shortDescription:"Priority counsel with monthly timing briefs and on-call charting for key events",features:["Priority WhatsApp and email counsel for real-time decisions.","Monthly timing brief aligned to board or family governance cadence.","On-call charting for travel, alliances and investments (up to four events)."]},{name:"On-Site Immersion",price:"From RM 3,800 / day + expenses",shortDescription:"In-person walkthrough with immediate adjustments and 72-hour follow-up summary",features:["In-person walkthrough, interviews and environment tuning.","Immediate adjustments with leadership training for implementation.","Follow-up summary within 72 hours."]},{name:"Confidential Briefing Deck",price:"RM 2,288",shortDescription:"Executive slide deck with risk-opportunity matrices in board-ready format",features:["Executive slide deck translating metaphysics into board language.","Risk, opportunity and timing matrices for stakeholders.","Editable format for internal circulation with usage guidelines."]}],finePrintTitle:"Fine print",finePrint:["Time-sensitive missions (under 7 days notice) incur a 25% rush premium.","International travel is billed at business-class rates with two support days minimum.","Engagements cancelled within 14 days of delivery forfeit the retainer.","Payment options include bank transfer, FPX and corporate card (3% surcharge)."],cta:{label:"Discuss a custom bundle",href:"/contact"}},vip:{section_title:"VIP Holistic Destiny Analysis Service",cta:"Learn More",tiers:{lite_title:"Essential Destiny Blueprint",pro_title:"Advanced Destiny Blueprint",supreme_title:"Supreme Destiny Blueprint",lite_points:["100+ page personalised destiny blueprint","Talent & potential analysis","Career & industry alignment roadmap","Wealth dynamics & management guidance","10-year Luck Cycle (Da Yun) timing analysis","Life numbers (numerology) decoding","Actionable adjustments to balance weaknesses"],pro_points:["200+ page destiny mastery blueprint","Complete career and industry resonance mapping","Wealth structure diagnostics and risk alerts","10-year Luck Phases with transition strategies","Numerology overlays for behavioural refinement","Energy field analysis across health, relationships and productivity","Name vibration audit with optimisation guidance","Timing-based action plan and practical remedies"],supreme_points:["300+ page full-holographic destiny command deck","Complete integration of destiny, numerology, name energy and Feng Shui","Wealth architecture insights with capital and legacy strategies","10-year & annual timing roadmap with activation protocols","Personal energy field analysis with advanced balancing remedies","Name vibration optimisation with strategic renaming options","Residential Feng Shui assessment and spatial harmonisation plan","Custom action programme aligning timing, space and energy"]}},services:{...Ni.EN,corporateAudit:{badge:"Corporate Destiny Audit",title:"Corporate Destiny Intelligence",subtitle:"Decode the hidden forces behind corporate success.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Strategic metaphysics for enterprise foresight",title:"See the Energetic DNA of the Enterprise",imageLabel:"Corporate destiny intelligence collage",imageUrl:"/images/page-audit/audit-img-01.jpeg",body:"Corporate Destiny Intelligence is a strategic metaphysical assessment that reveals how a company’s energy structure, leadership rhythm and spatial environment align with the universal cycle of prosperity. By combining time, direction and human synergy, it exposes the unseen factors shaping growth, culture and wealth flow so leadership can realign for momentum and longevity."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"The structure behind performance",title:"Diagnose the Hidden Architecture of Success",imageLabel:"Enterprise energy flow dashboard",imageUrl:"/images/page-audit/audit-img-02.jpeg",body:"Every company carries a destiny pattern—shaped by its founding moment, people and place.",points:["Corporate Energy Flow: is the organisation in expansion, transition or rest?","Leadership Resonance: how the core team’s charts align with the corporate energy.","Wealth Pathways: directions and timing that favour growth, capital or partnership.","Environmental Influence: how office or site qi supports or constrains outcomes.","Strategic Foresight: early signals of stagnation or breakthrough windows."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Time · Space · People alignment",title:"Map the Enterprise Against Cosmic Rhythm",imageLabel:"Corporate timing matrix storyboard",imageUrl:"/images/page-audit/audit-img-03.jpeg",body:"We integrate corporate astrology, energy flow and strategic metaphysics to map founding data and operational cycles against cosmic timing, identifying when growth is supported and when caution is required.",points:["Foundational analysis of the corporate destiny map.","Calibration of leadership charts with enterprise rhythm.","Spatial review of headquarters, branches or key sites for resonance with goals.","Cycle timing that distinguishes momentum phases from consolidation periods.","Action sequencing that aligns initiatives with supportive windows."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From discovery to activation",title:"Six Steps to Corporate Destiny Clarity",imageLabel:"Corporate audit workflow board",imageUrl:"/images/page-audit/audit-img-04.jpeg",body:"A structured workflow turns energetic diagnostics into executive-ready intelligence.",points:["Discovery Briefing – align on history, challenges and goals.","Data & Chart Mapping – build the corporate destiny map from founding and leadership details.","Energy Diagnosis – analyse operational flow, leadership synergy and spatial resonance.","Cycle Interpretation – decode 1-year, 3-year and 10-year trendlines.","Strategic Consultation – present findings in clear, practical language.","Action Blueprint – deliver timing and directional guidance for decisions and site planning."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"For leaders stewarding pivotal moves",title:"Built for Founders, Boards and Investors",imageLabel:"Enterprise leadership alignment briefing",imageUrl:"/images/page-audit/audit-img-05.jpeg",body:"Engineered for leadership teams who require timing clarity before executing major initiatives.",points:["Companies preparing expansion, rebranding or market entry.","Boards seeking energetic alignment to stabilise morale and execution.","Investors vetting timing for capital deployment and partner synergy.","Family enterprises structuring succession and legacy continuity."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you receive",title:"A Strategic Map of Corporate Destiny",imageLabel:"Corporate destiny cycle chart",imageUrl:"/images/page-audit/audit-img-06.jpeg",body:"You receive a clear visual of the enterprise destiny cycle—when to grow, consolidate or transform. Corporate Destiny Intelligence augments analytics with timing and energetic alignment so leadership acts in flow with time, not against it."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to Uncover Your Company’s Hidden Blueprint?",dividerSubtitle:"Reserve your corporate destiny audit",title:"Start Your Corporate Destiny Consultation",message:"Click to begin a personalised corporate audit and align your enterprise with the rhythm of success.",primaryLabel:"Start Your Corporate Destiny Consultation",primaryHref:"/pricing"},advancedBlueprint:{badge:"360全维度",title:"天机蓝图·进阶版",subtitle:"洞察命格结构 · 掌握人生天机。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"命格深度解读",title:"从认识到掌控的进阶蓝图",imageLabel:"进阶命运概览图",imageUrl:"/images/page-360-advanced/360-adv-img-01.jpeg",body:"《天机蓝图·进阶版》是一份超过 200 页的深度命运解析，整合八字、生命数字与姓名能量，揭示命格如何运作、何时转折，以及如何掌握人生节奏。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"命运系统全结构",title:"全面解构命格八大板块",imageLabel:"命运多层洞察面板",imageUrl:"/images/page-360-advanced/360-adv-img-02.jpeg",body:"蓝图揭示命运系统的更深层结构：",points:["天赋潜能：挖掘隐藏能力与性格驱动力。","行业定位：锁定最契合五行能量的事业领域。","财富结构：看懂财富流入、积累、风险与止损位。","十年大运：提前预判长期周期的兴衰与转折。","生命数字：解析行为密码与成长课题。","能量场分析：捕捉健康、人际与效率的能量失衡。","姓名吉象：评估姓名与命格的共振度与优化建议。","实用化解：提供针对性调整方案与时机动作。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"结构与节奏共读",title:"三重系统交叉解码命运",imageLabel:"结构与节奏共振图",imageUrl:"/images/page-360-advanced/360-adv-img-03.jpeg",body:`服务通过整合“八字五行结构”、“生命数字频率”与“姓名能量共振”，绘制出你命运系统的多维运行蓝图。
它揭示的不只是性格与倾向，更是命运的“触发机制”——什么时间、什么选择，会带来突破或阻力。
报告让你既看懂“命的结构”，也理解“运的节奏”。`,points:["对自身命格机制的全面认知；","对未来十年周期的前瞻规划；","一套能量与时运结合的可执行策略。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"六步完成进阶蓝图",title:"从资料到专属策略",imageLabel:"进阶蓝图流程板",imageUrl:"/images/page-360-advanced/360-adv-img-04.jpeg",body:"严谨流程确保洞察落地：",points:["资料收集：记录出生与姓名信息。","命盘分析：整合八字、数字与能量模型。","姓名共振评估：判断姓名与命格能量的合拍度。","周期预测：推演十年与流年节奏变化。","蓝图编制：产生 200+ 页深度报告。","解读咨询：一对一讲解与专属策略讨论。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键转折的行动指南",title:"为准备升级的人而设",imageLabel:"进阶用户场景图",imageUrl:"/images/page-360-advanced/360-adv-img-05.jpeg",body:"适合正处重要阶段、需要掌控时间节奏的决策者：",points:["准备重大转型或跨界发展的个人。","希望事业节奏与命格相辅相成的创业者。","追求长期布局与节奏掌控的专业人士。","想理解姓名能量如何影响命运的人。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"一生可用的命运运行图",title:"让挑战化为节奏而非阻力",imageLabel:"命运运行蓝图",imageUrl:"/images/page-360-advanced/360-adv-img-06.jpeg",body:"你将带走一份完整的命运运行图谱，知道自己是谁、节奏如何展开、下一步怎么走。当你掌握命运节奏，阻力会变节奏，人生会更从容。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想深入解锁命运的隐藏结构？",dividerSubtitle:"预约天机蓝图·进阶版",title:"领取天机蓝图·进阶版",message:"点击开启专属命运解析，掌握人生节奏。",primaryLabel:"领取天机蓝图·进阶版",primaryHref:"/pricing"}},advancedBlueprint:{badge:"360全维度",title:"天机蓝图·进阶版",subtitle:"洞察命格结构 · 掌握人生天机。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"命格深度解读",title:"从认识到掌控的进阶蓝图",imageLabel:"进阶命运概览图",imageUrl:"/images/page-360-advanced/360-adv-img-01.jpeg",body:"《天机蓝图·进阶版》是一份超过 200 页的深度命运解析，整合八字、生命数字与姓名能量，揭示命格如何运作、何时转折，以及如何掌握人生节奏。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"命运系统全结构",title:"全面解构命格八大板块",imageLabel:"命运多层洞察面板",imageUrl:"/images/page-360-advanced/360-adv-img-02.jpeg",body:"蓝图揭示命运系统的更深层结构：",points:["天赋潜能：挖掘隐藏能力与性格驱动力。","行业定位：锁定最契合五行能量的事业领域。","财富结构：看懂财富流入、积累、风险与止损位。","十年大运：提前预判长期周期的兴衰与转折。","生命数字：解析行为密码与成长课题。","能量场分析：捕捉健康、人际与效率的能量失衡。","姓名吉象：评估姓名与命格的共振度与优化建议。","实用化解：提供针对性调整方案与时机动作。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"结构与节奏共读",title:"三重系统交叉解码命运",imageLabel:"结构与节奏共振图",imageUrl:"/images/page-360-advanced/360-adv-img-03.jpeg",body:`服务通过整合“八字五行结构”、“生命数字频率”与“姓名能量共振”，绘制出你命运系统的多维运行蓝图。
它揭示的不只是性格与倾向，更是命运的“触发机制”——什么时间、什么选择，会带来突破或阻力。
报告让你既看懂“命的结构”，也理解“运的节奏”。`,points:["对自身命格机制的全面认知；","对未来十年周期的前瞻规划；","一套能量与时运结合的可执行策略。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"六步完成进阶蓝图",title:"从资料到专属策略",imageLabel:"进阶蓝图流程板",imageUrl:"/images/page-360-advanced/360-adv-img-04.jpeg",body:"严谨流程确保洞察落地：",points:["资料收集：记录出生与姓名信息。","命盘分析：整合八字、数字与能量模型。","姓名共振评估：判断姓名与命格能量的合拍度。","周期预测：推演十年与流年节奏变化。","蓝图编制：产生 200+ 页深度报告。","解读咨询：一对一讲解与专属策略讨论。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键转折的行动指南",title:"为准备升级的人而设",imageLabel:"进阶用户场景图",imageUrl:"/images/page-360-advanced/360-adv-img-05.jpeg",body:"适合正处重要阶段、需要掌控时间节奏的决策者：",points:["准备重大转型或跨界发展的个人。","希望事业节奏与命格相辅相成的创业者。","追求长期布局与节奏掌控的专业人士。","想理解姓名能量如何影响命运的人。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"一生可用的命运运行图",title:"让挑战化为节奏而非阻力",imageLabel:"命运运行蓝图",imageUrl:"/images/page-360-advanced/360-adv-img-06.jpeg",body:"你将带走一份完整的命运运行图谱，知道自己是谁、节奏如何展开、下一步怎么走。当你掌握命运节奏，阻力会变节奏，人生会更从容。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想深入解锁命运的隐藏结构？",dividerSubtitle:"预约天机蓝图·进阶版",title:"领取天机蓝图·进阶版",message:"点击开启专属命运解析，掌握人生节奏。",primaryLabel:"领取天机蓝图·进阶版",primaryHref:"/pricing"}},advancedBlueprint:{badge:"360 Holistic",title:"Advanced Destiny Blueprint",subtitle:"Decode the hidden structure of destiny · master the code behind your life.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Deep-dive destiny mastery",title:"Move from Awareness to Mastery",imageLabel:"Advanced destiny overview panel",imageUrl:"/images/page-360-advanced/360-adv-img-01.jpeg",body:"The Advanced Destiny Blueprint is a 200+ page personalised analysis that reveals how your destiny system operates. It integrates BaZi, numerology and name energy to expose your energetic structure, timing triggers and life cycles so you can steer with precision."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Multi-layered intelligence",title:"Understand Every Layer of Your Destiny",imageLabel:"Destiny layers insight board",imageUrl:"/images/page-360-advanced/360-adv-img-02.jpeg",body:"This blueprint goes beyond the foundation level to decode the mechanics behind your life pattern.",points:["Talent & Core Potential: uncover hidden gifts shaping your natural abilities.","Career & Industry Resonance: pinpoint environments and roles that amplify your elements.","Wealth Structure: analyse how resources flow, accumulate or disperse in your chart.","Ten-Year Luck Phases: map transitions so you can plan long-range timing decisions.","Numerology Insights: cross-reference life numbers for personality refinement.","Energy Field Analysis: detect imbalances affecting health, productivity or relationships.","Name Energy & Symbolism: evaluate how your name supports—or conflicts with—your destiny.","Practical Adjustments: receive targeted remedies and timing-based action steps."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Structure and motion",title:"Fuse Pattern, Frequency and Timing",imageLabel:"Methodology resonance map",imageUrl:"/images/page-360-advanced/360-adv-img-03.jpeg",body:"We merge BaZi elemental logic, numerology frequency and name resonance to reveal who you are and how your destiny breathes.",points:["Layered BaZi analysis showing elemental strengths, weaknesses and capacity.","Numerology overlays that highlight behavioural codes and growth lessons.","Name energy resonance audit comparing current vibration with destiny needs.","Cycle mapping that connects structure (命) with movement (运) for practical decisions."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From intake to decoding",title:"Six Steps to an Advanced Blueprint",imageLabel:"Advanced blueprint workflow",imageUrl:"/images/page-360-advanced/360-adv-img-04.jpeg",body:"A comprehensive workflow ensures insight transforms into strategy.",points:["Personal Information Collection – gather precise birth and name data.","Comprehensive Data Analysis – integrate BaZi, numerology and energy mapping.","Name Resonance Assessment – test alignment between your name and destiny field.","Ten-Year & Annual Cycle Forecast – uncover long and short-term timing triggers.","Blueprint Compilation – deliver a 200+ page in-depth destiny report.","Interpretation Consultation – translate findings into personalised strategy."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Designed for turning points",title:"Built for Those Ready to Level Up",imageLabel:"Advanced audience storyboard",imageUrl:"/images/page-360-advanced/360-adv-img-05.jpeg",body:"Perfect for individuals moving through major transitions or seeking mastery over timing.",points:["Leaders planning significant personal or career pivots.","Entrepreneurs syncing personal destiny with business growth.","Professionals engineering long-term strategy through timing mastery.","Individuals curious about how name energy shapes their trajectory."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you take away",title:"A Time-Coded Master Plan",imageLabel:"Destiny master plan map",imageUrl:"/images/page-360-advanced/360-adv-img-06.jpeg",body:"You leave with a complete, time-coded roadmap that shows who you are, how your cycles unfold and how to move forward with power and precision. Challenges become rhythm—not resistance—once you understand your internal frequency."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to Unlock the Deeper Layers of Your Destiny?",dividerSubtitle:"Reserve your Advanced Destiny Blueprint",title:"Get Your Advanced Destiny Blueprint",message:"Click to begin your personalised analysis and master the rhythm of your life.",primaryLabel:"Get Your Advanced Destiny Blueprint",primaryHref:"/pricing"}},newsletterTitle:"Corporate Destiny Dispatch",newsletterSubtitle:"Board-level timing intelligence, spatial diagnostics and leadership alignment guidance."},essentialBlueprint:{badge:"360 Holistic",title:"Essential Destiny Blueprint",subtitle:"Decode your destiny · begin the journey with clarity and confidence.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Foundational destiny blueprint",title:"Start with Strategic Self-Awareness",imageLabel:"Destiny blueprint overview panel",imageUrl:"/images/page-360-essential/360-e-img-01.jpeg",body:"The Essential Destiny Blueprint is a 100+ page personalised analysis for people ready to understand their purpose, talents and timing. It combines BaZi, numerology and life-cycle intelligence so you can move with your inherent rhythm instead of fighting against it."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Full-spectrum clarity",title:"See the Pattern Behind Who You Are",imageLabel:"Destiny insight board",imageUrl:"/images/page-360-essential/360-e-img-02.jpeg",body:"Your report delivers a holistic view of who you are and where your destiny leads.",points:["Talent & Potential: uncover innate gifts and strengths that activate easily.","Career & Industry Alignment: identify roles, environments and industries that amplify your element mix.","Wealth Dynamics: understand how you attract, manage and retain financial flow.","Life Rhythm: map Ten-Year and Annual cycles so you can time moves with confidence.","Numerology Insights: decode core life numbers for deeper self-understanding.","Practical Adjustments: receive actionable remedies to balance weaknesses and unlock momentum."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Metaphysics translated into strategy",title:"Connect Pattern, Timing and Action",imageLabel:"Methodology flow chart",imageUrl:"/images/page-360-essential/360-e-img-03.jpeg",body:"We transform ancient metaphysical formulas into clear, relatable guidance that you can apply immediately.",points:["Five-element calibration that exposes your foundational energy pattern.","Ten-Year Luck Cycle and annual overlays showing when to accelerate, stabilise or pivot.","Personal strategy guidance that keeps decisions aligned with opportunity flow.","Downloadable charts and dashboards so you can revisit insights anytime."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From intake to blueprint",title:"Five Steps to Your Destiny Blueprint",imageLabel:"Blueprint creation workflow",imageUrl:"/images/page-360-essential/360-e-img-04.jpeg",body:"A precise workflow ensures every report is rigorous, personalised and actionable.",points:["Information Intake – capture birth date, time and location to anchor the analysis.","Comprehensive Analysis – interpret BaZi, numerology and destiny cycles in tandem.","Blueprint Creation – produce a 100+ page report with visuals, commentary and actions.","Interpretation Session – walk through key insights in plain, practical language.","Practical Guidance – receive mindset, timing and environment adjustments for smoother flow."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Clarity before action",title:"Designed for People Ready to Lead Their Destiny",imageLabel:"Audience alignment storyboard",imageUrl:"/images/page-360-essential/360-e-img-05.jpeg",body:"Perfect for individuals who want to take ownership of their direction and momentum.",points:["Purpose seekers looking for confident career or life choices.","Professionals feeling stuck or misaligned with timing.","Entrepreneurs aligning personal destiny with business cycles.","Anyone ready to understand their rhythm and unlock long-term flow."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you take away",title:"A Lifetime Reference for Your Destiny",imageLabel:"Destiny reference map",imageUrl:"/images/page-360-essential/360-e-img-06.jpeg",body:"You receive more than a report—you gain a personal atlas for navigating timing, relationships, money and purpose. Once you understand your cycles, you stop chasing outcomes and start creating them with calm, confidence and intent."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to Begin Your Destiny Journey?",dividerSubtitle:"Reserve your Essential Destiny Blueprint",title:"Get Your Destiny Blueprint",message:"Click to begin your personalised report and uncover the logic of your destiny.",primaryLabel:"Get Your Destiny Blueprint",primaryHref:"/pricing"}},advancedBlueprint:{badge:"360 Holistic",title:"Advanced Destiny Blueprint",subtitle:"Decode the hidden structure of destiny · master the code behind your life.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Destiny mastery deep dive",title:"Move from Awareness to Mastery",imageLabel:"Advanced destiny overview panel",imageUrl:"/images/page-360-advanced/360-adv-img-01.jpeg",body:"The Advanced Destiny Blueprint is a 200+ page personalised analysis that reveals how your destiny system operates. It fuses BaZi, numerology and name energy to expose your energetic structure, timing triggers and life cycles so you can steer with precision."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Multi-layered intelligence",title:"Understand Every Layer of Your Destiny",imageLabel:"Destiny layers insight board",imageUrl:"/images/page-360-advanced/360-adv-img-02.jpeg",body:"This blueprint goes beyond the foundation level to decode the mechanics behind your life pattern.",points:["Talent & Core Potential: uncover hidden gifts shaping your natural abilities.","Career & Industry Resonance: pinpoint environments and roles that amplify your elements.","Wealth Structure: analyse how resources flow, accumulate or disperse in your chart.","Ten-Year Luck Phases: map transitions so you can plan long-range timing decisions.","Numerology Insights: cross-reference life numbers for personality refinement.","Energy Field Analysis: detect imbalances affecting health, productivity or relationships.","Name Energy & Symbolism: evaluate how your name supports—or conflicts with—your destiny.","Practical Adjustments: receive targeted remedies and timing-based action steps."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Structure and motion",title:"Fuse Pattern, Frequency and Timing",imageLabel:"Methodology resonance map",imageUrl:"/images/page-360-advanced/360-adv-img-03.jpeg",body:"We merge BaZi elemental logic, numerology frequency and name resonance to reveal who you are and how your destiny breathes.",points:["Layered BaZi analysis showing elemental strengths, weaknesses and capacity.","Numerology overlays that highlight behavioural codes and growth lessons.","Name energy resonance audit comparing current vibration with destiny needs.","Cycle mapping that connects structure (命) with movement (运) for practical decisions."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From intake to decoding",title:"Six Steps to an Advanced Blueprint",imageLabel:"Advanced blueprint workflow",imageUrl:"/images/page-360-advanced/360-adv-img-04.jpeg",body:"A comprehensive workflow ensures insight transforms into strategy.",points:["Personal Information Collection – gather precise birth and name data.","Comprehensive Data Analysis – integrate BaZi, numerology and energy mapping.","Name Resonance Assessment – test alignment between your name and destiny field.","Ten-Year & Annual Cycle Forecast – uncover long and short-term timing triggers.","Blueprint Compilation – deliver a 200+ page in-depth destiny report.","Interpretation Consultation – translate findings into personalised strategy."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Designed for turning points",title:"Built for Those Ready to Level Up",imageLabel:"Advanced audience storyboard",imageUrl:"/images/page-360-advanced/360-adv-img-05.jpeg",body:"Perfect for individuals moving through major transitions or seeking mastery over timing.",points:["Leaders planning significant personal or career pivots.","Entrepreneurs syncing personal destiny with business growth.","Professionals engineering long-term strategy through timing mastery.","Individuals curious about how name energy shapes their trajectory."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you take away",title:"A Time-Coded Master Plan",imageLabel:"Destiny master plan map",imageUrl:"/images/page-360-advanced/360-adv-img-06.jpeg",body:"You leave with a complete, time-coded roadmap that shows who you are, how your cycles unfold and how to move forward with power and precision. Challenges become rhythm—not resistance—once you understand your internal frequency."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to Unlock the Deeper Layers of Your Destiny?",dividerSubtitle:"Reserve your Advanced Destiny Blueprint",title:"Get Your Advanced Destiny Blueprint",message:"Click to begin your personalised analysis and master the rhythm of your life.",primaryLabel:"Get Your Advanced Destiny Blueprint",primaryHref:"/pricing"}},supremeBlueprint:{badge:"360 Holistic",title:"Supreme Destiny Blueprint",subtitle:"When Heaven, Earth, and Human align — destiny becomes clarity.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Full-spectrum mastery",title:"Unify Heaven, Earth and Human",imageLabel:"Supreme destiny overview panel",imageUrl:"/images/page-360-supreme/360-pro-img-01.jpeg",body:"The Supreme Destiny Blueprint is a 300+ page full-spectrum consultation—the most complete edition in the Destiny Blueprint series. It unites BaZi, numerology, name energy and Feng Shui to reveal how time, space and personal energy converge so you can command every dimension of your life."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Holographic destiny system",title:"See the Entire Ecosystem of Your Destiny",imageLabel:"Destiny ecosystem board",imageUrl:"/images/page-360-supreme/360-pro-img-02.jpeg",body:"This blueprint delivers the most complete metaphysical portrait available.",points:["Talent & Core Potential: reveal innate gifts, hidden strengths and life mission.","Career & Industry Blueprint: highlight industries and environments aligned with your element pattern.","Wealth Structure: decode how prosperity flows, accumulates and is protected in your chart.","Ten-Year Luck & Timing: map decadal transitions for long-range strategic planning.","Numerology Insights: refine personality and behaviour through life number overlays.","Energy Field Assessment: evaluate personal vibration and provide realignment guidance.","Name Energy Optimisation: assess name resonance and suggest enhancements.","Home Feng Shui Assessment: align residential energy with your personal destiny.","Practical Remedies: deliver custom strategies to enhance opportunities and dissolve obstacles."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Heaven · Earth · Human cohesion",title:"Synchronise Heaven, Earth and Human",imageLabel:"Heaven earth human alignment map",imageUrl:"/images/page-360-supreme/360-pro-img-03.jpeg",body:"This consultation integrates Heaven (time cycles), Earth (Feng Shui and location energy), and Human (personal chart) into one cohesive analysis. By synchronising your personal destiny code with environmental and temporal flow, the Supreme Destiny Blueprint shows how to align every area of your life—career, wealth, health and relationships—with cosmic rhythm. You’ll gain:",points:["A holographic understanding of your entire destiny system.","A forward-looking blueprint for the coming decades of timing.","An integrated plan that weaves time, space and energy into one strategy."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From assessment to activation",title:"Six Steps to a Supreme Blueprint",imageLabel:"Supreme blueprint workflow",imageUrl:"/images/page-360-supreme/360-pro-img-04.jpeg",body:"A rigorous workflow ensures insight becomes transformation.",points:["Initial Consultation – clarify background, goals and life stage.","Comprehensive Data Analysis – integrate BaZi, numerology, name energy and Feng Shui.","Cycle Forecasting – map Ten-Year and Annual transitions for opportunity control.","Energy Field Evaluation – assess personal and environmental resonance.","Blueprint Compilation – deliver a 300+ page full-holographic destiny report.","Interpretation Session – walk through insights with tailored strategy briefings."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"For total alignment",title:"Designed for Those Leading Whole Lifetimes",imageLabel:"Supreme audience storyboard",imageUrl:"/images/page-360-supreme/360-pro-img-05.jpeg",body:"Perfect for visionaries integrating destiny, energy and environment into one system.",points:["Leaders and founders orchestrating multi-decade plans.","Entrepreneurs engineering legacy ventures and wealth structures.","Individuals at major crossroads in life, career or relationship.","Homeowners aligning personal energy with residential Feng Shui."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you receive",title:"Own a Full-Holographic Destiny Ecosystem",imageLabel:"Holographic destiny map",imageUrl:"/images/page-360-supreme/360-pro-img-06.jpeg",body:"You receive the most detailed destiny intelligence ever designed—a complete holographic system that connects your inner blueprint with the outer world. The Supreme Destiny Blueprint empowers you to make every choice with confidence, foresight and resonance. When timing, environment and energy align, success stops being unpredictable—it becomes natural flow."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to See Your Destiny in Full Dimension?",dividerSubtitle:"Reserve your Supreme Destiny Blueprint",title:"Get Your Supreme Destiny Blueprint",message:"Click to begin your full-holographic consultation and experience destiny from every dimension.",primaryLabel:"Get Your Supreme Destiny Blueprint",primaryHref:"/pricing"}},enterpriseSite:{badge:"Enterprise Advisory",title:"Enterprise Site Strategy",subtitle:"The site must harmonize landform energy, cosmic cycles, and business nature to endure prosperity.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Strategic site foresight",title:"Where Earth and Enterprise Align",imageLabel:"Enterprise site strategy collage",imageUrl:"/images/page-site/site-img-01.jpeg",body:"Enterprise Site Strategy is a specialised metaphysical consultation that helps organisations choose, evaluate and optimise locations using classical Feng Shui and time–space principles. It integrates landform, directional energy and cyclical timing to identify places that amplify opportunity instead of consuming it—ensuring every chosen ground supports long-term success."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Invisible forces, visible results",title:"Expose the Energetic Blueprint of Each Site",imageLabel:"Site energy intelligence board",imageUrl:"/images/page-site/site-img-02.jpeg",body:"Every site carries a pattern of unseen energy that shapes business momentum. This analysis surfaces the levers you need.",points:["Geographical Qi Flow: whether the surrounding topography gathers or scatters prosperity.","Directional Wealth Line: ideal facing, entrance and flow paths that attract resources.","Timing Alignment: auspicious periods to sign, renovate or launch operations.","Industry Resonance: match between site element and business nature (Fire for tech, Metal for finance, etc.).","Hidden Constraints: early warning for structures or alignments that may restrict performance."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Land · Direction · Timing",title:"Synchronise Enterprise Destiny with Terrain",imageLabel:"Site resonance matrix",imageUrl:"/images/page-site/site-img-03.jpeg",body:"We blend landform study, directional Feng Shui and cosmic timing to align corporate destiny with location energy so every square metre works with you—not against you.",points:["Landform intelligence evaluates mountains, waterways and surrounding structures.","Directional mapping determines optimal facing, entrances and internal flow.","Timing overlays apply San Yuan cycles and activation dates.","Enterprise calibration correlates company charts with site energy.","Mitigation protocols outline remedies when terrain requires reinforcement."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From scouting to decision",title:"Six Steps to Site Selection Clarity",imageLabel:"Enterprise site workflow board",imageUrl:"/images/page-site/site-img-04.jpeg",body:"A rigorous workflow converts terrain diagnostics into board-level guidance.",points:["Consultation & Objective Setting – clarify expansion goals and site criteria.","Site Data Collection – gather coordinates, layouts and surroundings for shortlisted plots.","Energy & Flow Analysis – review landform, facing and natural qi distribution.","Timing & Cycle Review – match site potential with current and upcoming cycles.","Comparative Ranking – score sites by synergy, resilience and regulatory fit.","Strategic Delivery – present final recommendations with actionable timing and layout insights."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Land equals momentum",title:"Built for Strategic Decision Makers",imageLabel:"Leadership site evaluation briefing",imageUrl:"/images/page-site/site-img-05.jpeg",body:"Designed for enterprises and investors whose next move depends on choosing ground that compounds success.",points:["Companies establishing headquarters or entering new cities.","Developers assessing high-value land or mixed-use investments.","Retail and F&B brands selecting flagship or multi-outlet locations.","Manufacturers relocating plants for logistics efficiency and energy stability."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you receive",title:"A Prosperity Map for Your Next Site",imageLabel:"Prosperity flow site map",imageUrl:"/images/page-site/site-img-06.jpeg",body:"You gain more than a report—you receive a strategic map of prosperity flow. Enterprise Site Strategy empowers confident selection so your new foundation resonates with Heaven’s timing and Earth’s rhythm, making growth sustainable rather than accidental."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to Find the Ground Where Fortune Begins?",dividerSubtitle:"Reserve your site selection consultation",title:"Start Your Site Strategy Consultation",message:"Click to begin your personalised site consultation and discover where your enterprise truly belongs.",primaryLabel:"Start Your Site Strategy Consultation",primaryHref:"/pricing"},newsletterTitle:"Enterprise Site Dispatch",newsletterSubtitle:"Landform intelligence, timing alerts and location optimisation for executive teams."},enterpriseCycles:{badge:"Enterprise Advisory",title:"Enterprise Strategy & Cycle Intelligence",subtitle:"Those who move with time, move ahead of fate.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Strategy meets cosmic timing",title:"Use the Rhythm of Time as a Strategic Asset",imageLabel:"Enterprise timing intelligence collage",imageUrl:"/images/page-cycles/cycles-img-01.jpeg",body:"Enterprise Strategy & Cycle Intelligence is an advanced metaphysical consultation that aligns business decisions with the natural rhythm of time. It bridges strategic planning with metaphysical timing—revealing when expansion thrives, when to consolidate, and when to shift direction so cosmic rhythm becomes a practical competitive edge."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Cycles decoded",title:"See the Patterns Behind Performance",imageLabel:"Cycle diagnostics board",imageUrl:"/images/page-cycles/cycles-img-02.jpeg",body:"Every company operates inside cycles of markets, people and time. This consultation uncovers the hidden cadence steering results.",points:["Strategic Timing: when to grow, pause or pivot based on destiny trends.","Cycle Mapping: locate your current phase in the prosperity curve.","Opportunity Windows: identify upcoming months or years favourable for launches, funding or alliances.","Crisis Forecast: detect volatility and internal misalignment before they erupt.","Momentum Optimisation: synchronise leadership actions with cosmic flow."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Heaven · Earth · Human alignment",title:"Translate Cosmic Rhythm into Boardroom Intelligence",imageLabel:"Heaven earth human resonance map",imageUrl:"/images/page-cycles/cycles-img-03.jpeg",body:"We map the enterprise founding chart, leadership rhythm and market flow against greater celestial cycles, revealing resonance and friction between Heaven (timing), Earth (operations) and Human (decisions). The result is timing guidance executives can act on.",points:["Founding destiny profile with cycle overlays.","Leadership timing dashboard matched to corporate targets.","Industry cycle correlation using macro yin-yang trends.","Cycle heatmaps showing active vs dormant phases.","Risk and opportunity tagging for upcoming windows."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From intent to implementation",title:"Six Steps to Cycle-Led Strategy",imageLabel:"Cycle strategy workflow board",imageUrl:"/images/page-cycles/cycles-img-04.jpeg",body:"A structured pathway converts metaphysical timing into executable action plans.",points:["Strategic Briefing – align on goals, challenges and horizon.","Cycle Profiling – analyse enterprise destiny and leadership cadence.","External Alignment – sync internal rhythm with market and macro cycles.","Period Forecasting – map 1/3/10-year growth and caution phases.","Interpretation Session – translate insights into plain, strategic language.","Action Blueprint – deliver a time-based plan with key focus points."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Clarity before commitment",title:"For Leaders Steering Pivotal Moves",imageLabel:"Leadership timing briefing",imageUrl:"/images/page-cycles/cycles-img-05.jpeg",body:"Ideal for leadership teams and investors who require timing insight before committing capital and resources.",points:["CEOs and founders planning expansion or restructure.","Investors timing market entry, scaling or divestment.","Teams managing rapid growth, integration or transition.","Visionaries aligning destiny with long-term business cycles."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you receive",title:"A Strategic Rhythm Playbook",imageLabel:"Time-centred strategy map",imageUrl:"/images/page-cycles/cycles-img-06.jpeg",body:"You leave with deep clarity on where your company sits in the time cycle and how to turn timing into advantage. Enterprise Strategy & Cycle Intelligence merges destiny rhythm with decision science so leadership acts with foresight—not hindsight—making success repeatable rather than accidental."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to Master the Rhythm of Your Enterprise?",dividerSubtitle:"Reserve your strategy & cycle consultation",title:"Start Your Strategy & Cycle Consultation",message:"Click to begin your personalised session and turn timing into strategic power.",primaryLabel:"Start Your Strategy & Cycle Consultation",primaryHref:"/pricing"},newsletterTitle:"Enterprise Cycle Dispatch",newsletterSubtitle:"Cycle alerts, timing forecasts and rhythm optimisation for executive teams."},celestialNumbers:{badge:"Imperial Oracle",title:"Supreme Celestial Numbers",subtitle:"Decode the rhythm of time and move in sync with your destiny.",sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Service synopsis",title:"Live in Rhythm with Destiny",imageLabel:"Time, space and destiny woven together",imageUrl:"/images/page-supreme-celestial/supreme-image-01.jpeg",body:"Supreme Celestial Numbers is a precision metaphysical consultation that decodes how time, space and personal destiny intertwine. Rooted in the ancient Huangji Tian Shu philosophy, it reveals not only what may happen but why events unfold and how to act before they surface so you move with, not against, the current of time."},{key:"insight",dividerTitle:"What It Reveals",dividerSubtitle:"Uncover your hidden timeline",title:"See the Rhythm Beneath Every Chapter",imageLabel:"Destiny rhythm insight board",imageUrl:"/images/page-supreme-celestial/supreme-image-02.jpeg",body:"Every life follows an invisible rhythm. This reading uncovers the currents shaping your decisions before they surface.",points:["Life Momentum: when your personal cycle strengthens or wanes.","Turning Points: windows of opportunity and risk before they appear.","Hidden Influences: people, environments or timing shaping results silently.","The Grand Blueprint: the overarching theme your destiny is unfolding."]},{key:"method",dividerTitle:"How It Works",dividerSubtitle:"Celestial mathematics in action",title:"Align Inner Rhythm with Cosmic Timing",imageLabel:"Celestial mathematics overlay",imageUrl:"/images/page-supreme-celestial/supreme-image-03.jpeg",body:"Through celestial mathematics and temporal mapping, the oracle aligns your personal timeline with the universal cycle of change. It reveals the harmony and tension between your inner rhythm and the world's external timing so clarity replaces guesswork.",points:["A destiny map that makes clear which side time currently stands on.","Command of energy rhythms across the coming year and decade.","A decision reference that clarifies when to advance and when to hold."]},{key:"process",dividerTitle:"Service Process",dividerSubtitle:"From data to directives",title:"Five Steps from Intake to Blueprint",imageLabel:"Celestial consultation workflow board",imageUrl:"/images/page-supreme-celestial/supreme-image-04.jpeg",body:"Our workflow turns metaphysical insight into precise guidance, from first contact through the action blueprint.",points:["Information Intake – collect essential birth or founding details and focus area.","Celestial Mapping – construct your personalised destiny timeline.","Cycle Analysis – decode long, medium and short-term prosperity phases.","Interpretation Session – hold a one-to-one briefing in clear, practical language.","Action Blueprint – deliver customised timing, focus and directional guidance."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"People who sense change",title:"Designed for Leaders Who Feel the Shift",imageLabel:"Leaders preparing pivotal decisions",imageUrl:"/images/page-supreme-celestial/supreme-image-05.jpeg",body:"Ideal for individuals and teams who notice momentum shifting and want clarity before acting.",points:["Executives making pivotal choices.","Entrepreneurs preparing transformation.","Professionals navigating uncertainty.","Anyone sensing life's rhythm changing but unsure of direction."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What you take away",title:"Leave with a Time-Coded Strategy",imageLabel:"Time-coded strategic blueprint",imageUrl:"/images/page-supreme-celestial/supreme-image-06.jpeg",body:"You receive a time-coded strategy for your next chapter. Know what to accelerate, what to pause and what to release as Supreme Celestial Numbers realigns you with the current of time so opportunities meet you halfway."}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Ready to See the Pattern Behind Time?",dividerSubtitle:"Reserve your Supreme Celestial Numbers session",title:"Start Your Celestial Numbers Consultation",message:"Click to begin your personalised session and unlock the logic of your destiny.",primaryLabel:"Start Your Celestial Numbers Consultation",primaryHref:"/pricing"},newsletterTitle:"Celestial Numbers Dispatch",newsletterSubtitle:"Temporal pattern intelligence, opportunity windows and rhythm calibration notes."}},academyOverview:{badge:"Academy",title:"Metaphysics Mastery Pathway",subtitle:"From Foundation to Mastery – A Complete Journey into Chinese Metaphysics",sections:[{key:"overview",type:"text",dividerTitle:"Overview",dividerSubtitle:"The complete journey",title:"A Progressive Pathway to Mastery",paragraphs:["The Metaphysics Mastery Pathway is a complete, progressive journey that takes you from foundational understanding to professional-level mastery of Chinese metaphysics.","It unites the wisdom of BaZi, Zi Wei Dou Shu, Feng Shui, Numerology and Qi Men Dun Jia, translating classical knowledge into modern, applicable life strategy.","You will not only learn to interpret destiny—you will learn to flow with it."]},{key:"path",type:"levels",dividerTitle:"Learning Path",dividerSubtitle:"Four levels of structured progression",title:"A Cohesive Four-Level Journey",intro:"The pathway consists of four progressive levels, each deepening your understanding and real-world mastery.",levels:[{key:"foundation",badge:"🜃 1️⃣",slug:"foundation",anchor:"foundation-course",title:"Chinese Metaphysics Foundation",duration:"3–6 Months",body:"Establish your foundation in Yin-Yang balance, Five Elements theory and cosmic cycles. Understand how Heaven (timing), Earth (environment) and Human (decision) interact—the framework behind all metaphysical systems.",ctaLabel:"Learn More"},{key:"beginner",badge:"🜃 2️⃣",slug:"beginner",anchor:"beginner-course",title:"Beginners",duration:"6 Months",body:"Dive into the core systems of BaZi, Zi Wei Dou Shu, Numerology and Qi Men Dun Jia. Learn how destiny charts are structured, how energy patterns are formed and how direction and time influence outcomes. By the end of this level, you can interpret foundational charts and spot personal destiny patterns with confidence.",ctaLabel:"Learn More"},{key:"advanced",badge:"🜃 3️⃣",slug:"advanced",anchor:"advanced-course",title:"Advanced",duration:"3 Months",body:"Integrate every metaphysical system to analyse complex relationships between time, elements and space. Practise high-level chart interpretation, case study analysis and timing-based forecasting using Qi Men and BaZi cross-validation. Gain the insight to decode major life transitions and strategic decision timing.",ctaLabel:"Learn More"},{key:"professional",badge:"🜃 4️⃣",slug:"professional",anchor:"professional-course",title:"Professional",duration:"3 Months",body:"Transition from learner to practitioner. Learn to conduct consultations, compile professional destiny reports and communicate metaphysical insight with clarity and precision. This level focuses on advanced synthesis, ethics and real-world application for client guidance or business consulting.",ctaLabel:"Learn More"}]},{key:"curriculum",type:"bullets",dividerTitle:"What You Will Learn",dividerSubtitle:"Capabilities you build",title:"Build Strategic Metaphysics Skills",points:["Full comprehension of Yin-Yang and Five Elements interactions.","Chart-building and analysis across BaZi, Zi Wei, Numerology and Qi Men.","Application of Feng Shui and energy flow logic.","Ten-Year and Annual luck cycle interpretation.","Timing and opportunity management for life and business.","Integration of metaphysics into decision-making and leadership."]},{key:"format",type:"details",dividerTitle:"Teaching Method & Format",dividerSubtitle:"Theory, casework and mentorship",title:"A Guided Hybrid Learning Experience",body:"Each level blends theory, guided casework and mentorship.",details:[{label:"Format",value:"Online + in-person hybrid"},{label:"Duration",value:"3–6 months per level"},{label:"Materials",value:"Visual charts, workbooks and live case examples"},{label:"Mentorship",value:"One-on-one feedback and Q&A checkpoints"},{label:"Certification",value:"Official certificate awarded at each level"}]},{key:"audience",type:"bullets",dividerTitle:"Who It Is For",dividerSubtitle:"Designed for clarity and command",title:"Built for Learners Seeking Mastery",points:["Individuals exploring personal destiny and potential.","Practitioners advancing into deeper technical understanding.","Coaches, healers and consultants integrating metaphysics.","Entrepreneurs and leaders applying timing intelligence for foresight."]},{key:"outcome",type:"text",dividerTitle:"Outcome & Value",dividerSubtitle:"Where the pathway leads",title:"Transform Knowledge into Strategic Foresight",paragraphs:["Upon completing the Metaphysics Mastery Pathway, you can interpret, forecast and realign destiny patterns across multiple systems.","You gain mastery not only in theory but in practice—transforming insight into foresight, and foresight into confident action."]}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"Enroll in the Metaphysics Mastery Pathway",dividerSubtitle:"Begin your certified journey from Foundation to Professional Mastery.",title:"Start Your Metaphysics Mastery Pathway",message:"Click below to begin your certified journey—from Foundation to Professional Mastery.",primaryLabel:"Enroll Now",primaryHref:"/pricing"}},academyFoundation:{hero:{badge:"Academy",title:"Chinese Metaphysics Foundation",subtitle:"Build the Foundation · Understand Heaven & Humanity · Master the Logic Behind Destiny",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Course summary",title:"Lay the Blueprint for Every Metaphysical Discipline",paragraphs:["The Chinese Metaphysics Foundation course is the cornerstone of your entire metaphysical journey. It introduces the essential frameworks of Chinese metaphysics—Yin and Yang, the Five Elements, Heavenly Stems, Earthly Branches, and the dynamic flow of Qi—revealing the rational energetic architecture behind life events, personality traits and timing cycles.","By grounding yourself in these principles, you move beyond superstition into structured, accountable insight. Destiny stops feeling mysterious; it becomes a system you can read, anticipate and align with confidence."]},{key:"curriculum",dividerTitle:"What You Will Learn",dividerSubtitle:"Core building blocks",title:"Decode the Universal Rules Behind Destiny",points:["Yin & Yang dynamics: the dual forces shaping balance, polarity and transformation.","Five Elements (Wu Xing): Wood, Fire, Earth, Metal and Water as the energetic blueprint of creation.","Heavenly Stems & Earthly Branches: the 60 Jia Zi cycle that ties time, behaviour and fate together.","Qi movement & environmental resonance: how energy circulates through seasons, locations and decisions.","The Heaven–Earth–Human triad: positioning yourself within the cosmic code so action meets timing."]},{key:"why",dividerTitle:"Why It Matters",dividerSubtitle:"The base of every discipline",title:"Master Concepts Before Methods",paragraphs:["BaZi, Zi Wei Dou Shu, Qi Men Dun Jia and Feng Shui all rest on these foundations. Without a coherent grasp of the underlying logic, advanced study becomes fragmented opinion instead of repeatable analysis.","This course gives you the mental structure and energetic intuition to interpret any metaphysical system with clarity—protecting you from misconceptions and helping you apply techniques responsibly."]},{key:"structure",dividerTitle:"Course Structure",dividerSubtitle:"3–6 month journey",title:"Blend Theory with Applied Practice",paragraphs:["Across 3–6 months you move from core principles into applied interpretation, combining lectures, guided study and practice labs."],points:["Module 1 · Logic of Yin & Yang — universal duality, balance and transformation.","Module 2 · Five Elements Cycle — creation, control and elemental diagnostics.","Module 3 · Heavenly Stems & Earthly Branches — the cosmic calendar and 60 Jia Zi rhythm.","Module 4 · Energy Flow & Qi Patterns — how movement shapes momentum and outcomes.","Module 5 · Applied Foundation Practice — reading people and environments through elemental balance."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Designed for seekers of structure",title:"Built for New Learners and Returning Practitioners",points:["New students exploring how Chinese metaphysics actually works.","Advanced learners solidifying conceptual clarity before deeper study.","Practitioners from other modalities seeking systematic grounding.","Individuals curious about destiny mechanics beyond belief or myth."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"Where this foundation leads",title:"Gain the Language of Destiny Itself",paragraphs:["By completing the Chinese Metaphysics Foundation, you gain a clear, structured understanding of how destiny and energy interact. Fate stops being coincidence—it becomes a pattern you can interpret, anticipate and harmonise with.","This course does more than transfer knowledge. It gives you the language of destiny so every future method—BaZi, Zi Wei, Qi Men or Feng Shui—slots into place with precision."]}],faq:[{question:"Which core frameworks will I master?",answer:"You will internalise Yin-Yang dynamics, the Five Elements cycle, and the 10 Heavenly Stems / 12 Earthly Branches so every later chart or timing method has a clear structure."},{question:"How does this course connect to advanced study?",answer:"It creates the conceptual bridge to the Beginner Track—once you grasp the elemental logic here, multi-system analysis in BaZi, Zi Wei and Qi Men becomes much easier."},{question:"Will we practise on real charts?",answer:"Yes. Guided labs walk you through real-world case studies so you can apply elemental balance, timing rhythms and Qi flow to practical scenarios."},{question:"Do I keep the learning resources after class?",answer:"You retain lifetime access to the workbooks, reference decks and recorded sessions, so you can revisit the material whenever you progress to the next tier."}],cta:{dividerTitle:"Ready to Begin Your Foundation?",dividerSubtitle:"Start the journey toward mastery",title:"Enroll in the Chinese Metaphysics Foundation",message:"Click below to reserve your seat in the next cohort or reconnect with the core logic behind destiny.",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"}},academyBeginner:{hero:{badge:"Academy",title:"Beginner's Metaphysic Course",subtitle:"Step Into Metaphysics · Decode the Hidden Order · Open the First Door to Destiny",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Course snapshot",title:"Bridge Curiosity into Structured Clarity",paragraphs:["The Beginner's Metaphysic Course is the bridge between curiosity and clarity—built for learners ready to explore the energetic language behind destiny.","Across six months you journey through BaZi, Zi Wei Dou Shu, numerology and Qi Men Dun Jia so you can see how timing, elemental balance and spatial flow weave together to shape real outcomes.","You will learn how to interpret entry-level charts, recognise structural patterns and read the unseen influences that guide decisions, opportunities and challenges."]},{key:"curriculum",dividerTitle:"What You Will Learn",dividerSubtitle:"Core disciplines",title:"Activate Four Metaphysical Systems",points:["BaZi foundations: understand the Four Pillars, elemental strength and how they influence personality, potential and timing.","Zi Wei Dou Shu basics: explore star groupings and how each palace reflects critical life arenas.","Numerology and life path: decode birth numbers to reveal personal vibration and destiny flow.","Qi Men Dun Jia overview: learn how time, direction and energy converge to open windows of advantage.","Practical interpretation: connect theory to real scenarios through guided chart reading and case practice."]},{key:"why",dividerTitle:"Why It Matters",dividerSubtitle:"Clarity over guesswork",title:"See the Blueprint Instead of Guessing",paragraphs:["Understanding metaphysics at this level is like studying the architectural drawing of life—you stop guessing and start seeing how everything connects.","It gives you a clear lens on strengths, timing windows and decision cycles so you can navigate with foresight instead of confusion."]},{key:"structure",dividerTitle:"Course Structure",dividerSubtitle:"6-month guided journey",title:"Modular Learning with Guided Practice",paragraphs:["This is a six-month immersive pathway that blends teaching, guided interpretation and application so concepts immediately translate into skill."],points:["Module 1 · BaZi Framework — chart building, elemental calibration and personal analysis.","Module 2 · Zi Wei Chart Reading — palace dynamics, star interpretation and life overview.","Module 3 · Numerology Fundamentals — life path and destiny numbers decoded for practical use.","Module 4 · Qi Men Dun Jia Overview — time-space energetics and foundational plate layouts.","Module 5 · Integration Practice — real-case interpretation clinics with mentor Q&A."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Built for committed explorers",title:"Designed for Learners Ready to Apply Insight",points:["Individuals curious about how metaphysics shapes life direction and daily decisions.","Students seeking a structured pathway before moving into advanced disciplines.","Practitioners from adjacent fields who want to integrate destiny logic into their work.","Anyone ready to begin reading their own or others' destiny charts with accountability."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What changes after six months",title:"Read Destiny Charts with Confidence",paragraphs:["By completing the Beginner's course you gain the ability to interpret foundational charts across four core systems.","Destiny stops feeling mysterious—it becomes structured, readable and actionable.","You expand perception, strengthen intuition and build the platform needed for every advanced or professional track that follows."]}],cta:{dividerTitle:"Ready to Begin Your Beginner Track?",dividerSubtitle:"Start your six-month journey",title:"Enroll in the Beginner's Metaphysic Course",message:"Click below to begin your six-month journey into the logic of destiny and energy flow.",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"}},academyIntermediate:{hero:{badge:"Academy",title:"Advanced Course",subtitle:"Integrate the Arts · Master Destiny Intersections · See the Hidden Order Behind Life",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Course focus",title:"Integrate Multiple Systems into One Command Framework",paragraphs:["The Advanced Course is where theory transforms into mastery. Building on the foundation and beginner levels, this stage shows you how to integrate BaZi, Zi Wei Dou Shu, numerology, Feng Shui and Qi Men Dun Jia into a cohesive interpretive workflow.","You will analyse how time, elements and space interact, identify chart cause and effect, and spot turning points before they manifest. Destiny becomes a map—one you can read, navigate and influence with clarity."]},{key:"curriculum",dividerTitle:"What You Will Learn",dividerSubtitle:"Integration skill set",title:"Cross-Validate Every Axis of Destiny",points:["Integrated chart analysis: cross-interpret BaZi, Zi Wei and Qi Men to reveal timing intersections.","Cycle mapping: track ten-year and annual luck trends and their relationship with environmental qi.","Feng Shui application: align personal destiny patterns with residential or workplace energy.","Numerology expansion: deepen life path resonance with cosmic timing windows.","Advanced case studies: practise on real scenarios to sharpen precision and pattern recognition."]},{key:"why",dividerTitle:"Why It Matters",dividerSubtitle:"Beyond surface reading",title:"Turn Knowledge into Strategic Foresight",paragraphs:["This level transforms metaphysics from scattered knowledge into strategic insight. You learn how separate systems confirm and balance one another—a hallmark of professional practitioners.","By integrating logic and intuition you can decode complex destinies and deliver grounded guidance that truly shifts decisions."]},{key:"structure",dividerTitle:"Course Structure",dividerSubtitle:"3-month intensive",title:"Modules That Blend Integration with Practice",paragraphs:["A three-month intensive journey combining system synthesis, live casework and mentor guidance."],points:["Module 1 · Cross-System Framework — how BaZi, Zi Wei and Qi Men interact.","Module 2 · Cycle Forecasting — analysing timing patterns and life transitions.","Module 3 · Feng Shui Resonance — matching destiny codes with space and environment.","Module 4 · Numerology Depth — applying energy frequency to time-based decisions.","Module 5 · Case Application — constructing cohesive interpretations from real engagements."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Built for committed analysts",title:"Designed for Practitioners Elevating to Multi-System Mastery",points:["Learners who have completed the foundation and beginner levels.","Practitioners seeking to integrate multiple metaphysical systems into one workflow.","Consultants refining interpretive precision for client engagements.","Individuals ready to forecast timing windows and guide others with confidence."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"What changes post-course",title:"Read Destiny Intersections with Confidence",paragraphs:["By completing the Advanced Course you gain the rare ability to read the intersections where time, space and energy converge.","Metaphysics becomes a coherent system rather than fragments, empowering you to anticipate shifts and align life decisions with cosmic rhythm."]}],cta:{dividerTitle:"Ready to Master Multi-System Integration?",dividerSubtitle:"Begin your three-month intensive",title:"Enroll in the Advanced Course",message:"Click below to begin your three-month journey into multi-system integration and destiny mastery.",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"}},academyProfessional:{hero:{badge:"Academy",title:"Professional Course & Certification",subtitle:"From Learning to Mastery · From Knowledge to Guidance",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"Overview",dividerSubtitle:"Pathway pinnacle",title:"Turn Mastery into Professional Practice",paragraphs:["The Professional Course & Certification marks the summit of the Metaphysics Mastery Pathway—built for learners ready to transform knowledge into practice and practice into purpose.","This stage refines analytical technique, strengthens consulting communication and establishes the professional standards required to advise with accuracy, ethics and confidence."]},{key:"curriculum",dividerTitle:"What You Will Learn",dividerSubtitle:"Professional toolkit",title:"Four Domains of Professional Command",points:["Consulting framework: structured engagements from discovery to delivery.","Advanced interpretation logic: integrate BaZi, Zi Wei, numerology, Feng Shui and Qi Men inside one diagnostic model.","Client communication & ethics: cultivate clarity, empathy and integrity throughout every session.","Report writing & presentation: craft comprehensive destiny reports and present actionable guidance.","Certification practicum: supervised readings and project assignments that lead to accreditation."]},{key:"why",dividerTitle:"Why It Matters",dividerSubtitle:"Wisdom with responsibility",title:"Translate Insight into Human Impact",paragraphs:["This stage is about embodying wisdom, not just memorising information. Becoming a certified consultant means translating destiny data into human understanding and practical action.","You gain the technical depth and emotional maturity to serve responsibly, turning metaphysical insight into transformative outcomes."]},{key:"structure",dividerTitle:"Course Structure",dividerSubtitle:"3-month practicum",title:"Mentored Practicum with Certification Evaluation",paragraphs:["A three-month intensive combining mentorship, supervised cases and final certification assessments."],points:["Module 1 · Consulting Framework & Ethics — professional standards and service flow.","Module 2 · Cross-System Analysis — blending all five systems for holistic readings.","Module 3 · Client Simulation & Practice — guided sessions with instructor feedback.","Module 4 · Report Writing & Presentation — delivering polished written and verbal guidance.","Module 5 · Certification Assessment — written and oral evaluations for official recognition."]},{key:"audience",dividerTitle:"Who It Is For",dividerSubtitle:"Designed for practitioners",title:"Built for Future Metaphysics Consultants",points:["Graduates of the Advanced Course seeking formal certification.","Practitioners preparing to operate as professional metaphysics consultants.","Coaches, wellness and consulting professionals adding metaphysical depth.","Individuals ready to guide others ethically and confidently with destiny insight."]},{key:"outcome",dividerTitle:"Outcome & Value",dividerSubtitle:"After certification",title:"Become a Certified Metaphysics Consultant",paragraphs:["Upon completion you are recognised as a Certified Metaphysics Consultant equipped with advanced analysis, interpretation and client management skills.","You graduate with more than a certificate—you leave with mastery, ready to serve, advise and lead within the field of Chinese metaphysics."]}],cta:{dividerTitle:"Ready to Earn Your Certification?",dividerSubtitle:"Begin the final stage of mastery",title:"Enroll in the Professional Course & Certification",message:"Click below to start your final step toward professional certification and metaphysics mastery.",primaryLabel:"Enroll Now",primaryHref:"/pricing",secondaryLabel:"Back to Course Overview",secondaryHref:"/academy/courses"}},hero:{slide1_title:"The Ultimate Destiny Matrix",slide1_sub:"From BaZi to Stars, Numbers to Hexagrams — A Unified Destiny Analysis",slide2_title:"The Three Celestial Codes",slide2_sub:"Ancient Strategic Algorithms of Destiny, Revived Today",slide3_title:"Cosmic Energy Arrangement",slide3_sub:"Ancient Spatial Wisdom for Modern Success",slide4_title:"Heaven–Earth–Human Grid & I-Ching Energy Matrix",slide4_sub:"Decoding Names and Numbers through Heaven–Earth–Human Trinity and I-Ching Resonance",slide5_title:"Corporate Destiny Blueprint & Opportunity Matrix",slide5_sub:"Harnessing BaZi, Zi Wei, Qi Men, and Feng Shui for Corporate Growth"},about:{story:{title:"Our Story",timeline:[{date:"2021",title:"Origins of the Studio",outcome:"We started as a tiny studio with one obsession: turning classical Chinese metaphysics into practical, accountable guidance. Before drawing charts, we listened. Clients shared real constraints—budgets, teams, deadlines—and we tested how BaZi, Zi Wei and Qi Men could inform timing, strategy and design decisions. Every idea had to survive reality: What launches when, who to hire, which path to drop. That discipline shaped our voice—clear, calm and candid—and set the tone for a practice built on evidence, not mystique. The goal was simple: fewer guesses, stronger moves, better timing."},{date:"2022",title:"True Solar Time Standard",outcome:"Accuracy starts with inputs. We standardised every reading to True Solar Time and the 24 Solar Terms, then rechecked against authoritative calendars. The result was immediate: less noise between methods and clear, repeatable windows for career shifts, launches and relocations. When techniques converged, outcomes improved; when they conflicted, we learned why. Clients noticed fewer surprises and more confidence. Timing stopped feeling mystical and became a usable lever—specific weeks and quarters to act, pause or prepare—so plans could move from “hope” to tested probability."},{date:"2023",title:"Cross‑Validation Framework",outcome:"We codified a simple rule: no single method decides. BaZi, Zi Wei, Qi Men and, where relevant, Feng Shui must support the same direction. We built a checklist to force agreement, surface risks and document trade‑offs. Sessions turned into collaborative strategy workshops: clear objectives, evidence, options and timing. When signals diverged, we explained why and adjusted the plan, not the promise. Clients left with accountable roadmaps they could share with teams—who does what, when, and how success will be measured."},{date:"2024",title:"Studio & Enterprise Work",outcome:"As demand grew, we opened a dedicated studio and expanded into enterprise work. We embedded with clients for audits, site selection and quarterly planning, aligning spatial layouts with hiring cycles and market timing. Reports became roadmaps with owners and checkpoints. The method matured: consistent inputs, cross‑validated signals, and practical execution. It’s still metaphysics—just applied like operations. Less flourish, more follow‑through. The measure is impact: better windows chosen, fewer costly detours, and a team that moves with timing instead of fighting it."}]},milestones:{title:"Milestones",items:[{date:"2021‑03",outcome:"Studio founded; piloted combined BaZi, Zi Wei and Qi Men workflows."},{date:"2021‑11",outcome:"Adopted True Solar Time and 24 Solar Terms across all timestamping."},{date:"2022‑08",outcome:"Published cross‑validation checklist; reduced variance across methods."},{date:"2023‑04",outcome:"Launched visual reports with structured remediation roadmaps."},{date:"2024‑02",outcome:"Opened dedicated studio; expanded to enterprise audits and site selection."},{date:"2025‑06",outcome:"Introduced bilingual delivery (EN/CN) and short video explainers."}]}}},CN:{brand_top:"玄域联盟",brand_bottom:"Metaphysics Alliance",who_title:"我们是谁",who_long:"玄域联盟立足马来西亚，以严谨与实用为核心，将传统玄学转化为可执行方案。我们综合八字、紫微、奇门、风水、皇极、太乙、六壬与数字命理，并以真太阳时与二十四节气为基准。",why_title:"为什么选择我们？",why_long:"我们以多术数交叉印证替代单一判断；先校正真太阳时，再验证节气节点，降低误差。",reviews_title:"客户对我们的评价",newsletter_title:"订阅资讯",newsletter_sub:"实战洞见、时机窗口与案例解读。拒绝骚扰。",newsletter_placeholder:"输入邮箱",newsletter_button:"订阅",map_title:"地理位置",nav:{home:"首页",celestial:"天命解析",bazi:"八字命理",ziwei:"紫微斗数",qimen:"奇门遁甲",fengshui:"风水",fengshui_res:"住宅风水",fengshui_com:"商业风水",name_number:"姓名数理",soul_matrix:"灵魂矩阵",cosmic_name:"星命命名",oracles:"帝皇天策",celestial_numbers:"皇极天数",taiyi_numbers:"乾坤太乙策",six_ren:"六壬神机数",vip_report:"360全维度蓝图",vip_essential:"命运蓝图·启程版",vip_advanced:"天机剖象·进阶版",vip_supreme:"乾坤至尊·全息版",academy:"学院",courses:"课程概览",foundation:"玄学基础课程",beginner:"初阶课程",advanced:"进阶课程",pro:"专业认证",enterprise:"企业咨询",audit:"企业风水格局",site:"天元企业选址",cycles:"企业战略布局",resources:"资源库",four_pillars:"四柱命盘",purple_star:"紫微星图",pricing:"服务定价",about:"关于我们",contact:"联系我们",celestial_groups:[{title:"天命蓝图",items:[{title:"命运算法",href:"/services/celestial/destiny-algorithm",thumbnail:"/images/page-services/1-bazi.png"},{title:"帝星天图",href:"/services/celestial/imperial-star-atlas",thumbnail:"/images/page-services/2-ziwei.png"},{title:"玄机战策",href:"/services/celestial/arcane-strategy-matrix",thumbnail:"/images/page-services/3-qimen.jpg"}]},{title:"风水评估",items:[{title:"宅运天机",href:"/services/fengshui/home-destiny-compass",thumbnail:"/images/page-services/4-home.jpg"},{title:"权势风水",href:"/services/fengshui/office-power-alignment",thumbnail:"/images/page-services/5-office.jpg"},{title:"龙脉圣图",href:"/services/fengshui/dragon-vein-oracle",thumbnail:"/images/page-services/6-dragon.jpg"}]},{title:"风水布局",items:[{title:"三元九运",href:"/services/fengshui/cosmic-cycle-of-fate",thumbnail:"/images/page-services/7-cosmic.jpg"},{title:"玄空飞星",href:"/services/fengshui/celestial-star-matrix",thumbnail:"/images/page-services/8-celestial.jpg"},{title:"造化能域",href:"/services/fengshui/energy-convergence-field",thumbnail:"/images/page-services/9-energy.jpg"}]},{title:"磁场矩阵",items:[{title:"太极数场",href:"/services/magnetic-matrix/i-ching-energy-matrix",thumbnail:"/images/page-services/10-iching.jpg"},{title:"名格天命",href:"/services/magnetic-matrix/name-destiny-code",thumbnail:"/images/page-services/11-name.jpg"},{title:"灵数天机",href:"/services/magnetic-matrix/soul-number-blueprint",thumbnail:"/images/page-services/12-soul.jpg"}]}]},pricing:{heroTitle:"服务套餐与定价",heroSubtitle:"为领袖、传承者与企业团队量身打造的高精度玄学方案。",heroDescription:"以上价格以马来西亚令吉（MYR）计价。确认目标并完成50%订金后启动项目，余款于交付核心报告或咨询当日结清。",noticeTitle:"每项服务均包含",noticePoints:["启动访谈：梳理目标、关键决策者与限制条件。","真太阳时校准并以多术数交叉验证成果。","中英双语交付，附高层摘要与执行摘要。","交付后30天内提供邮件支持，协助落地与答疑。"],currencyNote:"费用不含差旅、现场勘查与相关税费。国际项目可按MYR或USD结算，汇率以签约当日为准。",heroHighlights:[{title:"7天内排定首个行动冲刺",description:"我们主动安排启动会议、指派负责人并设定30/60/90天的阶段检查，让执行立即起跑并持续被追踪。"},{title:"高管级行动文档",description:"提供双语简报、决策矩阵与执行摘要，可直接用于董事会与投资者沟通。"},{title:"运营整合支援",description:"我们全程在线支援30/60/90天实施冲刺，随时调整以应对环境变化。"},{title:"利益相关者路线图即刻就绪",description:"我们预先准备投资人、董事会与团队的沟通要点，让启动会议一开始所有人就对目标与度量标准达成共识。"}],objectionsTitle:"我们消除前五大拒绝理由",objectionsSubtitle:"每个方案都针对常见的「不要」给出直接回应。",objections:[{key:"budget",objection:"「太贵了。」",response:"我们先守住收益：每个方案附带ROI基线、延迟成本模型，以及与可量化成果绑定的阶段目标。",reinforcements:["交付成果挂钩的分阶段付款安排。","高管KPI总表，清楚显示回本窗口与上行情境。"]},{key:"time",objection:"「我们没有时间执行。」",response:"先评估现有产能，再把建议折叠进原有节奏，无需额外团队也不用新增“神秘流程”。",reinforcements:["30/60/90天冲刺看板，包含负责人、交付物与例会提示。","可选每周20分钟作战室，快速清除阻碍。"]},{key:"clarity",objection:"「不确定适合我们。」",response:"每份报告都列出风险提示、验证证据与应变方案，让管理层看到建议如何贴合当前环境。",reinforcements:["交叉验证附录，展示八字、紫微、奇门与风水如何指向同一方向。","最佳／基准／回退触发条件的情境控盘表。"]},{key:"trust",objection:"「之前请的老师都很空泛。」",response:"我们是结合经典术数的管理顾问：结构化访谈、证据包、决策记录、复盘报告一应俱全。",reinforcements:["全程录音与双语逐字稿，可供合规留档。","所有建议都对应可衡量的指标，而非抽象的「能量改变」。"]},{key:"team",objection:"「团队不会买单。」",response:"我们协助关键干系人简报，把术数洞见转换成商业语言，并提供现成沟通模板。",reinforcements:["高层简报套件，含投资人／董事会／家族理事会的说辞要点。","面向一线团队的变革管理脚本，帮助落实采纳。"]}],cart:{add:"加入购物车",added:"已加入",remove:"移除",view:"查看购物车",goToCheckout:"前往结账",miniTitle:"购物车快照",empty:"尚未选择任何服务。",clear:"清空",continue:"继续浏览"},checkout:{title:"确认你的战略组合",subtitle:"在我们生成发票与启动时间表前，再次确认需要部署的服务组合。",emptyTitle:"购物车为空",emptyDescription:"请先从定价页面添加至少一项方案或增值服务。",emptyCta:"返回定价",summaryTitle:"已选择的服务",totalsLabel:"投资概览",currencyDisclaimer:"最终发票以马币金额为准；美元换算将使用Supabase同步的最新汇率。",primaryCta:"确认并索取发票",secondaryCta:"继续探索",tableHeaders:{service:"服务",investment:"投资金额",remove:"移除"}},checkoutAssuranceTitle:"确认后会发生什么",checkoutAssurancePoints:["我们会在一个工作日内锁定咨询档期并指派首席顾问。","你会收到安全付款连结与启动资料包，列出所需文件与数据。","启动会议将排出快速成果的交付节奏，确保30/60/90天窗口落地。"],categories:[{key:"celestial",title:"命运情报体系",subtitle:"适用于创办人、投资人及关键岗位人才的深度命理项目。",tiers:[{name:"命运算法（八字）",price:"RM 6,888",cadence:"每位高层调研",href:"/services/celestial/destiny-algorithm",features:["180页中英双语命盘，涵盖命局、影响力与节奏窗口。","90分钟策略咨询，附12个月行动路线。","真太阳时推演，结合关系与领导力位置分析。"]},{name:"帝星天图（紫微）",price:"RM 9,888",cadence:"每份帝星天图",href:"/services/celestial/imperial-star-atlas",features:["十二宫位深度解析，定位权力、资本与公众叙事。","六个重点启动窗口，匹配利益相关者与媒体节奏。","传承、联盟与声誉布局的高层保密简报。"]},{name:"玄机战策（奇门）",price:"RM 8,588",cadence:"每次任务部署",href:"/services/celestial/arcane-strategy-matrix",features:["针对发布、谈判或转折的奇门局布阵。","任务仪表板：吉门、禁门、干扰路径一目了然。","行动期内提供30天实时支援。"]}]},{key:"spatial",title:"风水与空间指挥",subtitle:"涵盖住宅、总部及旗舰场所的气场营造。",tiers:[{name:"宅运天机",price:"RM 7,288",cadence:"每处住宅",href:"/services/fengshui/home-destiny-compass",features:["现场或远程勘查，涵盖格局、地势与年度飞星。","家庭成员命盘对位，配置睡眠、工作与学习区。","提供12个月的激活与调整日历。"]},{name:"权势风水",price:"RM 12,588",cadence:"每层/每处办公空间",href:"/services/fengshui/office-power-alignment",features:["高层指挥区、业绩动线与团队分区的全盘布局。","高价值会议室与决策室的保护与强化方案。","季度调校计划与装修动工把关流程。"]},{name:"龙脉圣图",price:"RM 11,888",cadence:"每个选址项目",href:"/services/fengshui/dragon-vein-oracle",features:["宏观地势扫描与龙脉风险评分。","入口、标识与水体的朝向组合建议。","取得、动土与启用的时间窗口规划。"]}]},{key:"magnetic",title:"磁场矩阵与数字命理",subtitle:"用于命名、品牌讯息与个人节奏的能量校准。",tiers:[{name:"太极数场",price:"RM 4,288",cadence:"每份数场报告",href:"/services/magnetic-matrix/i-ching-energy-matrix",features:["以易经卦象解析个性、动机与决策节奏。","六个月节奏曲线：何时冲刺、何时蓄势。","每日修炼建议，封堵能量流失点。"]},{name:"名格天命",price:"RM 3,688",cadence:"每轮命名",href:"/services/magnetic-matrix/name-destiny-code",features:["多语言、多字母体系的现有姓名振频审核。","提供若干优化方案，匹配命盘与行业属性。","附法律、数字化与对外发布的同步规划。"]},{name:"灵数天机",price:"RM 2,988",cadence:"每份灵数蓝图",href:"/services/magnetic-matrix/soul-number-blueprint",features:["数字命理拆解直觉、创造力与满足路径。","匹配核心与命运数字的才能加速练习。","关系契合度分析，提供合作守护界线。"]}]},{key:"imperial",title:"帝皇天策",subtitle:"适用于国家级、跨国或高敏感度决策的尊享咨询。",tiers:[{name:"皇极天数",price:"RM 12,888",cadence:"每次推演",href:"/oracle/celestial-numbers",features:["真太阳时矩阵，映射全球与国家层级周期。","八宫权力分析，定位影响力、风险与护卫策略。","三段式简报：战略、化解与启动步骤。"]},{name:"乾坤太乙策",price:"RM 10,888",cadence:"每次策略",href:"/oracle/taiyi-numbers",features:["太乙飞盘推演，用于地缘、资本或大型部署。","天地人三才合一的优先行动清单。","45天内提供一次紧急复盘调校。"]},{name:"六壬神机数",price:"RM 9,688",cadence:"每次任务",href:"/oracle/six-ren",features:["六壬布盘，洞察冲突化解与隐秘行动。","敌我势能图与概率评估。","任务窗口内提供实时策略指引。"]}]},{key:"academy",title:"学院大师路径",subtitle:"四段式课程体系，陪伴学员从入门到专业执业。",tiers:[{name:"玄学基础课程",price:"RM 2,888",cadence:"每期（6周）",href:"/academy/foundation",features:["6 周直播强化班，打牢古典术数与时间节奏基础。","课堂数盘实验，实操八字、紫微与奇门基础工具。","提供中英对照教材与录播永久访问。"]},{name:"初阶课程",price:"RM 4,288",cadence:"每期（8周）",href:"/academy/beginner",features:["案例工作坊，将命理诊断应用到真实情境。","每周导师答疑与一对一练习反馈。","学习小组制度，强化技巧与执行力。"]},{name:"进阶课程",price:"RM 5,888",cadence:"每期（10周）",href:"/academy/intermediate",features:["跨术数整合，串联命运、空间与时机的策略打法。","企业沟通模版，翻译玄学语言成董事会可用的指令。","导师批改的结业项目，帮助优化实务流程。"]},{name:"专业认证",price:"RM 8,888",cadence:"每期（12周）",href:"/academy/professional",features:["模拟客户全流程：访谈、分析、交付与复盘。","职业伦理、合规与文档标准训练。","认证评审与校友网络支持，续建实战资源。"]}]},{key:"vip360",title:"360 全维度蓝图",subtitle:"为私人客户与家族办公室打造的三层命运指挥系统。",tiers:[{name:"命运蓝图·启程版",price:"RM 9,888",cadence:"每份蓝图",href:"/vip-report/essential",features:["120 页专属命盘报告，涵盖财富流向、事业共振与关系定位。","十年与年度节奏叠图，标记优先行动与风险节点。","启动访谈 + 75 分钟交付说明，并提供 30 天邮件支持。"]},{name:"天机剖象·进阶版",price:"RM 14,888",cadence:"每份蓝图",href:"/vip-report/pro",features:["220 页深度洞察，整合姓名能量、数字命理与多术数交叉验证。","领导、关系与资本布局矩阵，附风险缓冲与对策流程。","两次咨询（策略 + 落地）与专属时机甘特图。"]},{name:"乾坤至尊·全息版",price:"RM 23,888",cadence:"每份蓝图",href:"/vip-report/supreme",features:["320 页全息指挥方案，融合命盘、风水、数字命理与真太阳时。","家族治理、资产配置与传承路线图，内含风险化解机制。","60 天高层顾问支援，含即时择日与行动窗口更新。"]}]},{key:"enterprise",title:"企业战略指挥中心",subtitle:"为董事会与家族企业提供命运、时机与执行的整体框架。",tiers:[{name:"企业风水格局",price:"RM 18,588",cadence:"每家企业",href:"/enterprise/audit",features:["创立命盘、领导共振与财富渠道的全景诊断。","市场、人事与空间的风险扫描。","拆解「守、攻、转」三层行动序列。"]},{name:"天元企业选址",price:"RM 22,088",cadence:"每三处候选地点",href:"/enterprise/site",features:["地形、朝向与时间三维评估，最多覆盖三处地点。","繁荣、韧性与合规指数评分。","设计、分期与启用时间的一体化方案。"]},{name:"企业战略布局",price:"RM 16,588",cadence:"每个年度周期",href:"/enterprise/cycles",features:["十年与年度节奏图，标记扩张、整顿与静养阶段。","领导梯队节奏仪表板与接班防护。","产品发布、资本动作与合作轮换的时间蓝图。"]}]}],addOnsTitle:"增值服务与长期顾问",addOns:[{name:"高层顾问保留制",price:"每月 RM 5,000 起",features:["WhatsApp 与邮箱优先响应，实时决策支援。","每月时机简报，配合董事会或家族会议。","每月最多四个事件的额外排盘与择日。"]},{name:"现场沉浸式工作坊",price:"每日 RM 3,800 起 + 差旅",features:["现场踏勘、访谈与气场微调。","即时校正并培训负责人执行。","72小时内提交总结与下一步建议。"]},{name:"高层简报幻灯",price:"RM 2,288",features:["将玄学洞见翻译为董事会语言的专业简报。","风险、机会与时间矩阵一目了然。","附内部分发与保密使用指引。"]}],finePrintTitle:"须知",finePrint:["临时任务（提前少于7天）需加收25%加急费。","海外差旅以商务舱标准计价，并至少预留2天调研时间。","交付前14天内取消，订金不予退还。","可接受银行转账、FPX与企业信用卡（信用卡附3%手续费）。"],cta:{label:"预约定制方案",href:"/contact"}},vip:{section_title:"360全维度命运解析服务",cta:"了解更多",tiers:{lite_title:"命运蓝图·启程版",pro_title:"天机剖象·进阶版",supreme_title:"乾坤至尊·全息版",lite_points:["100+ 页个人命运蓝图","天赋潜能深度解析","职业定位与行业适配建议","财富模式诊断与优化","十年大运节奏分析","生命数字命理解析","针对短板的实用调整方案"],pro_points:["200+ 页命运深度蓝图","事业领域与行业共振定位","财富结构诊断与风险预警","十年大运转折与策略建议","生命数字交叉解析","健康、人际、效率的能量场分析","姓名能量共振评估与优化建议","结合时机的行动与化解方案"],supreme_points:["300+ 页命运报告","天赋潜能 · 行业定位 · 财运模式","十年大运交替分析","生命数字命理解析","实用化解建议","数理能量场分析与修正建议","姓名吉象分析与优化建议","住宅风水评估"]},about:{story:{title:"我们的故事",timeline:[{date:"2021",title:"工作室起源",outcome:"Metaphysics Alliance 以小型工作室起步，把传统术数与现代决策方法结合。先理解客户约束，再以八字、紫微、奇门校验时机与策略，聚焦清晰、可落地、可复用的方案，让建议在真实业务场景中反复验证。"},{date:"2022",title:"真太阳时标准",outcome:"统一口径，全面采用真太阳时与二十四节气校准时间戳，显著降低多法噪音。由此看见职业转折、产品发布、搬迁等重复窗口，信号由散乱变为聚焦，落到可验证、可执行的时间区间。"},{date:"2023",title:"交叉验证框架",outcome:"制定跨方法核对清单：八字、紫微、奇门与风水需形成共识。信号不一致时给出取舍依据与调整路线。咨询升级为协作式策略工作坊，产出可追责的行动计划，而非空泛的吉凶判断。"},{date:"2024",title:"工作室与企业项目",outcome:"成立独立工作室并扩展企业服务：常驻审计、选址与季度规划，把空间布局与招聘、市场节奏整合。方法学沉淀为可复用体系，将时机、设计与增长统一在同一张路线图上。"}]},milestones:{title:"里程碑",items:[{date:"2021‑03",outcome:"工作室成立；试点整合八字、紫微、奇门流程。"},{date:"2021‑11",outcome:"全面采用真太阳时与二十四节气时间校准。"},{date:"2022‑08",outcome:"发布交叉验证清单；显著降低多法差异。"},{date:"2023‑04",outcome:"上线可视化报告与结构化化解路线图。"},{date:"2024‑02",outcome:"启用独立工作室；拓展企业审计与选址服务。"},{date:"2025‑06",outcome:"推出中英双语交付与短视频讲解内容。"}]}}},services:{...Ni.CN,corporateAudit:{badge:"乾坤企业策",title:"乾坤企业策",subtitle:"洞察企业背后的命运格局。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"让企业与天时同步",title:"看见企业的能量底层",imageLabel:"企业命盘全景图",imageUrl:"/images/page-audit/audit-img-01.jpeg",body:"《乾坤企业策》以东方玄学为基础，从时间、空间、人事三轴解读企业的命运结构。它揭示财务报表看不出的隐性力量——能量平衡、成长节奏与长期气场，让决策层校准方向，使团队、场地与时间节奏保持同频。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"企业运势的隐形结构",title:"读懂企业命运的脉络",imageLabel:"企业能量流洞察板",imageUrl:"/images/page-audit/audit-img-02.jpeg",body:"企业命运由成立时间、关键人物与场地格局共同塑造。通过推演，你将看到：",points:["企业能量流：当前是扩张、转型还是休整周期。","领导共振：核心团队的气场是否与企业命盘匹配。","财富路径：哪一方向与时间最利于增长、融资与合作。","环境影响：办公或厂区的气场如何支撑或限制发展。","趋势预警：提前捕捉停滞与爆发的信号。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"时间·空间·人事共振",title:"让策略与天时共舞",imageLabel:"企业时空共振模型",imageUrl:"/images/page-audit/audit-img-03.jpeg",body:"通过“企业时间盘 + 场地气场 + 领导命盘”的三维分析，我们推演企业运势的周期规律，辨识顺势与逆势的时间节点。",points:["建立专属企业命运图。","校准领导命盘与企业节奏。","评估关键场所的空间共振。","识别顺势增长与应当蓄势的阶段。","制定顺应节奏的行动排序。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"六个步骤完成企业推演",title:"从诊断到蓝图的全链路",imageLabel:"企业审查流程图",imageUrl:"/images/page-audit/audit-img-04.jpeg",body:"严谨流程将玄学诊断转化为高层可执行的策略指令。",points:["前期访谈：梳理企业历史、痛点与愿景。","命盘绘制：依据成立与领导数据构建企业命盘。","能量诊断：检测经营节奏、领导气场与环境共振。","周期解读：推演未来1年、3年、10年的趋势。","策略咨询：以通俗语言呈现关键洞察。","行动蓝图：交付方向、时机、布局与团队对齐建议。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键节点的最佳助力",title:"为掌舵者提供时间先见",imageLabel:"企业领导层策略会议",imageUrl:"/images/page-audit/audit-img-05.jpeg",body:"专为在重大阶段寻求清晰与节奏的人打造。",points:["计划扩张、品牌重塑或开拓新市场的企业。","希望稳定团队气场、提高执行的管理层。","需要判断投资节奏与合作匹配的投资人。","进行传承规划与交接安排的家族企业。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"获得一份时间战略图",title:"让决策与节奏同频",imageLabel:"企业命运周期图",imageUrl:"/images/page-audit/audit-img-06.jpeg",body:"你将获得一份清晰的企业命运周期图——知道何时扩张、何时蓄力、何时转型。《乾坤企业策》不是取代管理工具，而是揭开数据背后的天机，让企业的每一步都顺势而为。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想看清企业命运的隐藏轨迹？",dividerSubtitle:"预约你的企业命运审查",title:"开启乾坤企业策审查",message:"点击开启你的专属企业审查，让战略与节奏同步推进。",primaryLabel:"开启乾坤企业策审查",primaryHref:"/pricing"},newsletterTitle:"企业命运情报站",newsletterSubtitle:"董事会级别的时间情报、空间诊断与团队共振指引。"},essentialBlueprint:{badge:"360全维度",title:"命运蓝图·启程版",subtitle:"看清天命底图 · 开启人生正向循环。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"打好命运底图",title:"以战略视角认知自己",imageLabel:"命运蓝图概览图",imageUrl:"/images/page-360-essential/360-e-img-01.jpeg",body:"《命运蓝图·启程版》是一份超过 100 页的个人命理分析，融合八字、生命数字与时间周期，帮助你在顺势节奏中行动，而不是靠运气碰撞。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"命运全景图",title:"看清你是谁、将去往何处",imageLabel:"命运洞察面板",imageUrl:"/images/page-360-essential/360-e-img-02.jpeg",body:"报告揭示命理全景，让你知道如何把握人生关键节点：",points:["天赋潜能：找出与生俱来的优势与专长。","职业定位：明确行业、岗位与环境的最佳匹配度。","财富模式：理解如何吸引、运用与守护财富流。","人生节奏：掌握十年大运与年度节奏，提前布局。","生命数字：从数字命理洞察性格密码与行动逻辑。","实用调整：提供针对短板的补强方案，释放潜在势能。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"古法命理 · 现代解读",title:"把命理转化为行动策略",imageLabel:"方法论流程图",imageUrl:"/images/page-360-essential/360-e-img-03.jpeg",body:"我们以“古法命理 + 现代逻辑”把复杂的格局与时间结构，转化为易懂、可执行的策略建议。",points:["五行校准，揭示先天气场与能量构成。","十年大运与流年叠图，指出加速或蓄势的节奏节点。","个人战略建议，让行动始终踩在机会流之上。","附带图表与仪表板，方便随时复盘与跟进。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"五步完成命运蓝图",title:"从资料到行动一气呵成",imageLabel:"服务流程故事板",imageUrl:"/images/page-360-essential/360-e-img-04.jpeg",body:"严谨流程确保报告既专业又贴近现实：",points:["资料输入：提供出生年月日时与出生地，锁定命盘锚点。","数据推演：整合八字、生命数字与周期节奏进行交叉分析。","蓝图制作：输出 100+ 页专属报告，图文并茂、结构清晰。","讲解咨询：一对一说明重点，用人话解析复杂规律。","实用指导：提供心态、时间、环境的调整方案，让行动顺畅。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"想走在时间前面的人",title:"为准备掌控人生的人而设",imageLabel:"适合人群情境图",imageUrl:"/images/page-360-essential/360-e-img-05.jpeg",body:"特别适合以下决策者：",points:["想找到人生方向与使命的探索者。","在事业或关系上感到卡关、想突破的人。","希望个人命格与事业周期互相配合的创业者。","渴望看清自身节奏、重新掌握人生主动权的人。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"终身可参考的命运指南",title:"看见命运语言，自信行动",imageLabel:"命运参考图",imageUrl:"/images/page-360-essential/360-e-img-06.jpeg",body:"你得到的不只是报告，而是一张可以长期参考的命运地图。懂得自己的时间节奏后，不必焦虑等待，而是带着底气创造结果。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想看清属于你的人生蓝图？",dividerSubtitle:"预约命运蓝图·启程版",title:"领取命运蓝图·启程版",message:"点击预约专属命运蓝图，让人生进入正向循环。",primaryLabel:"领取命运蓝图·启程版",primaryHref:"/pricing"}},advancedBlueprint:{badge:"360全维度",title:"天机蓝图·进阶版",subtitle:"洞察命格结构 · 掌握人生天机。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"命格深度解读",title:"从认识到掌控的进阶蓝图",imageLabel:"进阶命运概览图",imageUrl:"/images/page-360-advanced/360-adv-img-01.jpeg",body:"《天机蓝图·进阶版》是一份超过 200 页的深度命运解析，整合八字、生命数字与姓名能量，揭示命格如何运作、何时转折，以及如何掌握人生节奏。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"命运系统全结构",title:"全面解构命格八大板块",imageLabel:"命运多层洞察面板",imageUrl:"/images/page-360-advanced/360-adv-img-02.jpeg",body:"蓝图揭示命运系统的更深层结构：",points:["天赋潜能：挖掘隐藏能力与性格驱动力。","行业定位：锁定最契合五行能量的事业领域。","财富结构：看懂财富流入、积累、风险与止损位。","十年大运：提前预判长期周期的兴衰与转折。","生命数字：解析行为密码与成长课题。","能量场分析：捕捉健康、人际与效率的能量失衡。","姓名吉象：评估姓名与命格的共振度与优化建议。","实用化解：提供针对性调整方案与时机动作。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"结构与节奏共读",title:"三重系统交叉解码命运",imageLabel:"结构与节奏共振图",imageUrl:"/images/page-360-advanced/360-adv-img-03.jpeg",body:`服务通过整合“八字五行结构”、“生命数字频率”与“姓名能量共振”，绘制出你命运系统的多维运行蓝图。
它揭示的不只是性格与倾向，更是命运的“触发机制”——什么时间、什么选择，会带来突破或阻力。
报告让你既看懂“命的结构”，也理解“运的节奏”。`,points:["对自身命格机制的全面认知；","对未来十年周期的前瞻规划；","一套能量与时运结合的可执行策略。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"六步完成进阶蓝图",title:"从资料到专属策略",imageLabel:"进阶蓝图流程板",imageUrl:"/images/page-360-advanced/360-adv-img-04.jpeg",body:"严谨流程确保洞察落地：",points:["资料收集：记录出生与姓名信息。","命盘分析：整合八字、数字与能量模型。","姓名共振评估：判断姓名与命格能量的合拍度。","周期预测：推演十年与流年节奏变化。","蓝图编制：产生 200+ 页深度报告。","解读咨询：一对一讲解与专属策略讨论。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键转折的行动指南",title:"为准备升级的人而设",imageLabel:"进阶用户场景图",imageUrl:"/images/page-360-advanced/360-adv-img-05.jpeg",body:"适合正处重要阶段、需要掌控时间节奏的决策者：",points:["准备重大转型或跨界发展的个人。","希望事业节奏与命格相辅相成的创业者。","追求长期布局与节奏掌控的专业人士。","想理解姓名能量如何影响命运的人。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"一生可用的命运运行图",title:"让挑战化为节奏而非阻力",imageLabel:"命运运行蓝图",imageUrl:"/images/page-360-advanced/360-adv-img-06.jpeg",body:"你将带走一份完整的命运运行图谱，知道自己是谁、节奏如何展开、下一步怎么走。当你掌握命运节奏，阻力会变节奏，人生会更从容。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想深入解锁命运的隐藏结构？",dividerSubtitle:"预约天机蓝图·进阶版",title:"领取天机蓝图·进阶版",message:"点击开启专属命运解析，掌握人生节奏。",primaryLabel:"领取天机蓝图·进阶版",primaryHref:"/pricing"}},supremeBlueprint:{badge:"360全维度",title:"乾坤至尊·全息版",subtitle:"天地人三合 · 命运全息启示。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"命运全息启示",title:"让天地人与命运合一",imageLabel:"全息命运概览图",imageUrl:"/images/page-360-supreme/360-pro-img-01.jpeg",body:"《乾坤至尊·全息版》是一份超过 300 页的全方位命运咨询报告，整合八字、生命数字、姓名能量与住宅风水，揭示命格结构与运势节奏。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"命运全息系统",title:"看见命运的完整生态",imageLabel:"命运全息面板",imageUrl:"/images/page-360-supreme/360-pro-img-02.jpeg",body:"从命格、时间、能量、空间四大面向全面解析人生：",points:["天赋潜能：揭示人生使命与隐藏力量。","行业蓝图：界定与命格五行最契合的事业方向。","财富结构：分析财富生成、流动与守护模式。","十年大运：掌握长周期节奏，把握关键节点。","生命数字：解读性格密码与成长课题。","能量场分析：评估个人磁场平衡与阻力。","姓名吉象：判断姓名能量与命格匹配程度，并给出优化方案。","住宅风水：评估居所气场，确保“宅运助人运”。","实用化解：提供行动与补强策略，让好运更稳定。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"天时·地利·人和",title:"同步天人地三才",imageLabel:"天地人共振图",imageUrl:"/images/page-360-supreme/360-pro-img-03.jpeg",body:"此服务通过“天时、地利、人和”三大系统的交汇分析，将八字命盘、空间气场与时间节奏融为一体。同步个人命格与外部环境周期，让事业、财富、健康、人际四大领域都与命运节奏一致。你将获得：",points:["对人生命运系统的全息理解。","对未来数十年周期的前瞻蓝图。","一套结合时间、空间与能量的整合方案。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"六步完成全息蓝图",title:"从资料到策略一气呵成",imageLabel:"全息蓝图流程板",imageUrl:"/images/page-360-supreme/360-pro-img-04.jpeg",body:"严谨流程确保洞察落地：",points:["初步沟通：厘清背景、目标与人生阶段。","资料分析：综合八字、数字、姓名与住宅风水数据。","周期推演：分析十年与流年节奏，预测机缘与挑战。","能量评估：检测个人与环境的共振状况。","蓝图编制：制作 300+ 页全息命运报告。","讲解咨询：一对一深度说明与专属策略建议。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"全局掌控者",title:"为引领全局的人而设",imageLabel:"用户情境图",imageUrl:"/images/page-360-supreme/360-pro-img-05.jpeg",body:"适合寻求命格、能量、空间三合一掌控力的决策者：",points:["规划长期事业与家族布局的领导者。","希望整合命格与环境打造事业体系的创业者。","处于人生重大转折期、需要全局视角的人。","想让居家风水与个人命格共振的家庭决策者。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"命运全息生态",title:"掌握命运全息系统",imageLabel:"命运全息作战图",imageUrl:"/images/page-360-supreme/360-pro-img-06.jpeg",body:"你将得到一份前所未有的全息命运系统，将个人命格、环境能量与时间节奏完美结合。《乾坤至尊·全息版》让你在每一个决定中更从容、更笃定；当天时、地利、人和合一，成功不再偶然，而是必然的流向。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想看清人生全息命盘的奥秘？",dividerSubtitle:"预约乾坤至尊·全息版",title:"领取乾坤至尊·全息版",message:"点击开启专属咨询，掌握天地人三合的命运节奏。",primaryLabel:"领取乾坤至尊·全息版",primaryHref:"/pricing"}},enterpriseSite:{badge:"天元选址策",title:"天元选址策",subtitle:"选址需同时吻合地形气场、三元九运与业态用途，方能长久旺运。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"让选址成为企业助力",title:"地利与企业节奏的完美匹配",imageLabel:"企业选址全景图",imageUrl:"/images/page-site/site-img-01.jpeg",body:"《天元选址策》结合东方风水与现代企业战略，从地形气场、朝向布局与时间周期三大维度推演，找出最能助旺企业的生财之地。无论是总部建设、分支扩张，还是搬迁布局，都以人、地、时三合为准，让地气助力、财气自来。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"地气与企业同步的关键",title:"看清土地的隐形脉络",imageLabel:"地理能量洞察图",imageUrl:"/images/page-site/site-img-02.jpeg",body:"每一块土地都有其气场与能量脉络，直接影响企业的运势走向。通过综合分析，你将看到：",points:["地理气场：周边山水格局是否聚气生财。","财气走向：何种朝向与动线最能引入资源。","时间匹配：何时签约、启用或开张最顺天时。","业态匹配：行业五行属性（如金融属金、教育属木）与地气是否协调。","潜在隐患：提前识别气场断流或冲煞结构，防患未然。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"地势·朝向·时间三合",title:"让企业与土地形成共振",imageLabel:"选址共振矩阵",imageUrl:"/images/page-site/site-img-03.jpeg",body:"以地势、朝向、时间为核心，结合企业命盘与地理能量，判断地气与运势的契合度。当企业格局顺应地脉，时间又逢当运，努力才能更轻松地转化为成果——这是让位置成为力量的科学。",points:["地形地势分析：评估山水、路网与周边建筑。","朝向布局推演：找出最利于纳气的坐向与动线。","时间周期叠加：运用三元九运及关键择日。","企业命盘校准：将企业命格与地气能量交叉匹配。","补救方案制定：当地形需要加固时提供化解建议。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"从踏勘到决策",title:"六个步骤完成选址推演",imageLabel:"企业选址流程板",imageUrl:"/images/page-site/site-img-04.jpeg",body:"严谨流程将地气诊断转化为董事会可执行的策略。",points:["沟通目标：明确企业规划与选址方向。","资料采集：收集候选地点的坐标、格局与周边环境。","气场评估：分析地形走势、朝向与自然气流分布。","时运匹配：结合三元九运周期判断地气当旺与否。","优劣对比：多地方案评分与优先排序。","方案呈现：交付选址建议与时间布局执行计划。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"懂得“选址即战略”的人",title:"为关键决策者打造",imageLabel:"领导团队选址简报",imageUrl:"/images/page-site/site-img-05.jpeg",body:"专为在扩张、迁移或投资阶段寻求清晰与节奏的企业打造。",points:["筹建总部或开拓新市场的企业。","评估地块潜力的投资者与开发商。","寻找旺铺旺地的品牌连锁与餐饮团队。","希望迁厂提升效益与气场稳定的制造业主。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"不仅是一份报告",title:"获得“企业旺运布局图”",imageLabel:"旺运选址地图",imageUrl:"/images/page-site/site-img-06.jpeg",body:"你得到的不只是选址报告，而是一张企业旺运布局图。《天元选址策》帮助你在决策前看清哪一处地气能帮你起势，让新址同时得天时、地利、人和。当选址与业态、时间同频，旺运便不再依赖运气。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想找出能带来长久旺运的企业旺地？",dividerSubtitle:"预约你的天元选址推演",title:"开启天元选址策推演",message:"点击开启专属选址咨询，找出真正属于企业的旺地。",primaryLabel:"开启天元选址策推演",primaryHref:"/pricing"},newsletterTitle:"企业选址情报",newsletterSubtitle:"地形能量、择时提醒与选址优化建议。"},enterpriseCycles:{badge:"天时战略策",title:"天时战略策",subtitle:"懂天时者，得先机；顺周期者，赢未来。",sections:[{key:"overview",dividerTitle:"服务概述",dividerSubtitle:"将时间变成战略优势",title:"顺天时者，掌先机",imageLabel:"天时战略全景图",imageUrl:"/images/page-cycles/cycles-img-01.jpeg",body:"《天时战略策》是一项以时间节奏为核心的企业战略咨询，结合东方天时周期学与现代管理逻辑，让企业在正确的时间做正确的事，揭示运营节奏与外部大势的关系。"},{key:"insight",dividerTitle:"能揭示什么",dividerSubtitle:"看见周期背后的规律",title:"读懂时间的底层结构",imageLabel:"周期洞察图",imageUrl:"/images/page-cycles/cycles-img-02.jpeg",body:"每个企业都在周期中运转——市场有周期、人事有周期、命运也有周期。通过推演，你将看到：",points:["战略时机：何时扩张、何时蓄势、何时转向。","周期定位：企业当前处于兴旺、转折还是整顿。","机会窗口：哪些时间点最利于启动、融资或合作。","危机预警：在风险出现之前识别能量波动。","势能优化：让领导层与团队节奏与“天运”同频。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"天·地·人三才共振",title:"让战略踩准时间节拍",imageLabel:"天时共振模型",imageUrl:"/images/page-cycles/cycles-img-03.jpeg",body:"通过“企业命盘 + 管理层节奏 + 行业周期”的交叉分析，找出天时、人事、地运之间的共振与冲突，把玄学中的运势节奏转化为可执行的经营策略。",points:["企业命盘与周期叠图。","核心团队的时间特质与目标匹配。","行业周期与宏观阴阳趋势交叉对照。","周期热力图揭示动静阶段。","机会/风险标签提示关键窗口。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"从洞察到执行",title:"六个步骤完成天时推演",imageLabel:"战略节奏流程图",imageUrl:"/images/page-cycles/cycles-img-04.jpeg",body:"严谨流程让时间智慧转化为实战方案。",points:["前期访谈：了解目标、痛点与阶段规划。","周期建模：分析企业命运节奏与管理层时间特征。","外部匹配：结合市场与大势周期，找出最佳契合。","阶段推演：预判未来1年、3年、10年的兴衰节奏。","咨询说明：一对一讲解，让复杂规律变简单。","行动蓝图：提供按时间推进的战略指引。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"关键节点的指路灯",title:"为远见领导者而设",imageLabel:"领导团队节奏简报",imageUrl:"/images/page-cycles/cycles-img-05.jpeg",body:"适合在扩张、转型或投资阶段，寻求时间先见与节奏掌控的决策者。",points:["规划扩张或转型的企业创始人与高层。","关注进出时机的投资人。","面对增长与变革的团队管理者。","希望把“天时”变成战略优势的远见领导者。"]},{key:"outcome",dividerTitle:"结果与价值",dividerSubtitle:"获得时间战略框架",title:"走在时间之前，而非之后",imageLabel:"时间战略蓝图",imageUrl:"/images/page-cycles/cycles-img-06.jpeg",body:"你将清楚了解企业当前所处的时间阶段，并学会如何把“天时”转化为战略优势。《天时战略策》让领导者从事后应变走向事前掌控，当时间、战略与气场同频，成功就成为节奏的必然。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想让企业与时间同频共振？",dividerSubtitle:"预约你的天时战略推演",title:"开启天时战略策推演",message:"点击开启专属咨询，把时间节奏转化为战略力量。",primaryLabel:"开启天时战略策推演",primaryHref:"/pricing"},newsletterTitle:"天时战略情报",newsletterSubtitle:"周期提醒、时间节奏与战略优化建议。"},celestialNumbers:{badge:"帝皇洞见",title:"皇极天数咨询",subtitle:"看懂时间的秩序，顺势掌握命运节奏。",sections:[{key:"overview",dividerTitle:"服务概览",dividerSubtitle:"为何值得布局",title:"与命运节奏对齐",imageLabel:"时间与命运交织的意象",imageUrl:"/images/page-supreme-celestial/supreme-image-01.jpeg",body:"《皇极天数》是一门以“时空秩序”为核心的高精度玄学咨询。源自《皇极经世》的宇宙推演思想，它揭示命运运作的底层逻辑，让你看见事件为何发生、如何提前部署，真正做到顺势而行。"},{key:"insight",dividerTitle:"可以看见什么",dividerSubtitle:"掌握命运的底层节拍",title:"读懂时间背后的暗流",imageLabel:"命运节奏洞察图",imageUrl:"/images/page-supreme-celestial/supreme-image-02.jpeg",body:"人生的节奏从不随机，《皇极天数》让你看见推动结果的隐形力量。",points:["运势流向：哪些年份能量上升、哪些阶段宜静观。","转折时点：成功或风险来临前的信号。","潜在推手：谁或什么在悄悄左右你的命运。","人生主线：命运想让你成为怎样的人，你现在在哪个章节。"]},{key:"method",dividerTitle:"推演原理",dividerSubtitle:"数理与时间的联动",title:"天道数理与个人节奏的对接",imageLabel:"皇极数理运算示意",imageUrl:"/images/page-supreme-celestial/supreme-image-03.jpeg",body:"以天道数理为基础，通过时间推演与能量映射，找出你与世界运转之间的契合点。看清命运的逻辑之后，人生不再只是“遇到”，而是“掌握”。",points:["一份命运地图，清楚知道时间站在哪一边。","掌握未来一年与十年的能量节奏。","一套可落地的决策参考，知道何时动、何时守。"]},{key:"process",dividerTitle:"服务流程",dividerSubtitle:"从资料到行动蓝图",title:"五个阶段完成专属推演",imageLabel:"皇极咨询流程板",imageUrl:"/images/page-supreme-celestial/supreme-image-04.jpeg",body:"层层推演，把玄学洞察化为可执行的节奏安排。",points:["资料收集：确认出生或创立时间与聚焦主题。","天数绘制：建立个人或企业的命运时间曲线。","周期解读：拆解长期、中期、短期的能量节奏。","咨询讲解：一对一说明，用清晰语言告知当下行动。","行动方案：交付具体时间、重点与方向建议。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"感知变化、需要验证的你",title:"为察觉节奏转向的决策者而设",imageLabel:"关键抉择的领导团队",imageUrl:"/images/page-supreme-celestial/supreme-image-05.jpeg",body:"适合所有需要先看清方向再行动的人。",points:["正在做关键抉择的管理者与领导者。","计划扩张或转型的创业者。","想突破瓶颈、规划下一步的职场人士。","感到运势在变却找不到节奏的人。"]},{key:"outcome",dividerTitle:"交付价值",dividerSubtitle:"带走的不是预测",title:"获得时间编码的行动蓝图",imageLabel:"时间编码战略文件",imageUrl:"/images/page-supreme-celestial/supreme-image-06.jpeg",body:"结果不是“好或不好”的判断，而是一份时间化的策略蓝图。你会知道哪些该冲、哪些该缓、哪些该放下，《皇极天数》让你重新与时间对齐，让好运成为节奏，而非偶然。"}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"想看懂时间背后的规律？",dividerSubtitle:"预约你的皇极天数推演",title:"开启皇极天数推演",message:"点击开启专属推演，读懂命运的运行逻辑。",primaryLabel:"开启皇极天数推演",primaryHref:"/pricing"},newsletterTitle:"皇极时序情报",newsletterSubtitle:"掌握时间脉动、机会窗口与节奏校准提醒。"}},academyOverview:{badge:"学院",title:"玄学系统学习全程概览",subtitle:"由浅入深 · 系统化掌握中国玄学的思维与实践",sections:[{key:"overview",type:"text",dividerTitle:"课程总览",dividerSubtitle:"全链路学习旅程",title:"从基础扎根到专业实践",paragraphs:["《玄学系统学习全程》是一条由浅入深的学习路径，让你从基础理论到专业实践，系统掌握中国玄学的核心体系。","课程融合八字、紫微斗数、风水、生命数字与奇门遁甲等术数精华，帮助你将传统智慧转化为现代思维与实用策略，学会顺应命运节奏，让选择更有方向。"]},{key:"path",type:"levels",dividerTitle:"学习路径",dividerSubtitle:"四大阶段循序渐进",title:"完整的四阶段修习旅程",intro:"课程共分四个阶段，每一阶都让理解更深入、实战更扎实。",levels:[{key:"foundation",badge:"🜃 1️⃣",slug:"foundation",anchor:"foundation-course",title:"玄学基础课程",duration:"3–6 个月",body:"奠定玄学根基，学习阴阳、五行与时间循环规律。理解“天时、地利、人和”的整体逻辑，掌握术数背后的世界观。",ctaLabel:"了解详情"},{key:"beginner",badge:"🜃 2️⃣",slug:"beginner",anchor:"beginner-course",title:"入门课程",duration:"6 个月",body:"系统学习八字、紫微斗数、生命数字与奇门遁甲四大核心术数。掌握命盘结构逻辑、能量形成机制，以及时间与方位的影响原理。结业后即可独立阅读基础命盘，辨识个人命格特征与运势走向。",ctaLabel:"了解详情"},{key:"advanced",badge:"🜃 3️⃣",slug:"advanced",anchor:"advanced-course",title:"进阶课程",duration:"3 个月",body:"整合多门术数体系，深入研究时间、五行与空间气场的交互规律。练习高阶命盘解读、案例分析与奇门择时预测，掌握洞察人生转折与制定策略时机的能力。",ctaLabel:"了解详情"},{key:"professional",badge:"🜃 4️⃣",slug:"professional",anchor:"professional-course",title:"专业课程",duration:"3 个月",body:"迈向命理顾问与实战咨询阶段。学习专业命盘解读、报告编制与沟通技巧，掌握咨询流程、伦理规范与实务应用，将玄学智慧融入事业、决策与人生辅导中。",ctaLabel:"了解详情"}]},{key:"curriculum",type:"bullets",dividerTitle:"学习内容",dividerSubtitle:"六大核心能力",title:"掌握系统化玄学技能",points:["阴阳五行生克的运行规律。","八字、紫微、数字与奇门命盘的架构与分析技巧。","风水能量的应用与空间气场理解。","十年大运与流年运势的周期判断方法。","时间节奏与机会管理的实战策略。","将玄学智慧融入事业规划与人生决策的系统思维。"]},{key:"format",type:"details",dividerTitle:"教学形式",dividerSubtitle:"理论·实战·导师辅导",title:"多维度混合式教学",body:"课程融合理论讲解、案例实操与导师辅导。",details:[{label:"授课形式",value:"线上 + 线下结合"},{label:"学习周期",value:"每阶段 3 至 6 个月"},{label:"课程内容",value:"图解教材、命盘实例与实操练习"},{label:"导师辅导",value:"一对一答疑与学习指导"},{label:"认证机制",value:"每阶段完成后颁发官方认证证书"}]},{key:"audience",type:"bullets",dividerTitle:"适合人群",dividerSubtitle:"清晰·掌控·专业",title:"为追求系统掌握的学员而设",points:["想透过命理了解自我方向与天赋潜能的个人。","希望深化技术与体系理解的进阶学员。","将玄学逻辑融入疗愈、辅导与咨询工作的专业人士。","善用“天时智慧”进行事业布局与决策的企业管理者。"]},{key:"outcome",type:"text",dividerTitle:"学习成果",dividerSubtitle:"修习后的转变",title:"把洞见转化为笃定行动",paragraphs:["完成《玄学系统学习全程》后，你将具备系统的命理解读与预测能力，能洞悉多术数的交汇规律。","把知识转化为洞察，把洞察转化为行动，以清晰、节奏与自信引领人生。"]}],faq:[{question:"课程时长多久？",answer:"课程周期为 3–6 个月，视你选择的班次与学习节奏而定。"},{question:"课程是直播还是自学？",answer:"核心模块采用直播授课并提供回放，结合自学练习与反思任务，确保理解深度。"},{question:"需要有玄学基础吗？",answer:"无需基础。我们从原理出发，逐步带入应用练习，让零基础学习者也能跟上。"},{question:"有哪些学习支持？",answer:"课程提供每周答疑、学习社群，以及导师对练习作业的反馈。"}],cta:{dividerTitle:"立即开启玄学学习之旅",dividerSubtitle:"从基础到专业，全程认证学习路径。",title:"预约玄学系统学习全程",message:"点击立即报名，开启从基础到专业的玄学修习旅程。",primaryLabel:"立即报名",primaryHref:"/pricing"}},academyBeginner:{hero:{badge:"学院",title:"初阶课程",subtitle:"入门命理 · 探索天机 · 打开命运的第一扇门",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"课程概述",dividerSubtitle:"学习定位",title:"从好奇走向结构化理解",paragraphs:["《初阶课程》是从好奇到理解的桥梁，专为想深入探索命运机制与能量语言的学习者而设。","课程为期 6 个月，系统导入八字、紫微斗数、生命数字与奇门遁甲四大核心体系，让你看见时间、元素与空间气场如何交织成命运轨迹。","你将学会阅读基础命盘、识别命格结构，洞察影响抉择与机遇的隐形规律。"]},{key:"curriculum",dividerTitle:"学习内容",dividerSubtitle:"四大核心体系",title:"实作理解命运语言",points:["八字基础：理解四柱结构与命格个性、潜能、时运的关系。","紫微斗数入门：认识宫位层次与星曜能量对应的关键领域。","生命数字：解读出生数字密码，掌握人生节奏与气场振动。","奇门遁甲概念：学习时间、方位与能量如何组合成吉凶窗口。","实用解盘：通过案例演练将理论转化为现实判断。"]},{key:"why",dividerTitle:"学习意义",dividerSubtitle:"清晰取代猜测",title:"拿到人生的结构图",paragraphs:["学习玄学初阶课程仿佛握住人生的结构图——你不再凭感觉行事，而是看见方向、节奏与节气。","当你理解命运运作的底层逻辑，你将由被动应对转为主动掌控。"]},{key:"structure",dividerTitle:"课程结构",dividerSubtitle:"6 个月引导旅程",title:"模块化教学搭配导师辅导",paragraphs:["课程为期 6 个月，结合理论讲解、实战推演与导师辅导，让吸收与应用同步进行。"],points:["模块一 · 八字架构——命盘建立、五行强弱与个人洞察。","模块二 · 紫微斗数——星曜解析与十二宫生命地图。","模块三 · 生命数字——生命路径与数字密码的实务解读。","模块四 · 奇门遁甲——时间方位能量的入门布局。","模块五 · 统整实战——真实案例推演与导师答疑。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"为有准备的学习者而设",title:"转换兴趣为可执行理解",points:["对命理与人生规律充满好奇的探索者。","希望系统学习玄学并建立方法论的初学者。","想把命理逻辑融入辅导、疗愈或咨询工作的专业人士。","准备开始阅读自己或他人命盘的学习者。"]},{key:"outcome",dividerTitle:"学习成果与价值",dividerSubtitle:"六个月后的转变",title:"具备跨体系命盘阅读力",paragraphs:["完成《初阶课程》后，你将具备跨越四大术数体系的基础命盘阅读能力。","命运不再神秘，而是可读、可解、可顺势的结构。","你将开启新的感知层次，让逻辑与直觉并行，为未来的进阶与专业课程奠定根基。"]}],cta:{dividerTitle:"准备好踏上初阶学习了吗？",dividerSubtitle:"开启你的六个月修习旅程",title:"报名《初阶课程》",message:"点击下方，展开理解命运结构与能量流动的 6 个月修习。",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"}},academyIntermediate:{hero:{badge:"学院",title:"进阶课程",subtitle:"融合多术数 · 掌握命运交汇点 · 看见人生的隐藏规律",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"课程概述",dividerSubtitle:"学习焦点",title:"把多门术数整合成一套掌控框架",paragraphs:["《进阶课程》是从“懂原理”到“通推演”的关键阶段。在基础与初阶课程的基础上，本阶段将带你学习如何融合八字、紫微斗数、生命数字、风水与奇门遁甲，形成完整的命理分析流程。","你将看懂时间、元素与空间的互动关系，读懂命盘背后的因果结构，并在转折发生前先行识别。命运于是从未知变得可读、可导航、可调整。"]},{key:"curriculum",dividerTitle:"学习内容",dividerSubtitle:"整合能力",title:"掌握命运交汇点的五大技巧",points:["命盘交叉解析：综合八字、紫微、奇门命盘，找出时运交汇点。","周期推演：掌握十年大运、流年与环境气场的互动规律。","风水应用：让个人命格与居家、办公空间的能量同频。","数理进阶：理解生命数字与宇宙时间的共振节奏。","高阶案例：透过真实案例训练分析精度与结构思维。"]},{key:"why",dividerTitle:"学习意义",dividerSubtitle:"超越表层解盘",title:"把知识升级为战略洞察",paragraphs:["进阶阶段让玄学不再停留在知识堆叠，而是成为可以预判与决策的战略工具。你将学会让不同术数彼此印证、互补与制衡，这也是专业命理师与普通解盘者的分水岭。","当逻辑与直觉融合，你就能精准解析复杂命盘，为自己与他人提供真正具指导力的行动方案。"]},{key:"structure",dividerTitle:"课程结构",dividerSubtitle:"3 个月强化班",title:"模块化整合 × 实战演练",paragraphs:["课程为期 3 个月，结合系统整合法、案例实战与导师辅导，让理解与应用同步延伸。"],points:["模块一 · 术数整合 —— 八字、紫微、奇门的逻辑互动。","模块二 · 周期预测 —— 时间规律与人生转折节点解析。","模块三 · 风水共振 —— 命格与空间气场的匹配应用。","模块四 · 数理深化 —— 以时间为主轴的能量频率分析。","模块五 · 案例实训 —— 从真实命盘练习整合推演与判断。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"为追求整合力的学习者而设",title:"升阶为多体系命理实战者",points:["已完成基础与初阶课程的学员。","希望融合多术数体系的命理研究者与学习者。","需要提升分析精度的命理顾问与咨询师。","想精准预测时运并为他人提供方向的进阶学习者。"]},{key:"outcome",dividerTitle:"学习成果与价值",dividerSubtitle:"结业后的能力",title:"读懂时间与能量交汇的关键点",paragraphs:["完成《进阶课程》后，你将具备读取命运交汇点的综合能力，看清时间、空间与能量的交错运行。","玄学不再是零散知识，而是一套有逻辑、有系统的完整体系。你将学会预见变化，并在正确的时间做出正确的选择。"]}],cta:{dividerTitle:"准备好掌握多术数整合了吗？",dividerSubtitle:"开启三个月的深度修习",title:"报名《进阶课程》",message:"点击下方，展开三个月的整合修习旅程，掌握命运交汇的核心逻辑。",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"}},academyProfessional:{hero:{badge:"学院",title:"专业课程与认证",subtitle:"学以致用 · 以术为道 · 以道达人",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"课程概述",dividerSubtitle:"巅峰阶段",title:"把掌握力转化为专业实践",paragraphs:["《专业课程与认证》是玄学修习体系的终极阶段，专为准备将知识转化为实践、将实践升华为使命的学员而设。","课程帮助你精炼分析技巧、强化咨询沟通，并建立专业命理顾问所需的职业标准——精准、理性与责任。"]},{key:"curriculum",dividerTitle:"学习内容",dividerSubtitle:"专业能力矩阵",title:"全面掌握四大专业核心",points:["命理咨询框架：从准备到讲解，建立完整咨询流程。","高阶推演逻辑：融合八字、紫微、数理、风水与奇门的整合模型。","客户沟通与职业伦理：学习清晰表达、共情倾听与专业自律。","报告编制与呈现：编写完整命运报告并进行口头分析说明。","认证实训：导师监督的实操案例与结业项目，完成认证要求。"]},{key:"why",dividerTitle:"学习意义",dividerSubtitle:"承载智慧",title:"把洞察力化为实际影响",paragraphs:["这一阶段不止于“学得更多”，而是“学会承载智慧”。成为认证命理顾问，意味着将命盘与数字背后的规律转化为人性的理解与实际解决方案。","你将兼具技术深度与情感智慧，以责任与温度引导他人前行。"]},{key:"structure",dividerTitle:"课程结构",dividerSubtitle:"3 个月认证实训",title:"导师辅导 × 案例实战 × 认证评审",paragraphs:["课程为期 3 个月，结合导师辅导、监督案例与最终认证评估，让专业力与实战力同步提升。"],points:["模块一 · 咨询框架与伦理 —— 建立专业标准与服务流程。","模块二 · 术数整合推演 —— 五大体系融合分析，精准诊断。","模块三 · 客户模拟与实操 —— 实战演练，导师逐案指导。","模块四 · 报告撰写与呈现 —— 制作并讲解专业命运报告。","模块五 · 认证考核 —— 书面与口头评估，完成官方认证。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"为未来的专业顾问而设",title:"成为玄学命理顾问的最后一里路",points:["已完成进阶课程，准备取得正式认证的学员。","希望成为具资格的玄学命理顾问的实践者。","来自心理、疗愈、咨询领域，想融入玄学深度的专业人士。","想以责任感与自信引导他人理解命运的人。"]},{key:"outcome",dividerTitle:"学习成果与价值",dividerSubtitle:"完成后的身份",title:"获得认证玄学命理顾问资格",paragraphs:["完成课程后，你将获得认证玄学命理顾问资格，具备高阶命理分析、沟通表达与客户管理能力。","你拥有的不只是证书，更是专业与智慧并行的掌控力，准备好以术为桥、以道为志、以心为师。"]}],cta:{dividerTitle:"准备好迎接认证了吗？",dividerSubtitle:"迈向专业的最后一步",title:"报名《专业课程与认证》",message:"点击下方，开启认证之旅，让你以专业身份引领玄学服务。",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"}},academyFoundation:{hero:{badge:"学院",title:"玄学基础课程",subtitle:"夯实根基 · 理解天人之道 · 掌握命运底层逻辑",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"},sections:[{key:"overview",dividerTitle:"课程概述",dividerSubtitle:"学习起点",title:"夯实一切玄学体系的根基",paragraphs:["《玄学基础课程》是进入玄学世界的起点与根基。课程系统讲解阴阳、五行、天干地支与气场流转，让你看懂万事万物背后的能量逻辑与时间规律。","它不是神秘学，而是一套科学化的命运结构语言。掌握基础后，你将能以结构化、可验证的方式理解命运，为后续八字、紫微、奇门与风水学习打下坚实基础。"]},{key:"curriculum",dividerTitle:"学习内容",dividerSubtitle:"核心法则",title:"掌握命运与能量的底层规律",points:["阴阳原理：洞悉平衡、互动与变化的根源。","五行学说：木火土金水的能量结构与生克制化规律。","天干地支：六十甲子循环与时间、命运的联系。","气场流动：能量在时间与空间中的运行规律。","天人合一：明确自身在“天、地、人”三才之间的位置与作用。"]},{key:"why",dividerTitle:"学习意义",dividerSubtitle:"为什么要学",title:"先懂概念，再进方法",paragraphs:["所有玄学体系——无论八字、紫微斗数、风水还是奇门遁甲——都建立在这些基础概念之上。没有扎实根基，后续学习容易停留在片段信息，难以整合。","本课程帮助你建立清晰的思维框架与能量感知力，让你在实战中避免误用概念、误判结构。"]},{key:"structure",dividerTitle:"课程结构",dividerSubtitle:"3–6 个月",title:"理论 × 实修，循序渐进",paragraphs:["课程为期 3–6 个月，结合理论讲解、图表解析与实操练习，帮助你把“概念”转化为“可用的工具”。"],points:["模块一 · 阴阳逻辑 — 对立统一与能量平衡。","模块二 · 五行循环 — 生克制化与结构诊断。","模块三 · 天干地支 — 六十甲子时间密码与运行节奏。","模块四 · 气场运行 — 气动与结果之间的因果关联。","模块五 · 基础实修 — 从五行平衡视角解读人生结构。"]},{key:"audience",dividerTitle:"适合人群",dividerSubtitle:"谁该学习",title:"为渴望系统掌握玄学的人而设",points:["想从零开始了解命理机制的初学者。","希望在进阶前夯实理论基础的学习者。","其他命理体系的研究者，需要系统化框架与共通语言。","对命运机制好奇、想从理性角度理解“玄学”的人。"]},{key:"outcome",dividerTitle:"学习成果",dividerSubtitle:"课程价值",title:"掌握“命运语言”的起点",paragraphs:["完成课程后，你将清楚看到命运与能量之间的结构关系。命运不再是“未知”，而是一套可读、可解、可顺应的系统。","这不仅是一门课程，更是通往高级术数的语言入口，让后续学习与实践都拥有清晰的坐标。"]}],faq:[{question:"课程会让我掌握哪些核心框架？",answer:"你将扎实掌握阴阳、五行运作，以及十干十二支的时间密码，让后续所有命理推演都有清晰结构。"},{question:"这门课怎样衔接进阶学习？",answer:"它是进阶班的桥梁——打好基础后，进入八字、紫微、奇门等多术数整合时会更轻松。"},{question:"课程中会有实战演练吗？",answer:"会。导师会带领你实作真实案例，从五行平衡、时间节奏与气场流动角度进行解析。"},{question:"课程资料是否可以无限期使用？",answer:"是的。你可持续下载讲义、参考图表与直播回放，随时复习并在下一阶段继续使用。"}],cta:{dividerTitle:"准备好启动基础修习了吗？",dividerSubtitle:"迈向命运掌控的第一步",title:"报名《玄学基础课程》",message:"点击下方即可预约最新一期课程名额，或洽询私人定制班级。",primaryLabel:"立即报名",primaryHref:"/pricing",secondaryLabel:"返回课程总览",secondaryHref:"/academy/courses"}},hero:{slide1_title:"天命蓝图 · VIP 专属",slide1_sub:"从四柱到星曜，从数字到卦象，一次尽览命理全图",slide2_title:"天机三绝 · 皇极·太乙·六壬",slide2_sub:"古代帝王的终极战略推演术数",slide3_title:"空间能量布阵",slide3_sub:"古老空间智慧，成就现代高峰",slide4_title:"三才命格蓝图 · 易经能量矩阵",slide4_sub:"以天人地三才与易数能量，解锁姓名与命运奥秘",slide5_title:"企业命运蓝图 · 商机矩阵",slide5_sub:"融合八字、紫微、奇门、风水，助力企业腾飞"}}};E.EN.who={title:E.EN.who_title,body:E.EN.who_long};E.EN.why={title:E.EN.why_title,long:E.EN.why_long};E.CN.who={title:E.CN.who_title,body:E.CN.who_long};E.CN.why={title:E.CN.why_title,long:E.CN.why_long};E.EN.acd={courses:E.EN.nav.courses,foundation:E.EN.nav.foundation,beginner:E.EN.nav.beginner,intermediate:E.EN.nav.advanced,professional:E.EN.nav.pro};E.CN.acd={courses:E.CN.nav.courses,foundation:E.CN.nav.foundation,beginner:E.CN.nav.beginner,intermediate:E.CN.nav.advanced,professional:E.CN.nav.pro};E.EN.about={hero:{title:"About Metaphysics Alliance",sub:"Chinese metaphysics for decisive clarity",description:"We provide a 360° view across BaZi, Zi Wei Dou Shu, Qi Men Dun Jia, Feng Shui and numerology, cross‑validating insights for consistent, practical guidance. Our aim: exceptional consistency through disciplined verification.",cta:"Contact Us"},founder:{title:"Founder's Note",name_en:"Shaun Quan",name_cn:"宸麟老师",role:"Chief Chinese Metaphysician Analyst",paragraphs:["I founded Metaphysics Alliance to bring clarity and momentum to personal and business decisions. We translate classical Chinese metaphysics into timely, actionable guidance that respects tradition and meets modern standards.","Every engagement triangulates multiple lineages and is anchored to True Solar Time and the 24 Solar Terms. We cross‑check against authoritative calendars and corroborate patterns across methods. The goal is simple: reduce noise, reveal signal, and help you move forward with confidence."]},philosophy:{title:"360° Cross‑Validated Chinese Metaphysics",highlight:"Triangulate → Cross‑validate → Decide with timing",paragraphs:["We synthesise BaZi, Zi Wei, Qi Men, Feng Shui and numerology. Recommendations are never based on a single method; patterns must repeat under multiple lenses.","Time matters. All assessments are calibrated with True Solar Time and the 24 Solar Terms, then aligned to practical timing windows for action."]},what:{title:"What We Do",items:[{title:"For Individuals",description:"Career and business direction, relationship clarity, and timing windows — distilled into a concise action plan."},{title:"For Organizations",description:"Team dynamics, leadership alignment, site and launch timing, and risk windows for SMEs and growth teams."},{title:"Method",description:"Assess → Align → Activate. Readings, cross‑validation, and a timing layer to choose when to act."}]},videos:{title:"1‑Minute Intros",items:[{title:"Shaun — 60s Intro",description:"Why Chinese metaphysics, our 360° approach, and who benefits.",script_en:"I’m Shaun Quan, founder of Metaphysics Alliance. We exist to bring clarity and momentum to life and business decisions. Our approach blends BaZi, Zi Wei, Qi Men, Feng Shui and numerology, and cross‑validates insights across methods for a 360° perspective. For individuals, that means clearer choices about career, relationships and timing. For organizations, it means sharper team alignment and better strategic timing. We aim for extraordinary consistency through multiple lenses and disciplined verification — so you can move forward with confidence.",script_cn:"我是宸麟老师，Metaphysics Alliance 创始人。我们的使命，是为个人与企业的关键决策带来清晰与推动力。我们融合八字、紫微、奇门、风水与数字能量，并通过交叉验证获得 360° 全景视角。对个人，这意味着职业、关系与时机更明晰；对企业，这意味着团队协同更到位、战略时机更精准。通过多重视角与严谨验证，我们力求高度一致的洞见，助你笃定前行。"},{title:"Consultant — 60s Intro",description:"How sessions become next steps: triangulation and timing.",script_en:"My focus is translating complex patterns into practical next steps. In sessions, we triangulate: a primary reading, a secondary lens to confirm patterns, and a timing layer to choose when to act. You leave with a plan: what to prioritise, what to pause, and what to watch.",script_cn:"我们把复杂的信息转化为清晰的下一步。在咨询中进行三角验证：主阅读确定主题，辅阅读确认模式，配合时机层决定何时行动。你将带走明确的行动清单：先做什么、暂停什么、留意什么。"},{title:"Consultant — 60s Teams & Business",description:"Individuals vs. organizations, and how we reduce noise.",script_en:"I work with both individuals and teams. For individuals, we map strengths, blind spots and near‑term windows for momentum. For organizations, we analyse team dynamics and strategic timing across product cycles, hiring and launches. Our cross‑validated process reduces noise and surfaces what consistently matters, so decisions feel grounded and timely.",script_cn:"我同时服务个人与企业团队。对个人，我们梳理优势、盲点与近期发力窗口；对组织，我们分析团队节奏与战略时机，从产品周期、招募到发布。跨维度验证减少噪音、突出重点，让你的决策更扎实、更及时。"}]},story:{title:"Our Story",timeline:[{date:"2023‑03",title:"Founded",outcome:"First 50 clients served"},{date:"2023‑09",title:"Corporate Advisory Pilot",outcome:"Improved team alignment outcomes"},{date:"2024‑02",title:"Bilingual Practice",outcome:"Launched EN/CN services; 200+ clients supported"},{date:"2024‑06",title:"SME Workshops",outcome:"Delivered 3 workshops; faster decision lead‑time"},{date:"2024‑10",title:"Cross‑Validation v2",outcome:"Tighter timing recommendations"},{date:"2025‑03",title:"500+ Clients",outcome:"Expanded B2B programs across 3 industries"}]},milestones:{title:"Milestones",items:[{date:"2023-03",outcome:"Metaphysics Alliance founded; first 50 clients",icon:"FiFlag"},{date:"2023-09",outcome:"First corporate advisory pilot",icon:"FiUsers"},{date:"2024-02",outcome:"EN/CN services; 200+ clients",icon:"FiGlobe"},{date:"2024-06",outcome:"3 SME workshops; improved lead-time",icon:"FiVideo"},{date:"2024-10",outcome:"Cross-validation framework v2",icon:"FiLayers"},{date:"2025-03",outcome:"500+ clients; expanded B2B",icon:"FiCheckCircle"}]},team:{title:"Our Team",members:[{name_en:"Shaun Quan",name_cn:"宸麟老师",role:"Chief Chinese Metaphysician Analyst",focus:"BaZi • Zi Wei • Qi Men • Feng Shui | Strategy & Timing",portrait:"/images/team/Shaun Quan.png"},{name_en:"Mei Lin Tan",name_cn:"陈美琳老师",role:"Senior Consultant — BaZi • Qi Men • Date Selection",focus:"Professionals & SMEs; career transitions and launch timing",portrait:"/images/team/Tan Mei Ling.png"},{name_en:"Daniel Lee",name_cn:"李文杰老师",role:"Feng Shui Strategist & BaZi Advisor",focus:"Residential/Commercial Feng Shui; site and opening timing",portrait:"/images/team/Danial.png"}]},faq:{title:"FAQ",items:[{q:"How long is a session?",a:"Typically 60-90 minutes for individuals; 90-120 minutes for teams."},{q:"How should I prepare?",a:"Share your birth details, goals and current decisions; we will guide the rest."},{q:"Do you guarantee accuracy?",a:"We aim for exceptional consistency via cross-validation and disciplined timing, but no outcome can be guaranteed."},{q:"Do you offer bilingual sessions?",a:"Yes - English and Chinese."},{q:"How do I start?",a:"Contact us to book a discovery call."}]},cta:{label:"Contact Us",title:"Ready to get clarity?",message:"Share your goals and timing horizon. We will propose a path and schedule a discovery call."}};E.EN.legal={privacy:{title:"Privacy Policy",last_updated:"October 19, 2025",intro:"This notice explains how Metaphysics Alliance collects, uses, stores, and shares personal data across consultations, audits, events, and digital products. It also summarises the rights available to you under the Personal Data Protection Act 2010 (Malaysia).",downloadUrl:"/legal/privacy-policy.pdf",summary:[{title:"Coverage",description:"Applies to clients, prospects, workshop participants, and visitors engaging with Metaphysics Alliance services, reports, events, and digital platforms."},{title:"Regulation",description:"We comply with the Personal Data Protection Act 2010 (Malaysia) and honour contractual commitments for cross-border engagements."},{title:"Support",description:'Direct privacy questions to <a href="mailto:support@meta-alliance.my">support@meta-alliance.my</a>. Critical incidents are escalated within 24 hours.'}],sections:[{heading:"1. Who we are & scope",intro:"Metaphysics Alliance (meta-alliance.my) is the data controller for personal data we collect when you interact with our team, receive services, purchase digital products, or visit our sites.",items:[{title:"When we act as controller",description:"We determine the purpose and means of processing when you submit data through enquiry forms, booking requests, payments, events, or audits that we initiate. We decide how long that data is retained and which safeguards apply."},{title:"When we act as processor",description:"For enterprise engagements we may handle staff or customer data supplied by you. We only use that information to deliver the contracted work, follow your documented instructions, and delete or return the data once the work concludes."}],note:"By engaging us you confirm that any third-party data you supply was collected lawfully and that you have authority to share it."},{heading:"2. Personal data we collect",intro:"We operate on the principle of data minimisation—collecting only what is required to deliver accurate readings, audits, and support.",items:[{title:"Identity & contact details",description:"Name, preferred honorific, email, phone number, company information, billing address, and communication preferences."},{title:"Consultation inputs",description:"Birth details (date, time, place), floor plans, team structures, business metrics, questionnaires, and other materials you provide so that we can perform calculations and design recommendations."},{title:"Operational & transaction data",description:"Service history, booking information, invoices, payment confirmations (processed via secure gateways), support enquiries, session notes, and follow-up actions."},{title:"Website & systems data",description:"Language preference cookies, device metadata, and anonymised analytics generated through privacy-filtered tools. We do not run behavioural advertising or sell your browsing history."}],note:"Where sensitive personal data (for example, health indicators or family circumstances) is relevant to your consultation, we rely on your explicit consent and restrict internal access to authorised consultants only."},{heading:"3. How we use personal data",intro:"We rely on contract performance, legitimate interests, legal obligations, and consent (where required) to process personal data.",items:[{title:"Deliver readings, audits, and programmes",description:"Preparing charts, analytics, written reports, digital dashboards, and briefings; scheduling sessions; tailoring recommendations to your objectives.",legal:"Legal basis: contract performance & legitimate interests."},{title:"Client support & communications",description:"Responding to enquiries, sharing progress updates, sending resource materials, and providing post-engagement follow-up when you request it.",legal:"Legal basis: legitimate interests & consent (for optional updates)."},{title:"Operations & finance",description:"Billing, accounting, record keeping, fraud prevention, and verifying identity or authority where mandated.",legal:"Legal basis: legal obligation & legitimate interests."},{title:"Compliance & risk management",description:"Investigating complaints, enforcing agreements, protecting intellectual property, and responding to lawful requests from authorities.",legal:"Legal basis: legal obligation & legitimate interests."}]},{heading:"4. Retention & security",intro:"We maintain structured retention schedules so data is stored only for as long as it remains useful or legally required.",items:[{title:"Retention windows",description:"Core client files and invoices are stored for seven (7) years to satisfy PDPA and accounting requirements. Prospect enquiries with no follow-up are deleted after 18 months. Raw analysis inputs—floor plans, spreadsheets, recordings—are purged within 90 days of project sign-off unless you request an extended archive."},{title:"Security controls",description:"Safeguards include encrypted storage, role-based access, secure portals for large files, mandatory confidentiality agreements, and annual security reviews with documented remediation plans.",bullets:["Production systems are hosted in ISO 27001-certified environments.","Portable devices are protected with full-disk encryption and biometric access.","Data shared with consultants uses expiring links or vetted collaboration suites."]}]},{heading:"5. Sharing & international transfers",intro:"We never sell personal data. Transfers occur only when necessary to deliver services or comply with the law.",items:[{title:"Vetted processors",description:"We engage payment gateways, secure cloud storage, analytics, transcription, and communication providers located in Malaysia, Singapore, or jurisdictions with comparable safeguards. Each provider signs a PDPA-aligned data processing agreement."},{title:"Cross-border processing",description:"When tools process data outside Malaysia, we ensure contractual clauses mandate equivalent protection and enable audits if required."}],bullets:["We disclose personal data when compelled by law, court order, or governmental authority, and we document each disclosure.","If Metaphysics Alliance undergoes a merger or acquisition, you will be notified before data is transferred and given the opportunity to opt out where applicable."]},{heading:"6. Your rights & preferences",columns:[{title:"You may exercise the following rights:",points:["Request access to the personal data we hold about you.","Ask for corrections to inaccurate or incomplete data.","Withdraw consent to non-essential processing and opt out of marketing messages at any time.","Request deletion or anonymisation, subject to legal retention requirements.","Request a portable copy of data you provided to us."]},{title:"How to submit a request:",points:['Email <a href="mailto:privacy@meta-alliance.my">privacy@meta-alliance.my</a> with the subject line “PDPA Request” and specify the right you wish to exercise.',"We acknowledge requests within one (1) business day and provide a full response within five (5) business days, or explain if we require additional time (maximum 21 days allowed by PDPA).","We may request proof of identity or authority to protect your data from wrongful disclosure.","If we must retain certain records for legal reasons, we will explain the rationale and confirm once retention obligations expire."]}],note:"Marketing emails include an unsubscribe link. WhatsApp broadcasts and community groups are invitation-only and require explicit opt-in."},{heading:"7. Updates to this notice",bullets:["We review and update this policy whenever we launch new services, adopt new data processors, or change how we use personal data.","Material changes will be announced on meta-alliance.my/legal/privacy and, where applicable, communicated directly to active clients."]}],contact:{name:"Metaphysics Alliance Support Team",email:"support@meta-alliance.my",phone:"+60165873141",hours:"We reply within one business day and resolve most requests within five business days.",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},terms:{title:"Terms of Service",last_updated:"November 2, 2024",intro:"By accessing or using Metaphysics Alliance websites, applications, or advisory services (“Services”), you agree to these Terms of Service. Please read them carefully.",downloadUrl:"/legal/terms-of-service.pdf",summary:[{title:"Binding agreement",description:"These Terms govern your use of Metaphysics Alliance Services and form a legally enforceable contract between you and us."},{title:"Advisory scope",description:"Our metaphysical work is informational guidance, not a substitute for professional, medical, legal, or financial advice, and results cannot be guaranteed."},{title:"Support",description:'For questions or complaints, email <a href="mailto:support@meta-alliance.my">support@meta-alliance.my</a> and we aim to reply within five business days.'}],sections:[{heading:"1. Definitions & interpretation",items:[{title:"“Company”",description:"Refers to Metaphysics Alliance, the registered business providing the Services."},{title:"“User” or “you”",description:"Means any individual or organisation that accesses our website, applications, or uses the Services."},{title:"“Services”",description:"Includes metaphysical advisory, astrology, Feng Shui, numerology, report-generation, training, and related digital or in-person offerings."},{title:"“Client Materials”",description:"Refers to information, data, or content you provide to us, as well as analyses and deliverables we prepare for you."}]},{heading:"2. Business identity & mandatory disclosures",intro:"We comply with the Consumer Protection (Electronic Trade Transactions) Regulations 2024 by disclosing the following:",items:[{title:"Registered entity",description:"Metaphysics Alliance · 202403287440 (AS0486487-A)."},{title:"Registered office",description:"Menara Mitraland, 13A Jalan PJU 5/1, Kota Damansara, 47810 Petaling Jaya, Selangor, Malaysia."},{title:"Primary contact",description:"support@meta-alliance.my · +60 16-587 4131."},{title:"Services offered",description:"Metaphysical consultations, reports, training, and related digital or physical deliverables."},{title:"Pricing & delivery",description:"Fees are displayed on product pages or engagement letters. Digital outputs are delivered via email/download; any physical items follow our shipping policy."},{title:"Refund eligibility",description:"Refer to Clause 5.4 and the Refund Policy. Bespoke digital reports may be non-refundable once analysis starts or deliverables are issued."},{title:"Support response time",description:"See Clause 13—we target acknowledgement within five business days."}]},{heading:"3. Scope of services",intro:"Services are advisory in nature and described on our website or in engagement documents. Outcomes depend on your decisions and external factors, so no results are guaranteed. You remain responsible for legal, financial, or medical choices and should obtain independent professional advice where required."},{heading:"4. User eligibility & obligations",items:[{title:"Legal capacity",description:"You confirm that you are of legal age and have the authority to enter into binding contracts."},{title:"Accurate information",description:"You agree to provide information that is true, current, and complete, and to keep it updated when it changes."},{title:"Lawful use",description:"You will not misuse the Services, infringe third-party rights, disrupt system integrity, or introduce malicious code."}]},{heading:"5. Fees, payment, taxes & refunds",items:[{title:"Fees",description:"Payable rates are displayed at checkout or stated in an engagement letter."},{title:"Payment terms",description:"Unless otherwise agreed in writing, fees are due in full before work commences."},{title:"Taxes & duties",description:"Prices may exclude taxes or duties; applicable charges are displayed at checkout and remain your responsibility."},{title:"Refunds",description:"Custom digital reports are generally non-refundable once analysis begins. Other services follow the published Refund Policy and statutory consumer protections."}]},{heading:"6. Reports, content & intellectual property",items:[{title:"Ownership",description:"The site, methodologies, reports, and associated materials are owned by Metaphysics Alliance or its licensors."},{title:"Licence grant",description:"You receive a personal, non-transferable licence to use deliverables for your internal purposes only."},{title:"Restrictions",description:"Reproduction, publication, distribution, or resale of deliverables requires prior written consent."},{title:"Client Materials",description:"By submitting information you grant us a limited licence to process, store, and use it to deliver and improve the Services."}]},{heading:"7. Data protection & privacy",intro:'We process personal data under the Personal Data Protection Act 2010 (PDPA) and our <a href="/legal/privacy">Privacy Policy</a>. By using the Services you consent to that processing, including sharing data with vetted service providers. You may request access, corrections, or other PDPA rights through the mechanisms described in the Privacy Policy.'},{heading:"8. Service standards & disclaimers",intro:"Services are provided on an “as is” and “as available” basis. We apply reasonable skill and care but do not warrant uninterrupted access, error-free operation, or fitness for a particular purpose."},{heading:"9. Limitation of liability",bullets:["To the maximum extent permitted by Malaysian law, we are not liable for indirect, incidental, consequential, special, exemplary, or punitive damages, including lost profit or goodwill.","Total liability for any claim is limited to the amount you paid for the specific Service giving rise to the claim.","Nothing in these Terms limits liability for fraud, fraudulent misrepresentation, or other liability that cannot be excluded under Malaysian law."]},{heading:"10. Termination",bullets:["Either party may terminate with written notice if the other materially breaches these Terms and fails to remedy the breach within fourteen (14) days.","Upon termination you must cease using the deliverables and settle all outstanding fees.","Clauses relating to intellectual property, confidentiality, payment obligations, and liability survive termination."]},{heading:"11. Governing law & dispute resolution",intro:"These Terms are governed by the laws of Malaysia. The courts of Malaysia have non-exclusive jurisdiction over disputes arising from or related to the Services."},{heading:"12. Changes to these Terms",intro:"We may update these Terms from time to time. The effective date appears at the top of the policy. Material changes will be communicated through reasonable channels, and continued use after updates signifies acceptance."},{heading:"13. Contact & complaints",items:[{title:"Primary support",description:"Email support@meta-alliance.my or call +60 16-587 4131 for assistance."},{title:"Complaint process",description:"Email support@meta-alliance.my with your order ID and detailed description. We aim to acknowledge within five business days and resolve issues promptly."}]},{heading:"14. Miscellaneous",bullets:["These Terms, together with referenced policies, form the entire agreement between you and Metaphysics Alliance.","If any provision is held invalid, the remaining clauses remain in force.","Failure or delay to enforce a right does not waive that right.","You may not assign these Terms without our prior consent. We may assign our rights to an affiliate or successor as part of a reorganisation or transfer.","Neither party is liable for delays or failure caused by force majeure events beyond reasonable control."]},{heading:"15. Regulatory notes (Malaysia)",bullets:["Contracts Act 1950 (Section 10) – essentials of a valid contract and consideration.","Sale of Goods Act 1957 – governs supply of physical deliverables, where applicable.","Consumer Protection Act 1999 (Part IIIA) – prohibits unfair terms in consumer contracts.","Electronic Commerce Act 2006 – recognises electronic contracts and signatures.","Personal Data Protection Act 2010 – regulates personal data processing and rights.","Consumer Protection (Electronic Trade Transactions) Regulations 2024 – requires disclosure of business identity, contact details, pricing, refunds, and delivery arrangements."]}],contact:{name:"Metaphysics Alliance Support Team",email:"support@meta-alliance.my",phone:"+60165873141",hours:"We reply within one business day and resolve most requests within five business days.",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},disclaimer:{title:"Disclaimer",last_updated:"November 2, 2024",intro:"This Disclaimer outlines the legal boundaries for all Metaphysics Alliance content, consultations, and services. All materials are provided for educational, cultural, and personal development purposes and do not constitute professional, medical, or financial advice.",downloadUrl:"/legal/disclaimer.pdf",summary:[{title:"Purpose",description:"Defines the legal boundaries governing all Metaphysics Alliance content, consultations, and services."},{title:"Advisory scope",description:"Clarifies that metaphysical interpretations remain symbolic guidance and are not substitutes for legal, medical, psychological, or financial advice."},{title:"Client responsibility",description:"Emphasises that clients decide how to apply insights and accept the risks associated with implementation."}],sections:[{heading:"1. Purpose and scope",intro:"This Disclaimer explains the legal boundaries governing all Metaphysics Alliance content, consultations, and services. Our materials are for educational, cultural, and personal development purposes and should not be treated as professional advice."},{heading:"2. Acknowledgment of terms",intro:"By visiting our website, subscribing to communications, or purchasing services you acknowledge and accept this Disclaimer, which operates alongside our Terms of Service and Privacy Policy."},{heading:"3. Interpretation and definitions",intro:"“Services” covers all metaphysical analyses, destiny reports, Feng Shui audits, courses, and digital products. “User” refers to any individual or organisation engaging our content or services. Undefined terms carry their ordinary meaning under Malaysian law."},{heading:"4. Nature of services",intro:"All metaphysical interpretations are advisory and symbolic, reflecting patterns of time, energy, and environment rather than fixed or scientific certainties."},{heading:"5. Educational and cultural purpose",intro:"We design our services to deepen self-awareness and cultural appreciation of Eastern metaphysics. They are not intended to predict or alter legal, financial, or medical outcomes."},{heading:"6. No professional advice",intro:"Nothing in our reports, consultations, or digital materials constitutes legal, medical, psychological, or investment advice. Obtain independent professional guidance before making decisions that affect life, health, or assets."},{heading:"7. No guarantees or promised results",intro:"While we apply due care and methodological rigour, we do not guarantee the accuracy, completeness, or success of any interpretation or recommendation. Outcomes depend on personal action, timing, and circumstances beyond our control."},{heading:"8. Limitation of liability",intro:"To the fullest extent permitted by Malaysian law, any liability arising from the use of our content or services is limited.",bullets:["We are not liable for direct, indirect, incidental, or consequential losses, including emotional distress or business interruption.","If liability is proven, the cap is the amount paid for the specific service.","This limitation does not override statutory rights that cannot be excluded or restricted by law."]},{heading:"9. Assumption of risk by user",intro:"By engaging our services, you accept full personal responsibility for interpreting and applying metaphysical insights. Participation is voluntary and at your own risk."},{heading:"10. Indemnity",intro:"You agree to indemnify and hold harmless Metaphysics Alliance, its directors, consultants, and partners from any claim, damage, or expense arising from misuse of our content or the breach of applicable laws."},{heading:"11. Confidentiality and PDPA compliance",intro:"We handle personal data in accordance with the Personal Data Protection Act 2010 (PDPA) and the commitments set out in our Privacy Policy. Client information remains confidential unless disclosure is required by law."},{heading:"12. Electronic communication and consent",intro:"Under the Electronic Commerce Act 2006, your digital acceptance—including checkboxes, email confirmations, or online form submissions—constitutes valid consent. Official notices may be delivered electronically to the email address you provide."},{heading:"13. Intellectual property rights",intro:"All charts, calculations, methodologies, logos, text, and visual assets are the intellectual property of Metaphysics Alliance or licensed partners. Reproduction or distribution without written approval is prohibited."},{heading:"14. Third-party content and external links",intro:"Our website may reference third-party platforms such as analytics tools, payment gateways, or social media. We do not control or endorse external sites and disclaim liability for their content or data practices."},{heading:"15. Testimonials and endorsements",intro:"Testimonials describe individual experiences and are not guarantees of future results. Unless explicitly stated, no compensation is provided for testimonials."},{heading:"16. User conduct and defamation",intro:"Users must communicate respectfully and refrain from defamatory or false statements about our services or personnel. We may pursue remedies under the Defamation Act 1957 and related civil legislation."},{heading:"17. Spiritual and cultural sensitivity",intro:"Metaphysics Alliance operates from a non-religious, inclusive philosophy. Our teachings draw on cultural and historical sources without promoting or opposing any faith or belief system."},{heading:"18. System availability and force majeure",intro:"We do not guarantee uninterrupted access to our website or systems. We are not liable for downtime caused by maintenance, cyber incidents, natural disasters, government directives, or other force majeure events."},{heading:"19. Accuracy and updates of information",intro:"All information is current at the time of publication. We may update or revise data, formulas, or references without prior notice to align with evolving research and client feedback."},{heading:"20. Contractual relationship",intro:"Engaging our services creates a legally binding agreement under the Contracts Act 1950 and Electronic Commerce Act 2006. This Disclaimer forms part of that agreement and should be read with the Terms of Service and Refund Policy."},{heading:"21. Governing law and jurisdiction",intro:"This Disclaimer is governed by the laws of Malaysia, and disputes fall under the non-exclusive jurisdiction of the courts of Selangor Darul Ehsan."},{heading:"22. Amendments and notification",intro:"We may amend this Disclaimer to reflect legislative or operational developments. Updates will be posted on meta-alliance.my with a revised effective date, and continued use signifies acceptance of the revised terms."}],contact:{name:"Metaphysics Alliance Support Team",email:"support@meta-alliance.my",phone:"+60165873141",hours:"Monday - Friday, 10:00 AM - 6:00 PM (GMT +8).",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},cookies:{title:"Cookies Policy",last_updated:"November 2, 2024",intro:"Metaphysics Alliance (“we”, “us”, “our”) uses cookies and similar technologies on our website to improve user experience, personalise content, and analyse site performance.",downloadUrl:"/legal/cookies-policy.pdf",summary:[{title:"Purpose",description:"We use cookies to keep the site functional, tailor language preferences, and understand how visitors interact with our content."},{title:"Control",description:"Non-essential cookies only load after you consent, and you can withdraw that consent at any time through the banner or browser settings."},{title:"Third parties",description:"Analytics and media partners (such as Google Analytics and Meta Pixel) set certain cookies under their own privacy policies."}],sections:[{heading:"1. What are cookies?",intro:"Cookies are small text files placed on your device when you visit a website. They allow the site to recognise your device, remember preferences, and keep experiences consistent across visits.",bullets:["Session cookies expire when you close the browser; persistent cookies remain until you clear them or they reach their expiry date.","Cookies may be set directly by us (first-party) or by approved service providers operating on our behalf (third-party)."]},{heading:"2. Types of cookies we use",items:[{title:"Strictly necessary",description:"Enable core navigation, security, and access to member-only areas. These cannot be switched off in our systems."},{title:"Performance",description:"Collect anonymous usage data so we can measure page performance and resolve issues quickly."},{title:"Preference",description:"Remember selections such as language, theme, or saved forms so the site feels familiar."},{title:"Analytics",description:"Use tools like Google Analytics (with IP anonymisation) to see how visitors discover and move through the site."},{title:"Advertising (optional)",description:"Triggered only if you consent, these cookies help us show relevant content or measure marketing outcomes."}]},{heading:"3. How we use cookies",bullets:["Maintain secure sessions for logged-in areas and protect against misuse.","Analyse aggregated visitor journeys so we can improve layout, messaging, and load times.","Store your language or interface preferences to reduce repeated prompts.","Generate anonymised insights that inform service planning and content strategy.","Measure the effectiveness of campaigns when you opt into marketing cookies."],note:"We never use cookies to collect sensitive personal data such as financial information, government identifiers, or medical history."},{heading:"4. Legal basis under Malaysian law",columns:[{title:"Statutory references",points:["Personal Data Protection Act 2010 (Sections 6–7: Notice & Choice Principle; Section 9: Disclosure Principle).","Electronic Commerce Act 2006 – recognises electronic consent.","Consumer Protection (Electronic Trade Transactions) Regulations 2024 – requires transparent disclosure of online data practices."]},{title:"Interpretation",points:["Consent must be clear, informed, and freely given.","Users must be able to withdraw consent at any time without penalty.","Non-essential cookies only activate after consent is recorded."]}]},{heading:"5. Your consent",intro:"When you first visit the site, we display a cookie banner describing our use of cookies.",bullets:["Clicking “Accept” or continuing to browse signals your consent to the purposes described in this policy.","You can decline optional cookies through the banner or browser settings; strictly necessary cookies will continue to operate.","Disabling certain cookies may impact features such as saved preferences or embedded media."]},{heading:"6. Managing or deleting cookies",intro:"You can manage cookies directly from your browser:",bullets:["Chrome: Settings → Privacy and security → Cookies and other site data.","Edge: Settings → Site permissions → Cookies and site data.","Safari: Preferences → Privacy → Manage Website Data.","Firefox: Options → Privacy & Security → Cookies and Site Data.",'Google Analytics opt-out: <a href="https://tools.google.com/dlpage/gaoptout" target="_blank" rel="noreferrer">https://tools.google.com/dlpage/gaoptout</a>.']},{heading:"7. Third-party cookies",intro:"Some cookies are set by trusted partners providing analytics, media, or advertising services on our behalf.",bullets:["Google Analytics (traffic statistics).","Meta Pixel (advertising conversion tracking).","YouTube / Vimeo embeds (media playback)."],note:"These partners process data under their own privacy policies. We encourage you to review their notices directly."},{heading:"8. Data retention",intro:"We retain cookie data only for as long as the stated purposes require or as mandated by law. Aggregated analytics may be retained for longer-term planning in anonymised form."},{heading:"9. Updates to this Cookies Policy",intro:"We may update this policy to reflect legal, technological, or operational changes. A revised “Effective Date” will appear on this page, and material updates may trigger additional notices or a fresh consent request."}],contact:{name:"Metaphysics Alliance Support Team",email:"support@meta-alliance.my",phone:"+60165873141",hours:"We reply within one business day and resolve most requests within five business days.",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},refund:{title:"Refund Policy",last_updated:"November 2, 2024",intro:"This policy explains when refunds may be issued for purchases made through Metaphysics Alliance.",downloadUrl:"/legal/refund-policy.pdf",summary:[{title:"Scope",description:"Applies to purchases made via meta-alliance.my or official Metaphysics Alliance channels and aligns with Malaysian consumer law."},{title:"Personalised services",description:"Custom analyses and consultations are generally non-refundable once preparatory work has begun."},{title:"How to request",description:"Email support@meta-alliance.my with your order ID; verified cases are processed within 7–14 business days."}],sections:[{heading:"1. Legal basis",items:[{title:"Contracts Act 1950 (ss. 10, 65–67)",description:"Governs lawful contracts, rescission rights, and compensation for work already performed."},{title:"Consumer Protection Act 1999",description:"Protects buyers from unfair or misleading practices in personal and online transactions."},{title:"Consumer Protection (Electronic Trade Transactions) Regulations 2024",description:"Requires clear disclosure of refund terms for e-commerce engagements."}]},{heading:"2. General principles",bullets:["Orders are treated as final once bespoke analysis or preparation has commenced.","Pricing, deliverables, and timelines are explained prior to payment confirmation.","Refund eligibility depends on service type, stage of delivery, and the supporting reason provided."]},{heading:"3. Non-refundable services",intro:"Because our work is highly customised, refunds are not available once the following services have started:",bullets:["Destiny reports (BaZi, Zi Wei, Qi Men, numerology, or blended analyses).","Corporate audits, feng shui assessments, or energy field consultations.","VIP holistic or premium programmes requiring birth data or confidential business intelligence.","Workshops, live classes, or digital sessions after access links or materials have been released."],note:"Personalised engagements are exempt from refunds once performance begins, provided limitations were disclosed beforehand (Contracts Act 1950, CPA 1999)."},{heading:"4. Refundable circumstances",bullets:["Cancellation before work commences may qualify for a refund, subject to administrative deductions.","Where we are unable to deliver a service as described and no suitable alternative is agreed.","Regulatory or statutory obligations that expressly require a refund."]},{heading:"5. Refunds for digital products",bullets:["Requests must be submitted within three (3) days of purchase.","Eligible where the file is defective, inaccessible, or materially inconsistent with its description.","Once a download or access link works as described, refunds normally do not apply."]},{heading:"6. Refund procedure",bullets:["Email support@meta-alliance.my with the subject “Refund Request – [Order ID]”.","Include your full name, order number, payment date, method, detailed reason, and supporting evidence.","We acknowledge within three (3) business days and review the claim promptly.","Approved refunds are processed within seven (7) to fourteen (14) business days via the original payment method or bank transfer."]},{heading:"7. Processing fees",intro:"If an order is cancelled before work starts, we may deduct up to 10% as an administrative or payment gateway fee (Contracts Act 1950, s.74)."},{heading:"8. Chargeback policy",bullets:["Initiating a chargeback without first contacting us may lead to suspension of ongoing services.","We provide full transaction evidence to financial institutions to resolve disputes.","Unwarranted chargebacks can be treated as breach of contract under Sections 74–75 of the Contracts Act 1950."]},{heading:"9. Policy updates",intro:"We may revise this policy to reflect legal or operational changes. Updates take effect on the stated date and are published on meta-alliance.my."}],contact:{name:"Metaphysics Alliance Support Team",email:"support@meta-alliance.my",phone:"+60165873141",hours:"Monday – Friday, 10:00 AM – 6:00 PM (GMT+8).",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}}};E.CN.about={hero:{title:"关于 Metaphysics Alliance",sub:"以中国玄学，助你做出清晰决策",description:"整合八字、紫微斗数、奇门遁甲、风水与数字能量，以交叉验证获得 360° 全景洞见；以严谨校准追求高度一致与可执行性。",cta:"联系我们"},founder:{title:"创始人寄语",name_en:"Shaun Quan",name_cn:"宸麟老师",role:"首席中国玄学分析师",paragraphs:["创立 Metaphysics Alliance，只为将玄学真正用于关键抉择：既尊重传统根基，也符合当下的节奏与标准。我们把复杂的盘局化为清晰的行动指引，让个人与企业都能更快更稳地向前。","每一次服务都以真太阳时与二十四节气为基准，并参考权威历法校验；同时以多流派交叉验证，确保模式在不同视角下仍然成立。目标很简单：降低噪音、沉淀要点，使你在确定与从容中前进。"]},philosophy:{title:"360° 交叉验证的中国玄学",highlight:"三角验证 → 交叉确认 → 把握时机",paragraphs:["我们综合八字、紫微、奇门、风水与数字能量；结论绝非单一方法，而是多视角反复印证后的稳定共识。","时间是关键。所有评估均以真太阳时与二十四节气校准，再落到可执行的行动窗口。"]},what:{title:"我们的服务",items:[{title:"面向个人",description:"职业方向、事业布局、关系澄清与行动时机——最终汇总为清晰可行的计划。"},{title:"面向企业",description:"团队协同、领导力匹配、选址与发布时机——适用于中小企业与增长型团队。"},{title:"方法论",description:"评估 → 对齐 → 行动。盘面阅读、交叉验证，并叠加时机层选择“何时出手”。"}]},videos:{title:"1 分钟团队介绍",items:[{title:"宸麟老师 — 60 秒",description:"为什么选择中国玄学、我们的 360° 方法与受益人群。"},{title:"资深顾问 — 60 秒",description:"从三角验证到行动时机，如何把洞见落地。"},{title:"企业与团队 — 60 秒",description:"个人与企业的差异，以及如何降低噪音、提升一致性。"}]},story:{title:"成长历程",timeline:[{date:"2023‑03",title:"成立",outcome:"完成首批 50 位客户服务"},{date:"2023‑09",title:"企业顾问试点",outcome:"团队协同指标显著提升"},{date:"2024‑02",title:"双语化实践",outcome:"上线中英双语；累计 200+ 客户"},{date:"2024‑06",title:"中小企工作坊",outcome:"举办 3 场；决策前置期缩短"},{date:"2024‑10",title:"交叉验证 2.0",outcome:"时机建议更为精细"},{date:"2025‑03",title:"服务 500+ 客户",outcome:"B2B 项目覆盖 3 个行业"}]},milestones:{title:"里程碑",items:[{date:"2023‑03",outcome:"公司成立；首批 50 位客户"},{date:"2023‑09",outcome:"完成首次企业顾问试点"},{date:"2024‑02",outcome:"上线中英双语；200+ 客户"},{date:"2024‑06",outcome:"举办 3 场工作坊；效率提升"},{date:"2024‑10",outcome:"交叉验证框架 2.0"},{date:"2025‑03",outcome:"服务突破 500+；拓展 B2B"}]},team:{title:"团队",members:[{name_en:"Shaun Quan",name_cn:"宸麟老师",role:"首席中国玄学分析师",focus:"八字 • 紫微 • 奇门 • 风水｜战略与时机",portrait:"/images/team/Shaun Quan.png"},{name_en:"Mei Lin Tan",name_cn:"陈美琳老师",role:"资深顾问 — 八字 • 奇门 • 择日",focus:"职场与中小企业；转型与发布时机",portrait:"/images/team/Tan Mei Ling.png"},{name_en:"Daniel Lee",name_cn:"李文杰老师",role:"风水战略顾问 & 八字顾问",focus:"住宅/商业风水；选址与开业时机",portrait:"/images/team/Danial.png"}]},faq:{title:"常见问题",items:[{q:"单次时长？",a:"个人 60–90 分钟；团队/企业 90–120 分钟。"},{q:"如何准备？",a:"准备出生信息、目标与当前决策；其余由我们引导。"},{q:"是否保证准确率？",a:"我们以交叉验证和时机校准追求高度一致，但任何结果不作保证。"},{q:"是否支持双语？",a:"支持中英双语。"},{q:"如何开始？",a:"联系预约体验咨询或沟通需求。"}]},cta:{label:"联系我们",title:"准备开始？",message:"告诉我们你的目标与时间规划。我们会提供路线建议并安排首次沟通。"}};E.CN.legal={privacy:{title:"隐私政策",last_updated:"2025年10月19日",intro:"本政策阐述 Metaphysics Alliance 在咨询、审计、课程与数字产品中的个人数据收集、使用、保存和分享方式，并说明您在马来西亚《2010 年个人数据保护法》（PDPA）下的权利。",downloadUrl:"/legal/privacy-policy-cn.pdf",summary:[{title:"适用范围",description:"适用于与 Metaphysics Alliance 互动的客户、潜在客户、课程学员、活动参与者以及访问 meta-alliance.my 的访客。"},{title:"合规标准",description:"遵循马来西亚《2010 年个人数据保护法》，并履行跨境合作的合同义务与安全条款。"},{title:"支援窗口",description:'隐私相关问题请发邮件至 <a href="mailto:support@meta-alliance.my">support@meta-alliance.my</a>；重大事件将在 24 小时内升级处理。'}],sections:[{heading:"1. 我们的角色与适用范围",intro:"Metaphysics Alliance（meta-alliance.my）在咨询、审计、活动及数字平台收集的个人数据上承担数据控制者角色。",items:[{title:"当我们是数据控制者",description:"当您通过咨询表单、预约、付款、活动或由我们发起的审计提交资料时，我们决定处理目的与方式，并设定保留期限及安全措施。"},{title:"当我们是数据处理者",description:"企业项目中，如您向我们提供员工或客户数据，我们仅按合同与书面指示处理，并在项目结束后删除或归还相关资料。"}],note:"向我们提供第三方资料时，请确保该资料是合法收集并且您具有分享授权。"},{heading:"2. 我们收集的个人数据",intro:"我们遵循“数据最小化”原则，仅收集完成服务所需的信息。",items:[{title:"身份与联系信息",description:"姓名、称谓、邮箱、电话、公司信息、账单地址及沟通偏好等基本资料。"},{title:"咨询所需资料",description:"出生日期、时间、地点，平面图、团队结构、业务指标、问卷，以及为完成分析而提供的其他材料。"},{title:"运营与交易记录",description:"服务历史、预约信息、发票、付款确认（由安全通道处理）、咨询记录及后续跟进。"},{title:"网站与系统数据",description:"语言偏好 Cookie、设备元数据、匿名化分析数据。我们不进行行为广告，也不会出售浏览记录。"}],note:"若服务需要处理敏感个人数据（如健康状况、家庭信息），我们会事先征得您的明确同意，并仅允许相关顾问访问。"},{heading:"3. 数据使用目的",intro:"我们依据合同履行、合法利益、法律义务及（如需）您的同意来处理数据。",items:[{title:"交付咨询、审计与方案",description:"用于绘制命盘、分析、撰写报告、准备简报、安排会议，并根据目标定制建议。",legal:"法律依据：合同履行 + 合法利益。"},{title:"客户沟通与支持",description:"回应咨询、汇报进度、发送资源资料，以及在您要求时提供后续支持。",legal:"法律依据：合法利益 + 同意（适用于可选更新）。"},{title:"运营与财务管理",description:"账务、会计、记录保存、防范欺诈，以及在需要时核实身份或授权。",legal:"法律依据：法律义务 + 合法利益。"},{title:"合规与风险管理",description:"调查投诉、执行协议、保护知识产权，并回应主管机关的合法要求。",legal:"法律依据：法律义务 + 合法利益。"}]},{heading:"4. 数据保留与安全",intro:"我们设有保留周期，确保数据仅在必要期限内存放。",items:[{title:"保留期限",description:"核心客户文件与发票保留七（7）年以符合法规；无后续接触的潜在客户资料在 18 个月后删除；原始分析素材（平面图、表格、录音）于项目验收后 90 天内清除，除非您要求延长存档。"},{title:"安全控制",description:"我们实施加密存储、分级权限、安全传输及年度安全审查，并记录整改计划。",bullets:["生产环境托管于通过 ISO 27001 认证的平台。","移动设备启用全盘加密与生物识别访问。","与顾问共享资料时使用限时链接或受控协作工具。"]}]},{heading:"5. 数据共享与跨境传输",intro:"我们不会出售个人数据，仅在履约或符合法律要求时共享。",items:[{title:"受信的数据处理方",description:"支付通道、云端存储、分析、转录与通讯供应商位于马来西亚、新加坡或具备同等保护水平的地区，并签署符合 PDPA 的数据处理协议。"},{title:"跨境处理",description:"当工具在境外处理数据时，我们通过合同条款要求等同保护，并保留审计权。"}],bullets:["若法律、法院或主管机关要求披露，我们会依法提供并记录。","如 Metaphysics Alliance 发生合并或收购，我们会提前通知并提供退出选项。"]},{heading:"6. 您的个人数据权利",columns:[{title:"您可行使的权利：",points:["申请查阅我们持有的个人数据；","要求更正不准确或不完整的数据；","随时撤回非必要用途（含行销资讯）的同意；","在符合法定保留要求的前提下，请求删除或匿名化个人数据；","申请获取可移转的个人数据副本。"]},{title:"提交请求的方式：",points:['发送邮件至 <a href="mailto:privacy@meta-alliance.my">privacy@meta-alliance.my</a>，标题注明 “PDPA Request”，并说明需求。',"我们会在 1 个工作日内确认，并在 5 个工作日内完成回复；如需延长（最长 21 天），会同步说明原因。","为保障安全，我们可能要求验证身份或授权。","如因法规需保留部分资料，我们会说明理由，并在义务届满后通知您。"]}],note:"营销邮件均附退订链接；WhatsApp 广播或社群需经您明确同意才会加入。"},{heading:"7. 政策更新",bullets:["当我们推出新服务、引入新处理方或调整数据用途时，将审阅并更新本政策。","重大变更会在 meta-alliance.my/legal/privacy 公布，并在适用时通知现有客户。"]}],contact:{name:"Metaphysics Alliance 支持团队",email:"support@meta-alliance.my",phone:"+60165873141",hours:"我们会在 1 个工作日内回复，并在 5 个工作日内完成大部分请求。",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},cookies:{title:"Cookies 政策",last_updated:"2024年11月2日",intro:"Metaphysics Alliance（以下简称“我们”或“本公司”）在本网站使用 Cookies 及类似技术，以提升用户体验、个性化内容，并分析网站表现。",downloadUrl:"/legal/cookies-policy-cn.pdf",summary:[{title:"使用目的",description:"Cookies 让网站保持稳定运行、记住语言偏好，并帮助我们了解访客如何浏览内容。"},{title:"控制权",description:"非必要性 Cookies 仅在您明确同意后才会启用，您可随时通过弹窗或浏览器设定撤回同意。"},{title:"第三方服务",description:"部分 Cookies 由受信任的伙伴（如 Google Analytics、Meta Pixel）设定，并依各自的隐私政策处理数据。"}],sections:[{heading:"1. 什么是 Cookies？",intro:"Cookies 是当您访问网站时储存在设备上的小型文本文件，可让网站识别您的装置、记住偏好设置，并保持一致的浏览体验。",bullets:["会话型 Cookies 在您关闭浏览器后即失效；持久型 Cookies 会保留至手动删除或到期为止。","Cookies 可能由我们直接设置（第一方），或由受托的第三方服务商代表我们设置。"]},{heading:"2. 我们使用的 Cookies 类型",items:[{title:"严格必要",description:"维持基本导航、安全机制及会员专区访问，此类 Cookies 无法在系统中关闭。"},{title:"性能监测",description:"收集匿名使用数据，协助我们评估页面表现并快速排除问题。"},{title:"偏好记忆",description:"保存语言、主题或登入状态，让网站体验更贴合您的习惯。"},{title:"分析统计",description:"透过 Google Analytics（已启用 IP 匿名化）等工具，掌握访客来源与浏览路径。"},{title:"广告用途（可选）",description:"仅在您同意后启用，用于呈现更相关的内容或衡量行销成效。"}]},{heading:"3. 我们如何使用 Cookies",bullets:["确保会员区与安全机制正常运作，防止未授权操作。","分析汇总后的访问路径，以优化版面设计、文案与载入速度。","记住语言或界面偏好，减少重复设定。","产出匿名洞察数据，用于服务规划与内容策略。","在您允许的情况下，用来评估行销或广告活动的成效。"],note:"我们不会透过 Cookies 收集任何敏感资料，例如财务信息、身份证号码或医疗记录。"},{heading:"4. 马来西亚法律依据",columns:[{title:"法律条文参考",points:["《2010年个人资料保护法》（第 6–7 条：通知与选择原则；第 9 条：披露原则）。","《2006年电子商务法》—— 认可电子同意的法律效力。","《2024年电子交易条例》—— 要求线上经营者明确说明数据收集用途。"]},{title:"原则说明",points:["同意必须是明确、知情且自愿的表示。","用户可随时撤回同意，且不应受不利影响。","非必要性 Cookies 必须在取得同意后才可启用。"]}]},{heading:"5. 用户同意",intro:"您首次访问网站时，系统会透过弹窗或横幅提示我们使用 Cookies。",bullets:["点击“接受”或继续浏览，即表示您同意本政策所描述的用途。","您可透过弹窗或浏览器设定拒绝非必要 Cookies；严格必要的 Cookies 将持续运作。","若停用部分 Cookies，可能影响偏好记忆或内嵌媒体等功能。"]},{heading:"6. 如何管理或删除 Cookies",intro:"您可透过浏览器设定来控制或删除 Cookies：",bullets:["Chrome： 设置 → 隐私和安全性 → Cookies 与其他网站数据。","Edge： 设置 → 网站权限 → Cookies 与网站数据。","Safari： 偏好设置 → 隐私 → 管理网站数据。","Firefox： 选项 → 隐私与安全 → Cookies 与网站数据。",'停用 Google Analytics：<a href="https://tools.google.com/dlpage/gaoptout" target="_blank" rel="noreferrer">https://tools.google.com/dlpage/gaoptout</a>。']},{heading:"7. 第三方 Cookies",intro:"部分 Cookies 由合作伙伴在我们授权下设置，用于分析、媒体或广告成效追踪。",bullets:["Google Analytics（流量统计）。","Meta Pixel（广告转化追踪）。","YouTube / Vimeo（影音内容嵌入）。"],note:"这些伙伴会依据各自的隐私政策处理资料，建议您直接参阅相关条款。"},{heading:"8. 数据保存期限",intro:"我们仅在达成上述目的所需期间或法律要求的期限内保留 Cookies 数据；经匿名化的统计资料可能会用于长期分析。"},{heading:"9. 政策更新",intro:"我们可能因技术、法律或营运调整而更新本政策。所有更新会发布于本页面，并标示最新的“生效日期”；若属重大修改，我们将提供额外通知或重新征求同意。"}],contact:{name:"Metaphysics Alliance 支持团队",email:"support@meta-alliance.my",phone:"+60165873141",hours:"我们会在 1 个工作日内回复，并在 5 个工作日内完成大部分请求。",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},terms:{title:"服务条款",last_updated:"2024年11月2日",intro:"当您访问或使用 Metaphysics Alliance 的网站、应用程序或任何相关服务（统称“服务”）时，即表示您已阅读并同意本《服务条款》。",downloadUrl:"/legal/terms-of-service-cn.pdf",summary:[{title:"法律约束",description:"本条款规范您对服务的使用，并构成您与 Metaphysics Alliance 之间具有约束力的法律协议。"},{title:"服务性质",description:"我们的玄学与命理分析仅供参考，不替代专业、医疗、法律或财务意见，且不保证任何结果。"},{title:"联络方式",description:'如有疑问，请发送邮件至 <a href="mailto:support@meta-alliance.my">support@meta-alliance.my</a>；我们通常会在五个工作日内回复。'}],sections:[{heading:"1. 定义与解释",items:[{title:"“本公司”",description:"指 Metaphysics Alliance，即提供本服务的注册商号。"},{title:"“用户”或“您”",description:"指任何访问网站、应用程序或使用服务的个人或机构。"},{title:"“服务”",description:"包括玄学咨询、命理分析、风水规划、数字能量、报告撰写、培训课程及其他线上或线下相关服务。"},{title:"“客户资料”",description:"指您提供给我们的信息、数据或内容，以及我们在服务过程中为您制作的分析与成果。"}]},{heading:"2. 商业身份与法定揭露（依马来西亚法规）",intro:"根据《消费者保护（电子交易）条例 2024》之规定，我们公开以下信息：",items:[{title:"注册实体",description:"Metaphysics Alliance · 202403287440 (AS0486487-A)。"},{title:"登记地址",description:"Menara Mitraland, 13A Jalan PJU 5/1, Kota Damansara, 47810 Petaling Jaya, Selangor, Malaysia。"},{title:"主要联络",description:"support@meta-alliance.my ｜ +60 16-587 4131。"},{title:"提供服务",description:"玄学咨询、命理报告、培训课程及相关数字／实物交付项目。"},{title:"价格与交付",description:"费用以网站产品页或书面协议为准；数字成果以电邮／下载方式交付，实物商品依配送政策处理。"},{title:"退款说明",description:"详见第 5.4 条及《退款政策》。定制化数字报告一经开始分析或交付，原则上不予退款。"},{title:"客服响应时间",description:"详见第 13 条——我们目标是在五个工作日内给予回复。"}]},{heading:"3. 服务范围",intro:"本公司提供的服务均属咨询性质，不保证任何特定结果。用户对个人、财务、医疗或法律决策承担全部责任，必要时应寻求持牌专业人士的意见。"},{heading:"4. 用户资格与义务",items:[{title:"签约能力",description:"您确认已达法定年龄并具备签约与履约能力。"},{title:"资料准确性",description:"您承诺提供真实、准确、完整且及时更新的资料。"},{title:"合法使用",description:"您不得以任何违法或侵权方式使用服务，也不得破坏系统安全或上传恶意程序。"}]},{heading:"5. 收费、付款、税费与退款",items:[{title:"费用标准",description:"以结账页面或双方签署的书面协议为准。"},{title:"付款条件",description:"除非另有书面约定，服务在开始前须全额付款。"},{title:"税费与关税",description:"价格可能不含税项或关税；相关费用将在结账时列明，并由用户承担。"},{title:"退款政策",description:"定制数字报告自分析启动后通常不退款；其他服务依《退款政策》及相关消费者法例执行。"}]},{heading:"6. 报告、内容与知识产权",items:[{title:"所有权",description:"网站、方法论、咨询成果与相关素材的知识产权归本公司或授权方所有。"},{title:"使用授权",description:"用户仅获授权将成果用于个人或内部用途，不得转让。"},{title:"使用限制",description:"未经书面许可，不得复制、传播、转售或公开展示任何成果。"},{title:"客户资料",description:"您授权我们为提供与优化服务之合理范围内使用、储存、处理所提交的资料。"}]},{heading:"7. 资料保护与隐私权",intro:'我们依照《2010 年个人资料保护法》及<a href="/CN/legal/privacy">《隐私政策》</a>处理个人资料；透过使用服务，您同意我们与受信合作伙伴进行所需之资料处理。您可依隐私政策申请查阅、更正或其他权利。'},{heading:"8. 服务标准与免责声明",intro:"服务以“现状”及“按可用性”基础提供。我们将尽合理专业能力交付，但不保证服务不间断、无错误，亦不担保成果满足任何特定目的。"},{heading:"9. 责任限制",bullets:["在法律允许的最大范围内，我们不对任何间接、附带、特殊或后果性损失负责，包括利润、收入或商誉损失。","若须承担责任，其总额以您为该项服务支付的费用为上限。","本条款不排除因欺诈或法律不得排除之责任。"]},{heading:"10. 终止条款",bullets:["任一方如严重违反本条款且在收到书面通知后 14 天内未纠正，另一方得终止协议。","终止后，用户应停止使用全部成果并支付尚未结清的费用。","知识产权、保密义务、费用与责任限制等条款于终止后仍继续有效。"]},{heading:"11. 适用法律与争议解决",intro:"本条款受马来西亚法律管辖并依其解释；任何争议由马来西亚法院享有非专属管辖权。"},{heading:"12. 条款更新",intro:"我们可能随时更新本条款；新版条款会标明生效日期。若属重大变更，我们将以合理方式通知，用户在更新后继续使用即视为接受。"},{heading:"13. 联系与投诉",items:[{title:"客服管道",description:"如需协助，请电邮 support@meta-alliance.my 或致电 +60 16-587 4131。"},{title:"投诉流程",description:"发送邮件至 support@meta-alliance.my，并附上订单编号及问题说明；我们目标是在五个工作日内确认并尽快处理。"}]},{heading:"14. 其他条款",bullets:["本条款及引用之政策构成双方之间的完整协议，取代先前所有口头或书面约定。","若任何条文被认定无效，其余条文仍具效力。","任一方延迟或未行使权利，不构成对未来权利的放弃。","未经书面同意，用户不得转让本协议；本公司可在重组、合并或资产转移时转让其权利与义务。","因不可抗力或不可控制事件导致的延误或未履行，不构成违约。"]},{heading:"15. 马来西亚法规说明",bullets:["《1950 年合约法》第 10 条：有效合约之必要要素与对价。","《1957 年货物买卖法》：适用于可能交付之实体商品或资料。","《1999 年消费者保护法》（第三 A 部分）：规管消费者合约中的不公平条款。","《2006 年电子商务法》：确认电子合约与电子签章的法律效力。","《2010 年个人资料保护法》：规管个人资料的蒐集、使用与权利行使。","《2024 年消费者保护（电子交易）条例》：规定商家需公开身份、价格、退款与交付信息。"]}],contact:{name:"Metaphysics Alliance 客户支持团队",email:"support@meta-alliance.my",phone:"+60165873141",hours:"我们会在 1 个工作日内回复，并在 5 个工作日内完成大部分请求。",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},disclaimer:{title:"免责声明",last_updated:"2024年11月2日",intro:"本免责声明阐明 Metaphysics Alliance 所提供的内容、咨询与服务的法律界限。所有资料仅供教育、文化与个人成长用途，不构成任何形式的专业、医疗或财务建议。",downloadUrl:"/legal/disclaimer-cn.pdf",summary:[{title:"适用范围",description:"明确 Metaphysics Alliance 在网站、咨询与课程中提供内容与服务的法律边界。"},{title:"服务性质",description:"说明玄学解读属象征性参考，并非法律、医疗、心理或财务建议。"},{title:"客户责任",description:"提醒用户自行决定如何运用资讯，并承担执行所产生的一切风险。"}],sections:[{heading:"1. 目的与适用范围",intro:"本免责声明阐明 Metaphysics Alliance 提供之内容、咨询与服务的法律界限，所有资料仅用于教育、文化与个人成长参考，不构成专业建议。"},{heading:"2. 条款确认",intro:"当您访问本网站、订阅通讯或购买服务，即视为已阅读并同意本免责声明；该条款与《服务条款》及《隐私政策》共同生效。"},{heading:"3. 释义与定义",intro:"“服务”包括玄学分析、命盘报告、风水审查、课程与数字产品；“用户”指任何使用本公司内容或服务的个人或机构；未定义术语以马来西亚法律释义为准。"},{heading:"4. 服务性质",intro:"所有玄学解读均属象征性与参考性，基于时间、能量与环境规律，并非科学或实证结论。"},{heading:"5. 教育与文化目的",intro:"我们的服务旨在提升自我认知与文化理解，不用于预测或改变法律、财务或医疗结果。"},{heading:"6. 非专业建议声明",intro:"本公司提供的报告与咨询不构成法律、医疗、心理或投资建议；在作出重大决定前，请咨询持牌专业人士。"},{heading:"7. 无保证与结果声明",intro:"我们虽秉持专业审慎，仍不保证任何信息或建议的准确性、完整性或特定结果；成果取决于个人行动、时机与外部环境。"},{heading:"8. 责任限制",intro:"在马来西亚法律允许的最大范围内，本公司对使用本站内容或服务所产生的责任予以限制。",bullets:["我们不对任何直接、间接、附带或后果性损失承担责任，包括情绪困扰或业务中断。","如责任被确认，我们的总赔偿金额以用户为相关服务支付的费用为上限。","本条款不影响法律规定不可排除或限制的消费者权利。"]},{heading:"9. 用户风险承担",intro:"使用本公司服务即表示用户对理解与执行结果承担全部责任；所有决定与风险由用户自行掌握。"},{heading:"10. 赔偿责任",intro:"若因违反本免责声明、误用内容或触犯法律而引发索赔，用户需赔偿 Metaphysics Alliance 及其顾问、合作方。"},{heading:"11. 保密与个人资料保护",intro:"我们依据《2010年个人资料保护法》(PDPA) 以及《隐私政策》处理个人资料；除法律要求外，客户信息将严格保密。"},{heading:"12. 电子通信与同意",intro:"依据《2006年电子商务法》，通过勾选、电子邮件或线上表格所作的确认均视为有效同意；官方通知可通过电子邮件传达。"},{heading:"13. 知识产权",intro:"网站所有文字、图表、算法、设计与视觉资产均属 Metaphysics Alliance 或授权方的知识产权，未经书面许可不得复制或传播。"},{heading:"14. 第三方内容与外部链接",intro:"本网站可能链接至第三方平台（如支付网关、社交媒体或分析工具）；相关内容与隐私政策不受我们控制，风险由用户自负。"},{heading:"15. 用户评价与推荐声明",intro:"客户评价仅代表个人体验，并不保证未来结果；除非明确说明，我们不会为评价提供任何酬劳。"},{heading:"16. 用户行为与诽谤",intro:"用户须保持尊重沟通，不得发表诽谤或虚假言论；恶意造谣可能依据《1957年诽谤法》等法律追究。"},{heading:"17. 宗教与文化中立",intro:"Metaphysics Alliance 保持非宗教、开放立场；所引用的玄学内容源自文化与历史研究，并不代表特定宗教立场。"},{heading:"18. 系统可用性与不可抗力",intro:"我们不保证网站或系统持续可用；因维护、通讯故障、自然灾害或政府指令等不可抗力导致的停机，我们不承担责任。"},{heading:"19. 信息准确性与更新",intro:"所有资讯基于发布当下的研究与经验；我们保留随时修订数据、公式或参考资料的权利，以维持准确与及时。"},{heading:"20. 合同关系",intro:"当用户下单或付款，即形成受《1950年合同法》与《2006年电子商务法》保障的法律关系；本免责声明为合同组成部分，应与《服务条款》及《退款政策》合并阅读。"},{heading:"21. 管辖法律与司法管辖",intro:"本免责声明受马来西亚法律管辖，任何争议由马来西亚雪兰莪州法院享有非专属管辖权。"},{heading:"22. 修订与通知",intro:"我们可因法律或业务需要随时更新本免责声明；更新内容将公布于 meta-alliance.my，并注明新的生效日期；持续使用即表示接受新条款。"}],contact:{name:"Metaphysics Alliance 客户支持团队",email:"support@meta-alliance.my",phone:"+60165873141",hours:"周一至周五，上午 10:00 - 下午 6:00（GMT +8）。",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}},refund:{title:"退款政策",last_updated:"2024年11月2日",intro:"本政策说明在何种情形下，Metaphysics Alliance 可为您提供退款。",downloadUrl:"/legal/refund-policy-cn.pdf",summary:[{title:"适用范围",description:"涵盖通过 meta-alliance.my 或官方渠道成交的订单，并符合法律要求。"},{title:"个性化服务",description:"一旦进入分析或制作阶段，专属咨询与报告通常不再提供退款。"},{title:"申请流程",description:"发送邮件至 support@meta-alliance.my 附上订单信息，审核通过后将于 7–14 个工作日内处理。"}],sections:[{heading:"1. 法律依据",items:[{title:"《1950年合约法》（第10条、第65–67条）",description:"规范有效合约与解除权，并允许就已执行的工作要求合理补偿。"},{title:"《1999年消费者保护法》",description:"防止不公平或误导性商业行为，保障消费者权益。"},{title:"《2024年消费者保护（电子交易）条例》",description:"要求线上经营者清楚披露退款与退货政策。"}]},{heading:"2. 一般原则",bullets:["服务一经启动，并投入客制化分析或准备工作，即视为最终确认。","我们会在付款前提供服务说明、交付形式与费用明细，确保交易透明。","是否可退款取决于服务类别、制作进度及申请理由。"]},{heading:"3. 不可退款项目",intro:"因服务高度客制化，下列项目一旦开始分析或撰写，将不再受理退款：",bullets:["命理报告（八字、紫微、奇门、数理分析或综合方案）。","企业风水审计、能量场勘测、布局咨询等服务。","需提供出生或商业敏感资讯的 VIP 全息项目。","线上课程、直播或数字内容在发放访问链接或资料后。"],note:"只要事前已充分披露限制，个别化服务在履行开始后可依《1950年合约法》与《消费者保护法》拒绝退款。"},{heading:"4. 可退款情形",bullets:["在尚未开始制作前取消订单（可能扣除行政或支付手续费）。","若我们无法按约提供服务且未能达成替代方案。","法律或法规明确要求必须退款的情况。"]},{heading:"5. 数字产品退款",bullets:["需在购买后三（3）天内提出申请。","若下载链接损坏、无法访问或与描述严重不符，可申请退款。","成功下载或访问后，一般不再受理退款。"]},{heading:"6. 退款申请流程",bullets:["请发送邮件至 support@meta-alliance.my，并在标题注明 “Refund Request – [订单编号]”。","邮件中请提供姓名、订单号、付款时间、付款方式、退款原因及相关证据。","我们会在三个工作日内确认并展开审核。","审核通过后，将于七至十四个工作日内以原支付方式或银行转账完成退款。"]},{heading:"7. 手续费",intro:"若服务尚未开始前取消，我们可依《1950年合约法》第74条扣除最高 10% 作为行政或支付通道费用。"},{heading:"8. 拒付与银行争议",bullets:["未先联络我们而直接发起退单，可能导致相关服务暂停。","我们会向金融机构提交完整交易证明，以维护合法权益。","无理或虚假的退单行为将被视为违反合约义务（《1950年合约法》第74–75条）。"]},{heading:"9. 政策更新",intro:"若因法律或业务调整更新本政策，最新生效日期将标注于本页，并在 meta-alliance.my 公布；重大变更可能额外通知客户或再次征求同意。"}],contact:{name:"Metaphysics Alliance 支持团队",email:"support@meta-alliance.my",phone:"+60165873141",hours:"周一至周五，10:00 – 18:00（GMT+8）。",address:`Metaphysics Alliance
Menara Mitraland, 13A Jalan PJU 5/1
Kota Damansara, 47810 Petaling Jaya
Selangor, Malaysia.`}}};try{if(E&&E.EN&&E.EN.about&&E.EN.about.videos&&Array.isArray(E.EN.about.videos.items)){const r=E.EN.about.videos.items;r[0]&&(r[0]={...r[0],thumbnail:r[0].thumbnail||"/images/video/placeholder.svg",src:r[0].src||"/videos/shaun-intro.mp4"}),r[1]&&(r[1]={...r[1],thumbnail:r[1].thumbnail||"/images/video/placeholder.svg",src:r[1].src||"/videos/consultant-triangulation.mp4"}),r[2]&&(r[2]={...r[2],thumbnail:r[2].thumbnail||"/images/video/placeholder.svg",src:r[2].src||"/videos/consultant-teams.mp4"})}if(E&&E.CN&&E.CN.about&&E.CN.about.videos&&Array.isArray(E.CN.about.videos.items)){const r=E.CN.about.videos.items;r[0]&&(r[0]={...r[0],thumbnail:r[0].thumbnail||"/images/video/placeholder.svg",src:r[0].src||"/videos/shaun-intro.mp4"}),r[1]&&(r[1]={...r[1],thumbnail:r[1].thumbnail||"/images/video/placeholder.svg",src:r[1].src||"/videos/consultant-triangulation.mp4"}),r[2]&&(r[2]={...r[2],thumbnail:r[2].thumbnail||"/images/video/placeholder.svg",src:r[2].src||"/videos/consultant-teams.mp4"})}}catch{}try{const r=E?.CN?.about?.story?.timeline;Array.isArray(r)&&(r[0]&&(r[0].body="我们从一个小型工作室起步，目标很朴素：把传统术数变成真正在业务里可用的决策工具。开始之前先听客户讲真实约束——预算、团队、时间线——再用八字、紫微、奇门去校验时机与方案。每一个建议都要过“能否落地”的关，能量不空谈，时间要可验证。渐渐地，我们形成了清晰、诚恳的表达方式：不神秘化，不夸大承诺，给出可执行路径和取舍依据。"),r[1]&&(r[1].body="准确性从输入开始。我们把全部排盘与时间戳统一为真太阳时，并对照二十四节气与权威历法复核。立刻看到两个变化：不同方法之间的噪音显著降低，职业转折、产品发布、迁移等“窗口期”更清晰、可复用。当多个方法同时指向同一段时间，成功率明显提升；出现分歧时，也能说明原因并调整行动节奏。"),r[2]&&(r[2].body="我们制定了“交叉验证清单”：单一方法不拍板，八字、紫微、奇门及必要的风水需形成共识。每次咨询像一次小型策略会：明确目标、证据、选项与时间安排。若信号不一致，就把风险和取舍讲清楚，并给出B方案与过渡步骤。客户拿到的是可以和团队对齐的计划，而不是模糊的吉凶判断。"),r[3]&&(r[3].body="随着需求增长，我们成立独立工作室并进入企业项目：常驻做审计、选址与季度规划，把空间布局与招聘节奏、市场周期整合。报告不止“怎么想”，更给出“怎么做、谁负责、何时验收”。方法逐步沉淀为可复用的体系——稳定的输入、可交叉验证的信号、能够落地的执行。衡量标准只有一个：实际影响。"),r[4]&&(r[4].body="我们把“交叉验证清单”升级为 2.0：要求多法一致，分歧要给出取舍与备选路径；“为何是现在”必须与市场节奏、团队与空间条件对齐。时机精细到周与季度，配套准备步骤与风险信号。方法论不再停留在“判断”，而是落到“执行可行”。"),r[5]&&(r[5].body="服务累计 500+ 客户，B2B 项目覆盖 3 个行业。我们保持同一做法：稳定输入、交叉验证、把人事空间与日历节奏对齐。报告是路线图：负责人、步骤、时间点、度量清晰。结果是真实可见——更少折返、更好时机，团队不再被动。"),r.length<5&&r.push({date:"2025",title:"行业拓展",body:"我们把方法用于更大的场景，B2B 项目已覆盖 3 个行业。每个行业都从“时机—团队—空间”三件事入手：把时间窗口精细到周与季度，把人员与流程嵌入节奏，把空间布局与动线配合目标。结果是更少的反复与等待，更多在正确窗口里的动作。我们仍然坚持同一原则：清晰、可验证、可执行。"}))}catch{}try{E.EN.about.story={title:"Our Story",timeline:[{date:"2021",title:"Listening First",body:"We began as a tiny studio and spent our time listening. Clients told us what really mattered—clarity and next steps. We simplified the language and focused on real decisions, not mystique."},{date:"2022",title:"When Timing Clicked",body:"Calmer plans and steadier results followed when we aligned work with seasons and rhythms. People felt less rushed and more confident about when to move or wait."},{date:"2023",title:"Work, Not Lectures",body:"Sessions became working conversations. Instead of dense theory, clients left with a short plan they could act on—priorities, risks and the next right week or quarter."},{date:"2024",title:"Studio & Community",body:"We opened a dedicated studio, hosted small workshops and began serving families and small teams together. The focus stayed the same: calm clarity and practical timing."},{date:"2025",title:"Bilingual, More Stories",body:"We delivered in EN/CN and shared short videos and case stories. Fewer slogans, more real life—what helped, what didn’t, and why the timing mattered."}]},E.EN.about.milestones={title:"Milestones",items:[{date:"2023-03",outcome:"First 50 clients served; we wrote our promise: clarity over mystique."},{date:"2023-09",outcome:"First enterprise pilot; helped a team choose a calmer, better launch window."},{date:"2024-02",outcome:"Bilingual site goes live; we begin serving Southeast Asia more easily."},{date:"2024-06",outcome:"Hosted three community workshops; met new friends and future collaborators."},{date:"2024-10",outcome:"Refined briefings and follow‑ups; simpler plans, steadier rhythm."},{date:"2025-03",outcome:"500+ clients served; grateful for the trust and stories shared."}]},E.CN.about.story={title:"里程碑与成就—玄域联盟（Metaphysics Alliance）",timeline:[{date:"2023年第四季度",title:"创立与愿景确立",body:"玄域联盟于2023年底正式成立，旨在让玄学真正服务于现代决策体系。从个人探索到团队愿景，我们立志将传统玄学与数据逻辑相结合，让“天时与人事”得以被量化、验证与执行。"},{date:"2024年第一季度",title:"核心框架与早期验证",body:"团队开始建立整合体系，将八字、紫微斗数、奇门遁甲、数字学等多门术数统一于一套验证模型之下。来自马来西亚与新加坡的早期客户验证了模型的精准度与实用价值，为系统化发展奠下基础。"},{date:"2024年第二季度",title:"核心团队成形",body:"多领域核心成员正式组建——包括玄学师、数据分析师、系统开发员与视觉设计师，共同打造旗舰产品「VIP全息命理报告」，将多术数分析整合为单一逻辑体系。"},{date:"2024年第三季度",title:"数位化架构与成长突破",body:"正式上线玄域联盟数位平台，实现客户、案例与演算模块的系统化整合。此季度活跃客户突破 200位，并达成三项企业合作计划，从个人工作室晋升为玄学研究与实务机构。"},{date:"2024年第四季度",title:"优化与认可",body:"发布 Cross-Validation V2交叉验证体系，进一步提升命理推演的精度与时序一致性；并举办闭门研讨会与双语报告发布，确立「深度、精度、格局」三大品牌核心。"},{date:"2025年",title:"扩展与传承",body:"玄域联盟进入新阶段，持续强化数据化玄学引擎、培育新一代顾问，并迈向国际化布局——在传承古学精神的同时，塑造玄学未来的新语言。"}]},E.CN.about.milestones={title:"里程碑与成就—玄域联盟（Metaphysics Alliance）",items:[{date:"2023年第四季度",outcome:"玄域联盟于年末正式成立，立志让玄学服务现代决策：从个人到团队，把传统智慧与数据逻辑打通，让“天时与人事”可量化、可验证、可执行。"},{date:"2024年第一季度",outcome:"统一多术数为一套验证模型（八字、紫微、奇门、数字学）；来自马来西亚与新加坡的早期客户验证其准确性与实用价值。"},{date:"2024年第二季度",outcome:"多领域核心团队成形：玄学师、数据分析师、系统开发员与视觉设计师共创旗舰「VIP全息命理报告」，将多体系整合为单一逻辑。"},{date:"2024年第三季度",outcome:"数位平台正式上线，客户、案例与演算模块实现系统化整合；活跃客户突破 200 位，签下三项企业合作，从工作室迈向实务机构。"},{date:"2024年第四季度",outcome:"发布 Cross‑Validation V2 交叉验证体系；举办闭门研讨与双语报告，确立品牌核心：深度、精度、格局。"},{date:"2025年",outcome:"进入扩展阶段：强化数据化玄学引擎、培养新一代顾问、迈向国际化布局；在传承中塑造玄学的未来语言。"}]}}catch{}try{const r="Milestones & Achievements — Metaphysics Alliance (玄域联盟)";E.EN.about.story={title:r,timeline:[{date:"2023 Q4",title:"Foundation & Vision",body:"Metaphysics Alliance was founded at the close of 2023 with a clear purpose: to bring metaphysical science into the rhythm of modern decision‑making. What began as a one‑person pursuit of precision evolved into a collaborative vision — bridging traditional metaphysics with analytical frameworks and real‑world strategy."},{date:"2024 Q1",title:"Core Frameworks & Early Collaborations",body:"The team began developing a unified methodology combining BaZi, Zi Wei Dou Shu, Qi Men Dun Jia, and numerology under one verification system. Early consultations with clients across Malaysia and Singapore validated the model’s accuracy and practical value."},{date:"2024 Q2",title:"Formation of the Core Team",body:"A multidisciplinary team was established — blending metaphysics experts, data analysts, designers, and system developers. Together, they shaped the VIP Holistic Destiny Blueprint, the flagship service integrating multi‑system analysis into a single coherent report."},{date:"2024 Q3",title:"Digital Infrastructure & Growth",body:"The Alliance launched its first digital ecosystem: the Metaphysics Alliance Platform, connecting clients, case studies, and computational modules through a structured interface. By this quarter, the community surpassed 200 active clients and three corporate partnerships, marking its transition from practice to institution."},{date:"2024 Q4",title:"Refinement & Recognition",body:"Cross‑validation V2 was introduced — tightening accuracy and timing across all analytical layers. The team hosted closed‑door workshops and released bilingual reports, reinforcing its reputation for intellectual depth and clarity."},{date:"2025",title:"Expansion & Legacy Building",body:"Now entering a new phase, Metaphysics Alliance continues to refine its data‑driven metaphysics engine, train new consultants, and expand internationally — preserving the discipline’s wisdom while defining its future language."}]},E.EN.about.milestones={title:r,items:[{date:"2023 Q4",title:"Foundation & Vision",outcome:"Founded to align metaphysical science with modern decision‑making; a personal pursuit became a collaborative vision bridging tradition with analysis and real‑world strategy."},{date:"2024 Q1",title:"Core Frameworks & Early Collaborations",outcome:"Unified method combining BaZi, Zi Wei, Qi Men and numerology; early work in MY/SG validated accuracy and practical value."},{date:"2024 Q2",title:"Formation of the Core Team",outcome:"Built a multidisciplinary team and shaped the VIP Holistic Destiny Blueprint — a single, coherent report integrating multiple systems."},{date:"2024 Q3",title:"Digital Infrastructure & Growth",outcome:"Launched the Metaphysics Alliance Platform; passed 200 active clients and three corporate partnerships — from practice to institution."},{date:"2024 Q4",title:"Refinement & Recognition",outcome:"Released Cross‑validation V2; hosted closed‑door workshops and bilingual reports, deepening trust and clarity."},{date:"2025",title:"Expansion & Legacy Building",outcome:"Refining the data‑driven engine, training new consultants, expanding internationally while preserving wisdom and shaping a future language."}]}}catch{}try{const r=E?.EN?.about?.story?.timeline;Array.isArray(r)&&(r[4]&&(r[4].body=`We upgraded our cross-validation into a 2.0 system: multiple methods must agree, and when they diverge we write down the trade-offs and offer a safer path. "Why now" is checked against market pace and team capacity. Timing is precise—weeks and quarters—with prep steps and risk signals. It's decision support you can execute.`),r[5]&&(r[5].body="We crossed 500 clients and expanded B2B across three industries. The recipe stays the same: stable inputs, cross-validated signals, and aligning people and space to the calendar. Reports became roadmaps with owners, steps and measures. The proof is practical: fewer detours, better timing, and teams making moves in the right windows."))}catch{}try{const r=E?.EN?.about?.milestones?.items;if(Array.isArray(r)){for(const i of r)if(!(!i||typeof i!="object"))switch(i.date){case"2023-03":i.icon=i.icon||"FiFlag";break;case"2023-09":i.icon=i.icon||"FiUsers";break;case"2024-02":i.icon=i.icon||"FiGlobe";break;case"2024-06":i.icon=i.icon||"FiVideo";break;case"2024-10":i.icon=i.icon||"FiLayers";break;case"2025-03":i.icon=i.icon||"FiCheckCircle";break;default:break}}const e=E?.CN?.about?.milestones?.items;if(Array.isArray(e)){for(const i of e)if(!(!i||typeof i!="object"))switch(i.date){case"2023-03":i.icon=i.icon||"FiFlag";break;case"2023-09":i.icon=i.icon||"FiUsers";break;case"2024-02":i.icon=i.icon||"FiGlobe";break;case"2024-06":i.icon=i.icon||"FiVideo";break;case"2024-10":i.icon=i.icon||"FiLayers";break;case"2025-03":i.icon=i.icon||"FiCheckCircle";break;default:break}}}catch{}try{E.EN.about.founder={title:"Founder's Note",name_en:"Shaun Quan",name_cn:"宸麟老师",role:"Chief Chinese Metaphysician Analyst",paragraphs:["I founded Metaphysics Alliance (玄域联盟) with one purpose — to make metaphysics practical, measurable, and strategic. True metaphysics is not superstition; it is an ancient system of logic, rhythm, and timing that reveals how energy flows through people, events, and environments.","Every reading begins with True Solar Time (TST) and the Twenty‑Four Solar Terms, verified through official astronomical data. We cross‑validate each chart across multiple classical systems — BaZi, Zi Wei Dou Shu, Qi Men Dun Jia, Feng Shui, and numerology — ensuring every conclusion holds consistent structural logic. What was once hidden in complexity is now made actionable through clear frameworks and defined timing.","At Metaphysics Alliance, our mission is to transform metaphysical insight into practical strategy — for individuals seeking direction, and for businesses planning growth. We translate cycles, elements, and patterns into decision clarity, revealing the most efficient window for movement or restraint.","Our philosophy is simple: remove noise, preserve essence, and act with precision. Metaphysics, when applied correctly, is not fortune‑telling — it is strategic timing with scientific discipline, aligning the unseen patterns of destiny with the measurable pace of modern life."]},E.CN.about.founder={title:"创始人寄语",name_en:"Shaun Quan",name_cn:"宸麟老师",role:"首席中国玄学分析师",paragraphs:["我创立玄域联盟（Metaphysics Alliance），只为让玄学回归实用、可量化、可执行的本质。真正的玄学并非迷信，而是一套揭示能量流动、节奏与时机的古老逻辑体系。","每一次推演都以真太阳时与二十四节气为基准，并经由权威天文历法核对，再结合八字、紫微斗数、奇门遁甲、风水、数字学等多流派交叉验证，确保结构严谨、结果一致。我们将复杂的命理格局转化为清晰的行动逻辑与时机框架，让玄学从抽象走向落地。","玄域联盟的使命，是将玄学洞见转化为实战策略——无论是个人抉择，还是企业布局，都能在节奏与方向上更稳更准。我们以去噪、存真、精确行动为原则，让玄学不再是预测，而是掌握天时的战略科学，在快速变化的时代中，以理性与天机并行。","我们的准则很简单：去噪、存真、精确行动。正确运用的玄学并非算命，而是以科学纪律支撑的战略时机学，让命运之中的隐秘秩序，与现代生活的可测节奏协调一致。"]}}catch{}const at=E,fr=b.createContext(null);function Us({children:r}){const e=typeof window<"u"&&localStorage.getItem("lang")||"EN",[i,s]=b.useState(e==="CN"?"CN":"EN");b.useEffect(()=>{typeof window<"u"&&localStorage.setItem("lang",i),typeof document<"u"&&(document.documentElement.setAttribute("data-lang",i),document.body?.setAttribute("data-lang",i))},[i]);const a=b.useMemo(()=>({lang:i,setLang:s,t:n=>{const o=n.split(".");let c=at[i];for(const l of o)if(c&&l in c)c=c[l];else{let d=at.EN;for(const u of o)if(d&&u in d)d=d[u];else return n;return d}return c},tt:n=>at[i][n]??n,reviews:()=>at[i].reviews}),[i]);return t.jsx(fr.Provider,{value:a,children:r})}function W(){const r=b.useContext(fr);if(!r)throw new Error("useI18n must be used within I18nProvider");return r}const Bs=[{href:"https://www.facebook.com/MetaphysicsAlliance/",label:"Facebook",Icon:Os},{href:"https://www.instagram.com/metaphysics.alliance/",label:"Instagram",Icon:ji},{href:"https://www.tiktok.com/@metaphysicsalliance",label:"TikTok",Icon:gr},{href:"https://www.threads.com/@metaphysics.alliance?hl=en",label:"Threads",Icon:ji}];function Fs(){const{t:r,lang:e}=W(),i=e==="EN";return t.jsxs("footer",{className:"mt-20 pt-12 pb-10 border-t border-white/10 bg-black/20 backdrop-blur-xl",children:[t.jsxs("div",{className:"container py-10 grid md:grid-cols-3 gap-8",children:[t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:i?"Quick Links":"快捷导航"}),t.jsxs("ul",{className:"space-y-2 text-white/80 text-[0.95rem]",children:[t.jsx("li",{children:t.jsx(R,{to:"/",className:"hover:text-gold",children:r("nav.home")})}),t.jsx("li",{children:t.jsx(R,{to:"/academy/courses",className:"hover:text-gold",children:r("nav.academy")})}),t.jsx("li",{children:t.jsx(R,{to:"/pricing",className:"hover:text-gold",children:r("nav.pricing")})}),t.jsx("li",{children:t.jsx(R,{to:"/enterprise/audit",className:"hover:text-gold",children:r("nav.enterprise")})}),t.jsx("li",{children:t.jsx(R,{to:"/resources/four-pillars",className:"hover:text-gold",children:r("nav.resources")})}),t.jsx("li",{children:t.jsx(R,{to:"/about",className:"hover:text-gold",children:r("nav.about")})}),t.jsx("li",{children:t.jsx(R,{to:"/contact",className:"hover:text-gold",children:r("nav.contact")})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:i?"Legals":"法律条款"}),t.jsxs("ul",{className:"space-y-2 text-white/80 text-[0.95rem]",children:[t.jsx("li",{children:t.jsx(R,{to:"/legal/privacy",className:"hover:text-gold",children:i?"Privacy Policy":"隐私政策"})}),t.jsx("li",{children:t.jsx(R,{to:"/legal/terms",className:"hover:text-gold",children:i?"Terms of Service":"服务条款"})}),t.jsx("li",{children:t.jsx(R,{to:"/legal/cookies",className:"hover:text-gold",children:i?"Cookie Policy":"Cookie 政策"})}),t.jsx("li",{children:t.jsx(R,{to:"/disclaimer",className:"hover:text-gold",children:i?"Disclaimer":"免责声明"})}),t.jsx("li",{children:t.jsx(R,{to:"/refund",className:"hover:text-gold",children:i?"Refund Policy":"退款政策"})})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-lg font-semibold mb-3",children:i?"Follow us":"关注我们"}),t.jsx("div",{className:"mt-2 flex items-center justify-start gap-3 flex-wrap",children:Bs.map(({href:s,label:a,Icon:n})=>t.jsxs("a",{className:"inline-flex items-center gap-2 p-2 rounded-lg border border-white/10 hover:border-gold/40 transition",href:s,"aria-label":a,target:"_blank",rel:"noreferrer",children:[t.jsx(n,{className:"h-4 w-4"}),t.jsx("span",{className:"text-xs text-white/70",children:a})]},a))}),t.jsx("div",{className:"mt-5 flex justify-start",children:t.jsx(R,{to:"/","aria-label":i?"Back to Home":"返回首页",className:"inline-block",children:t.jsx("img",{src:"/logo.png",alt:"Metaphysics Alliance",className:"h-32 w-auto opacity-90 drop-shadow-lg transition hover:opacity-100"})})})]})]}),t.jsx("div",{className:"border-t border-white/10 mt-12",children:t.jsx("div",{className:"container py-8",children:t.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-3 text-xs md:text-sm text-white/65",children:[t.jsx("span",{children:"© 2025-2026 Metaphysics Alliance"}),t.jsx("span",{className:"hidden md:inline",children:"-"}),t.jsx("span",{className:"text-center md:text-left",children:"a brand of Brightwood Nexus. All rights reserved."})]})})})]})}function De(...r){return as(ns(r))}function $s(r,e){const i=s=>s;return[{label:r.home,href:i("/")},{label:r.celestial,children:[{label:"BaZi (Four Pillars)",href:i("/services/bazi")},{label:"Zi Wei Dou Shu",href:i("/services/ziwei")},{label:"Qi Men Dun Jia",href:i("/services/qimen")},{label:"I Ching Divination",href:i("/services/iching")},{label:"Feng Shui",href:i("/services/fengshui")}]},{label:r.oracles,children:[{label:r.celestial_numbers,href:i("/oracle/celestial-numbers")},{label:r.taiyi_numbers,href:i("/oracle/taiyi-numbers")},{label:r.six_ren,href:i("/oracle/six-ren")}]},{label:r.vip_report,href:i("/vip-report"),children:[{label:r.vip_essential,href:i("/vip-report/essential")},{label:r.vip_advanced,href:i("/vip-report/pro")},{label:r.vip_supreme,href:i("/vip-report/supreme")}]},{label:r.academy,children:[{label:r.courses,href:i("/academy/courses")},{label:r.foundation,href:i("/academy/foundation")},{label:r.beginner,href:i("/academy/beginner")},{label:r.advanced,href:i("/academy/intermediate")},{label:r.pro,href:i("/academy/professional")}]},{label:r.enterprise,children:[{label:r.audit,href:i("/enterprise/audit")},{label:r.site,href:i("/enterprise/site")},{label:r.cycles,href:i("/enterprise/cycles")}]},{label:r.resources,children:[{label:r.four_pillars,href:i("/resources/four-pillars")},{label:r.purple_star,href:i("/resources/purple-star")}]},{label:r.pricing,href:i("/pricing")},{label:r.about,href:i("/about")},{label:r.contact,href:i("/contact")}]}function Ws({href:r,children:e,className:i,onClick:s}){return t.jsx(R,{to:r,onClick:s,className:De("relative px-3 py-2 text-sm font-medium text-white/80 hover:text-gold transition-colors duration-200 rounded-full hover:bg-white/5",i),children:e})}function qs({item:r}){const[e,i]=b.useState(!1),s=b.useRef(null),a=()=>{s.current&&clearTimeout(s.current),i(!0)},n=()=>{s.current=setTimeout(()=>i(!1),150)};return t.jsxs("div",{className:"relative",onMouseEnter:a,onMouseLeave:n,children:[t.jsxs("button",{className:De("flex items-center gap-1 px-3 py-2 text-sm font-medium transition-colors duration-200 rounded-full hover:bg-white/5",e?"text-gold bg-white/5":"text-white/80 hover:text-gold"),children:[r.label,t.jsx(lr,{className:De("w-3.5 h-3.5 transition-transform duration-200",e&&"rotate-180")})]}),t.jsx(Ye,{children:e&&t.jsxs(Me.div,{initial:{opacity:0,y:10,scale:.95,filter:"blur(4px)"},animate:{opacity:1,y:0,scale:1,filter:"blur(0px)"},exit:{opacity:0,y:10,scale:.95,filter:"blur(4px)"},transition:{duration:.2,ease:"circOut"},className:"absolute top-full left-0 mt-2 w-64 p-2 rounded-2xl bg-cosmic-void/90 backdrop-blur-2xl border border-white/10 shadow-soft-xl z-50 overflow-hidden",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none"}),t.jsx("div",{className:"relative flex flex-col gap-1",children:r.children?.map((o,c)=>o.href?t.jsx(R,{to:o.href,className:"block px-3 py-2.5 rounded-xl hover:bg-white/10 text-sm text-white/90 hover:text-gold transition-all duration-200",children:o.label},c):t.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-white/40 uppercase tracking-wider mt-2 mb-1",children:o.label},c))})]})})]})}function Hs({item:r,onClick:e}){const[i,s]=b.useState(!1);return r.children&&r.children.length>0?t.jsxs("div",{className:"border-b border-white/5",children:[t.jsxs("button",{onClick:()=>s(!i),className:"flex items-center justify-between w-full py-4 text-lg font-medium text-white/90",children:[r.label,t.jsx(lr,{className:De("w-5 h-5 transition-transform",i&&"rotate-180")})]}),t.jsx(Ye,{children:i&&t.jsx(Me.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden bg-white/5 rounded-xl mb-3",children:t.jsx("div",{className:"flex flex-col p-2",children:r.children?.map((n,o)=>t.jsx(R,{to:n.href||"#",onClick:e,className:"block px-4 py-3 text-base text-white/70 hover:text-gold hover:bg-white/5 rounded-lg transition-colors",children:n.label},o))})})})]}):t.jsx(R,{to:r.href||"#",onClick:e,className:"block py-4 text-lg font-medium text-white/90 border-b border-white/5",children:r.label})}function zs(){const{t:r,lang:e,setLang:i}=W(),s=$s(r("nav")),[a,n]=b.useState(!1),[o,c]=b.useState(!1),l=_t(),{scrollY:d}=ts();is(d,"change",m=>{const h=m>50;h!==o&&c(h)}),b.useEffect(()=>{n(!1)},[l]);const u=()=>{i(e==="EN"?"CN":"EN")};return t.jsxs(t.Fragment,{children:[t.jsx(Me.header,{initial:{y:-100,opacity:0},animate:{y:20,opacity:1,width:o?"auto":"95%",maxWidth:"1280px",padding:o?"0.5rem 0.75rem":"0.75rem 1.5rem"},transition:{duration:.4,ease:[.16,1,.3,1]},className:De("fixed z-50 left-1/2 -translate-x-1/2 rounded-full border transition-all duration-300",o?"bg-cosmic-void/80 backdrop-blur-xl border-white/10 shadow-soft-xl":"bg-cosmic-void/40 backdrop-blur-md border-white/5 shadow-lg"),children:t.jsxs("div",{className:"flex items-center justify-between gap-4 md:gap-8",children:[t.jsxs(R,{to:"/",className:"flex items-center gap-3 group pl-2",children:[t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gold/20 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),t.jsx("img",{src:"/logo.png",alt:"Meta Alliance",className:"relative h-9 w-9 rounded-full ring-1 ring-white/20 group-hover:ring-gold/50 transition-all duration-300"})]}),t.jsxs("div",{className:De("text-sm font-medium uppercase tracking-[0.32em] text-white/90 group-hover:text-white transition-all duration-300 overflow-hidden whitespace-nowrap",o?"w-0 opacity-0 md:w-auto md:opacity-100":"w-auto opacity-100"),children:[t.jsx("span",{className:"block text-[0.65rem] text-gold-soft mb-[-2px]",children:"Meta"}),t.jsx("span",{className:"block font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-white/70 group-hover:from-gold group-hover:via-gold-soft group-hover:to-gold transition-all duration-500",children:"Alliance"})]})]}),t.jsx("nav",{className:"hidden lg:flex items-center gap-1",children:s.map((m,h)=>m.children?t.jsx(qs,{item:m},h):t.jsx(Ws,{href:m.href||"#",children:m.label},h))}),t.jsxs("div",{className:"flex items-center gap-2 pr-1",children:[t.jsx("button",{onClick:u,className:"hidden md:flex items-center gap-1 bg-white/5 rounded-full p-1 border border-white/10 px-3 py-1 text-xs font-medium text-white/80 hover:text-gold hover:bg-white/10 transition-all",children:e==="EN"?"中文":"EN"}),t.jsxs(R,{to:"/pricing/checkout",className:"relative p-2.5 rounded-full hover:bg-white/10 text-white/80 hover:text-gold transition-colors group",children:[t.jsx(rs,{className:"w-5 h-5"}),t.jsx("span",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-gold rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-[0_0_8px_rgba(212,175,55,0.8)]"})]}),t.jsx("button",{onClick:()=>n(!a),className:"lg:hidden p-2.5 rounded-full hover:bg-white/10 text-white/80 hover:text-gold transition-colors",children:a?t.jsx(bi,{className:"w-6 h-6"}):t.jsx(ss,{className:"w-6 h-6"})})]})]})}),t.jsx(Ye,{children:a&&t.jsx(Me.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 bg-cosmic-void/60 backdrop-blur-sm lg:hidden",onClick:()=>n(!1)})}),t.jsx(Ye,{children:a&&t.jsx(Me.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 bottom-0 z-50 w-full max-w-sm bg-cosmic-void border-l border-white/10 shadow-2xl lg:hidden overflow-y-auto",children:t.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gold tracking-widest uppercase",children:"Menu"}),t.jsx("button",{onClick:()=>n(!1),className:"p-2 rounded-full hover:bg-white/10 text-white/60 hover:text-white transition-colors",children:t.jsx(bi,{className:"w-6 h-6"})})]}),t.jsx("div",{className:"flex flex-col gap-1",children:s.map((m,h)=>t.jsx(Hs,{item:m,onClick:()=>n(!1)},h))}),t.jsx("div",{className:"mt-auto pt-6 border-t border-white/10",children:t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("span",{className:"text-sm text-white/60",children:"Language"}),t.jsx("button",{onClick:u,className:"px-4 py-2 text-sm font-medium rounded-lg border border-gold text-gold bg-gold/10 transition-colors",children:e==="EN"?"Switch to 中文":"Switch to English"})]})})]})})})]})}function Vs(){const r=b.useRef(null);return b.useEffect(()=>{const e=r.current;if(!e)return;const i=e.getContext("2d");let s,a=[];const n=()=>{e.width=window.innerWidth,e.height=window.innerHeight,o()},o=()=>{a=[];const d=Math.floor(e.width*e.height/3e3);for(let u=0;u<d;u++)a.push({x:Math.random()*e.width,y:Math.random()*e.height,radius:Math.random()*1.5,opacity:Math.random()*.8+.2,twinkleSpeed:Math.random()*.02+.005,twinklePhase:Math.random()*Math.PI*2})},c=d=>{i.clearRect(0,0,e.width,e.height),a.forEach(u=>{const m=Math.sin(d*u.twinkleSpeed+u.twinklePhase)*.3+.7,h=u.opacity*m,p=i.createRadialGradient(u.x,u.y,0,u.x,u.y,u.radius*2);p.addColorStop(0,`rgba(255, 215, 0, ${h})`),p.addColorStop(.5,`rgba(218, 165, 32, ${h*.6})`),p.addColorStop(1,"rgba(218, 165, 32, 0)"),i.beginPath(),i.arc(u.x,u.y,u.radius,0,Math.PI*2),i.fillStyle=p,i.fill()})},l=d=>{c(d),s=requestAnimationFrame(l)};return n(),window.addEventListener("resize",n),l(0),()=>{window.removeEventListener("resize",n),cancelAnimationFrame(s)}},[]),t.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-slate-950 to-black"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-radial from-yellow-900/10 via-transparent to-transparent"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-amber-950/20 via-transparent to-slate-900/30"}),t.jsx("canvas",{ref:r,className:"absolute inset-0 w-full h-full",style:{mixBlendMode:"screen"}}),t.jsx("div",{className:"absolute inset-0 opacity-[0.015]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' /%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' /%3E%3C/svg%3E")`}})]})}const Ks={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10}},Ys={type:"tween",ease:"easeInOut",duration:.4};function Gs({children:r}){const e=_t();return b.useEffect(()=>{const i=setTimeout(()=>{window.scrollTo({top:0,behavior:"instant"})},150);return()=>clearTimeout(i)},[e.pathname]),t.jsx(Me.div,{initial:"initial",animate:"animate",exit:"exit",variants:Ks,transition:Ys,className:"w-full",children:r},e.pathname)}function Js(){return t.jsxs("main",{className:"container py-24 text-center",children:[t.jsx("h1",{className:"title-gradient mb-4 text-4xl font-semibold pb-[10px]",children:"Page not found"}),t.jsx("p",{className:"text-white/70 mb-8",children:"The page you were looking for may have moved or is still under construction."}),t.jsx(R,{to:"/",className:"inline-flex items-center px-4 py-2 rounded-lg border border-gold/40 text-gold hover:bg-gold/15 transition",children:"Return home"})]})}const Qs="ma-pricing-cart",yr=b.createContext(void 0);function Zs({locale:r="EN",children:e}){const i=`${Qs}-${r}`,[s,a]=b.useState(()=>{if(typeof window>"u")return[];try{const h=window.localStorage.getItem(i);if(console.log(`📦 Initializing cart from localStorage [${i}]:`,h),!h)return[];const p=JSON.parse(h);if(Array.isArray(p)){const g=p.map(y=>Pt(y,r));return console.log(`✅ Initialized with ${g.length} items`),g}}catch(h){console.warn("Failed to initialize cart from storage:",h)}return[]});b.useEffect(()=>{if(!(typeof window>"u"))try{console.log(`💾 Saving cart to localStorage [${i}]:`,s.length,"items"),window.localStorage.setItem(i,JSON.stringify(s)),window.dispatchEvent(new Event("cart-updated"))}catch(h){console.warn("Failed to persist pricing cart to storage:",h)}},[s,i]);const n=b.useCallback(h=>{console.log("🛒 Adding to cart:",h),a(p=>{if(p.some(y=>y.id===h.id))return console.log("⚠️ Item already in cart:",h.id),p;const g=Pt(h,r);return console.log("✅ Item normalized:",g),[...p,g]})},[r]),o=b.useCallback(h=>{console.log("🗑️ Removing from cart:",h),a(p=>p.filter(g=>g.id!==h))},[]),c=b.useCallback(h=>{console.log("🔄 Toggling cart item:",h),a(p=>p.some(y=>y.id===h.id)?(console.log("➖ Removing item:",h.id),p.filter(y=>y.id!==h.id)):(console.log("➕ Adding item:",h.id),[...p,Pt(h,r)]))},[r]),l=b.useCallback(()=>{console.log("🧹 Clearing cart"),a([])},[]),d=b.useCallback(h=>s.some(p=>p.id===h),[s]),u=s.length,m=b.useMemo(()=>({items:s,cartCount:u,addItem:n,removeItem:o,toggleItem:c,clear:l,isInCart:d,setItems:a}),[s,u,n,o,c,l,d]);return t.jsx(yr.Provider,{value:m,children:e})}function Ue(){const r=b.useContext(yr);if(!r)throw new Error("usePricingCart must be used within a PricingCartProvider");return r}function ii(r){const e=new Map;return r.forEach(i=>{if(i.currency&&i.amount!=null){const s=e.get(i.currency)??0;e.set(i.currency,s+i.amount)}if(i.secondaryCurrency&&i.secondaryAmount!=null){const s=e.get(i.secondaryCurrency)??0;e.set(i.secondaryCurrency,s+i.secondaryAmount)}}),Array.from(e.entries()).map(([i,s])=>({currency:i,amount:s}))}function ri(r,e,i="EN"){const s=(r??"").toUpperCase(),a=i==="CN"?"zh-CN":"en-MY",n={RM:"MYR",MYR:"MYR",USD:"USD",SGD:"SGD",EUR:"EUR",GBP:"GBP"},o=s.replace(/[^A-Z]/g,"")||"MYR",c=n[s]??o;try{return new Intl.NumberFormat(a,{style:"currency",currency:c,maximumFractionDigits:e%1===0?0:2}).format(e)}catch{const l=e.toLocaleString(a,{minimumFractionDigits:e%1===0?0:2,maximumFractionDigits:2});return`${r} ${l}`.trim()}}function Pt(r,e){const i=ki(r?.price),s=ki(r?.priceSecondary);return{...r,locale:e,currency:r?.currency??i.currency??null,amount:r?.amount??i.amount??null,secondaryCurrency:r?.secondaryCurrency??s.currency??null,secondaryAmount:r?.secondaryAmount??s.amount??null}}function ki(r){if(!r)return{currency:null,amount:null};const e=String(r).trim();if(!e)return{currency:null,amount:null};const i=e.match(/^([A-Za-z\p{Sc}]{1,5})?\s*([\d.,]+)/u),s=i?.[1]?.trim()||null,a=i?.[2]?.replace(/,/g,""),n=a?Number.parseFloat(a):Number.NaN;let o=s;return o||(e.startsWith("RM")?o="RM":e.startsWith("USD")?o="USD":e.startsWith("MYR")&&(o="MYR")),{currency:o,amount:Number.isFinite(n)?n:null}}function Xs(r){return r?Array.isArray(r)?r.map(e=>{if(typeof e=="string")return{title:e};if(e&&typeof e=="object"){const{title:i,description:s,desc:a,src:n,thumbnail:o,script_en:c,script_cn:l}=e;return{title:typeof i=="string"?i:"Untitled",description:typeof s=="string"?s:typeof a=="string"?a:void 0,src:typeof n=="string"?n:void 0,thumbnail:typeof o=="string"?o:void 0,script_en:typeof c=="string"?c:void 0,script_cn:typeof l=="string"?l:void 0}}return{title:"Untitled"}}):[]:[]}function ea({items:r,locale:e="EN"}){const i=b.useMemo(()=>Xs(r),[r]),[s,a]=b.useState(null),[n,o]=b.useState(e==="CN"?"CN":"EN"),[c,l]=b.useState("video"),[d,u]=b.useState(0),[m,h]=b.useState(!1),p=b.useRef(null);function g(v){(v.key==="Escape"||v.key==="Enter"||v.key===" ")&&a(null)}const y=()=>{u(v=>(v+1)%i.length)},f=()=>{u(v=>(v-1+i.length)%i.length)};return b.useEffect(()=>(m||(p.current=setInterval(()=>{y()},5e3)),()=>{p.current&&clearInterval(p.current)}),[m,i.length]),t.jsxs("div",{className:"relative w-full aspect-video bg-black/20 overflow-hidden group",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[i.map((v,k)=>t.jsxs("div",{className:`absolute inset-0 w-full h-full transition-opacity duration-700 ease-out ${d===k?"opacity-100":"opacity-0"}`,children:[t.jsx("img",{src:v.thumbnail||"/images/video/placeholder.svg",alt:v.title,className:"w-full h-full object-cover"}),t.jsx("div",{className:"absolute inset-0 bg-black/30"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:t.jsx("button",{onClick:()=>{a(k),l(v.src?"video":"script")},className:"w-20 h-20 rounded-full bg-black/50 flex items-center justify-center text-white/80 hover:bg-black/70 transition-colors",children:t.jsx("svg",{className:"w-10 h-10",viewBox:"0 0 24 24",fill:"currentColor",children:t.jsx("path",{d:"M8 5v14l11-7z"})})})}),t.jsxs("div",{className:"absolute bottom-0 left-0 p-8 text-white",children:[t.jsx("h3",{className:"text-2xl font-semibold",children:v.title}),t.jsx("p",{className:"text-white/80",children:v.description})]})]},`${v.title}-${k}`)),t.jsx("button",{onClick:f,"aria-label":"Previous slide",className:"absolute left-3 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition rounded-xl bg-black/50 hover:bg-black/70 border border-white/15 p-2",children:t.jsx(cr,{className:"w-5 h-5"})}),t.jsx("button",{onClick:y,"aria-label":"Next slide",className:"absolute right-3 top-1/2 -translate-y-1/2 z-20 opacity-0 group-hover:opacity-100 transition rounded-xl bg-black/50 hover:bg-black/70 border border-white/15 p-2",children:t.jsx(dr,{className:"w-5 h-5"})}),s!==null?t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/70",role:"button",tabIndex:0,onClick:()=>a(null),onKeyDown:g}),t.jsxs("div",{className:"relative z-10 w-[min(880px,92vw)] max-h-[86vh] overflow-auto rounded-2xl border border-white/15 bg-black/90 p-5 shadow-2xl",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsx("h4",{className:"text-lg font-semibold text-white/95",children:i[s]?.title}),t.jsx("button",{onClick:()=>a(null),className:"rounded-md border border-white/15 px-2 py-1 text-xs text-white/70 hover:text-white",children:"Close"})]}),t.jsxs("div",{className:"mt-3 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between gap-3",children:[t.jsxs("div",{className:"inline-flex overflow-hidden rounded-lg border border-white/15 text-xs",children:[t.jsx("button",{className:`px-3 py-1.5 ${c==="video"?"bg-white/15 text-white":"text-white/70 hover:bg-white/10"}`,onClick:()=>l("video"),children:n==="CN"?"视频":"Video"}),t.jsx("button",{className:`px-3 py-1.5 ${c==="script"?"bg-white/15 text-white":"text-white/70 hover:bg-white/10"}`,onClick:()=>l("script"),children:n==="CN"?"脚本":"Script"})]}),t.jsxs("div",{className:"inline-flex overflow-hidden rounded-lg border border-white/15 text-xs",children:[t.jsx("button",{className:`px-3 py-1.5 ${n==="EN"?"bg-white/15 text-white":"text-white/70 hover:bg-white/10"}`,onClick:()=>o("EN"),children:"EN"}),t.jsx("button",{className:`px-3 py-1.5 ${n==="CN"?"bg-white/15 text-white":"text-white/70 hover:bg-white/10"}`,onClick:()=>o("CN"),children:"中文"})]})]}),c==="video"?i[s]?.src?t.jsx("video",{src:i[s]?.src,poster:i[s]?.thumbnail||"/images/video/placeholder.svg",controls:!0,autoPlay:!0,preload:"metadata",className:"h-auto w-full rounded-xl ring-1 ring-white/15"},`video-${s}`):t.jsx("div",{className:"rounded-xl border border-white/15 bg-black/40 p-4 text-sm text-white/70",children:n==="CN"?"暂无视频源，请稍后添加。":"No video source yet. Add a src to enable playback."}):t.jsx("p",{className:"whitespace-pre-wrap text-sm leading-relaxed text-white/80",children:n==="EN"?i[s]?.script_en||"Script not available.":i[s]?.script_cn||"暂无脚本。"})]})]})]}):null]})}function si(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(r)}function ge(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 5 19 12 12 19"},child:[]}]})(r)}function ta(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(r)}function Ge(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(r)}function wt(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(r)}function Si(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polygon",attr:{points:"16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"},child:[]}]})(r)}function ia(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(r)}function ra(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(r)}function sa(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(r)}function aa(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(r)}function _i(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"},child:[]},{tag:"line",attr:{x1:"4",y1:"22",x2:"4",y2:"15"},child:[]}]})(r)}function Ci(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(r)}function Ti(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"},child:[]},{tag:"polyline",attr:{points:"2 17 12 22 22 17"},child:[]},{tag:"polyline",attr:{points:"2 12 12 17 22 12"},child:[]}]})(r)}function Je(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(r)}function na(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function br(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(r)}function ai(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(r)}function ni(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"20",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"},child:[]}]})(r)}function oa(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12.01",y2:"18"},child:[]}]})(r)}function vr(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}function Ei(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(r)}function Ai(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"23 7 16 12 23 17 23 7"},child:[]},{tag:"rect",attr:{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"},child:[]}]})(r)}function la(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"},child:[]},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"},child:[]}]})(r)}function wr(r){return B({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(r)}function ca({title:r,subtitle:e,storyItems:i=[],milestoneItems:s=[],lang:a}){const n=b.useMemo(()=>{const o=Math.max(i?.length||0,s?.length||0),c=[];for(let l=0;l<o;l++){const d=(i||[])[l]||{},u=(s||[])[l]||{},m=u.date||d.date;m&&c.push({date:m,title:d.title||u.title,text:d.body||u.outcome||""})}return c},[i,s]);return t.jsxs("section",{className:"rounded-2xl border border-white/10 bg-black/25 p-0 overflow-hidden backdrop-blur-md min-h-[26rem]",children:[t.jsx("div",{className:"flex flex-wrap items-end justify-between gap-3 px-4 py-3",children:t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:r}),e?t.jsx("p",{className:"text-xs text-white/70",children:e}):null]})}),t.jsx(ua,{items:n,lang:a})]})}function da({header:r,body:e,onClose:i}){const s=b.useRef(null),a=b.useRef(0);return t.jsx("div",{className:"fixed inset-0 z-20 flex items-center justify-center bg-black/70 p-4",onClick:i,onTouchStart:n=>{s.current=n.touches[0].clientY,a.current=0},onTouchMove:n=>{s.current!=null&&(a.current=n.touches[0].clientY-s.current)},onTouchEnd:()=>{a.current>48&&i()},children:t.jsxs("div",{className:"w-full max-w-[92vw] rounded-xl border border-white/15 bg-black/90 p-4 text-white shadow-2xl",onClick:n=>n.stopPropagation(),children:[t.jsxs("div",{className:"flex items-start justify-between gap-3",children:[t.jsx("div",{className:"text-base font-semibold",children:r}),t.jsx("button",{className:"rounded-md bg-white/10 px-2 py-1 text-sm text-white hover:bg-white/20",onClick:i,children:"×"})]}),t.jsx("div",{className:"mt-2 max-h-[70vh] overflow-auto text-[14px] leading-relaxed text-white/85",children:e})]})})}function ua({items:r,lang:e}){if(!r||!r.length)return null;const i=b.useRef(null),[s,a]=b.useState(1200);b.useEffect(()=>{const j=()=>{const S=i.current?.clientWidth||window.innerWidth;a(Math.max(640,S))};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const{margin:n,rowHeight:o,minGap:c,baseY:l,curve:d}=b.useMemo(()=>s>=1600?{margin:200,rowHeight:220,minGap:400,baseY:120,curve:64}:s>=1280?{margin:180,rowHeight:200,minGap:360,baseY:110,curve:58}:s>=1024?{margin:160,rowHeight:180,minGap:320,baseY:100,curve:52}:s>=768?{margin:140,rowHeight:160,minGap:280,baseY:96,curve:48}:{margin:120,rowHeight:140,minGap:240,baseY:90,curve:44},[s]),u=b.useMemo(()=>{const j=Math.max(1,s-n*2),S=Math.floor(j/c)+1;return Math.max(2,Math.min(r.length,S))},[s,n,c,r.length]),m=Math.ceil(r.length/u),h=r.map((j,S)=>{const N=Math.floor(S/u),w=S%u,T=N%2===0,O=T?w:u-1-w,_=u>1?(s-n*2)/(u-1):0,$=n+O*_,q=l+N*o;return{x:$,y:q,r:N,dirLR:T}}),p=s,g=l+(m-1)*o+140,[y,f]=b.useState(null),[v,k]=b.useState(null),x=b.useRef(!1);b.useEffect(()=>{const j=()=>{k(null),x.current=!1};return window.addEventListener("popstate",j),()=>window.removeEventListener("popstate",j)},[]);const C=y!=null?r[y]:null,A=b.useMemo(()=>s>=1600?{date:22,title:20,dot:9}:s>=1280?{date:20,title:18,dot:8.5}:s>=1024?{date:18,title:16,dot:7.5}:s>=768?{date:16,title:14,dot:7}:{date:14,title:12,dot:6.5},[s]);return t.jsxs("div",{ref:i,className:"relative flex min-h-72 items-center justify-center overflow-x-auto",children:[s>=768&&y!=null?t.jsxs("div",{className:"pointer-events-none absolute z-30 max-w-[96vw] rounded-lg border border-white/15 bg-black/85 text-white shadow-2xl "+(s<480?"p-3":"p-5"),style:{width:Math.min(s-n*2-40,s<480?300:s<768?380:520),left:Math.min(Math.max(h[y].x,n+160),s-n-160),top:Math.min(Math.max(h[y].y,72),g-72),transform:"translate(-50%, -50%)"},children:[t.jsx("div",{className:"text-[15px] font-semibold text-white/90",children:C?.date}),t.jsx("div",{className:"text-[14px] font-medium text-white/80 mt-1",children:C?.title}),C?.text?t.jsx("div",{className:"mt-2 text-white/85",style:{fontSize:s<480?13:14,lineHeight:1.35,display:"-webkit-box",WebkitLineClamp:s<480?3:5,WebkitBoxOrient:"vertical",overflow:"hidden"},children:C.text}):null]}):null,s<768&&v!=null?t.jsx(da,{header:r[v]?t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"text-base font-semibold",children:r[v].date}),t.jsx("div",{className:"text-sm font-medium text-white/80",children:r[v].title})]}):null,body:r[v]?.text,onClose:()=>{x.current?history.back():k(null)}}):null,t.jsxs("svg",{viewBox:`0 0 ${p} ${g}`,className:"w-full block relative z-20 pointer-events-none",style:{height:s<480?"22rem":s<768?"24rem":"32rem"},children:[t.jsxs("defs",{children:[t.jsx("marker",{id:"arrow-gold",markerWidth:"6",markerHeight:"6",refX:"5.2",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:t.jsx("path",{d:"M0,0 L6,3 L0,6 Z",fill:"#d4af37"})}),t.jsxs("linearGradient",{id:"grad-line",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[t.jsx("stop",{offset:"0%",stopColor:"#fff3b0"}),t.jsx("stop",{offset:"50%",stopColor:"#d4af37"}),t.jsx("stop",{offset:"100%",stopColor:"#f3c969"})]}),t.jsxs("radialGradient",{id:"dot-grad",cx:"50%",cy:"50%",r:"50%",children:[t.jsx("stop",{offset:"0%",stopColor:"#fff9d6"}),t.jsx("stop",{offset:"60%",stopColor:"#ffd86b"}),t.jsx("stop",{offset:"100%",stopColor:"#d4af37"})]}),t.jsxs("filter",{id:"glow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[t.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),t.jsxs("feMerge",{children:[t.jsx("feMergeNode",{in:"coloredBlur"}),t.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),new Array(m).fill(0).map((j,S)=>t.jsx("line",{x1:n,y1:l+S*o,x2:s-n,y2:l+S*o,stroke:"url(#grad-line)",strokeWidth:"3.25",filter:"url(#glow)"},`row-${S}`)),h.map((j,S)=>{if(S===0)return null;const N=h[S-1],w=N.r===j.r,T=w?N.x+(j.x-N.x)*.35:N.x,O=w?N.x+(j.x-N.x)*.65:j.x,_=w?N.y+(N.dirLR?-d:d):N.y+d,$=w?j.y+(N.dirLR?-d:d):j.y-d,q=`M ${N.x} ${N.y} C ${T} ${_}, ${O} ${$}, ${j.x} ${j.y}`;return t.jsx("path",{d:q,fill:"none",stroke:"url(#grad-line)",strokeWidth:"3.25",markerEnd:"url(#arrow-gold)",opacity:"0.98",filter:"url(#glow)"},`seg-${S}`)}),r.map((j,S)=>{const N=h[S],w=Math.max(18,A.dot*5.5),T=10,O=s<640?40:42,_=A.date*.35,$=N.y-(w/2+T+O)-_;return t.jsx("g",{children:t.jsx("text",{x:N.x,y:$,textAnchor:"middle",fontSize:A.date,fill:"rgba(255,255,255,0.97)",style:{paintOrder:"stroke",stroke:"rgba(0,0,0,0.6)",strokeWidth:.35},children:j.date})},`lbl-${S}`)})]}),t.jsx("div",{className:"pointer-events-none absolute inset-0 z-10",children:r.map((j,S)=>{const N=h[S],w=(()=>{const O=(j.title||"").toLowerCase();if(/foundation|创立|愿景/.test(O))return _i;if(/core|框架|framework/.test(O))return Ti;if(/team|团队/.test(O))return Ei;if(/digital|平台|infrastructure|数位/.test(O))return Ci;if(/refine|优化|recognition|认可/.test(O))return Si;if(/video|workshop|报告|report/.test(O))return Ai;if(/time|时序|quarter|季度/.test(O))return wt;if(/expand|扩展|legacy|传承/.test(O))return Ge;const _=[_i,Si,wt,Ti,Ai,Ei,Ci,Ge];return _[S%_.length]})(),T=Math.max(18,A.dot*5.5);return t.jsx("button",{type:"button",className:"pointer-events-auto absolute -translate-x-1/2 -translate-y-1/2 rounded-full bg-black/20 p-0.5 backdrop-blur-sm ring-1 ring-white/10 hover:bg-black/30",style:{left:N.x,top:N.y},onMouseEnter:()=>f(S),onMouseLeave:()=>f(null),onClick:()=>{k(S),x.current||(history.pushState({milestone:S},""),x.current=!0)},children:t.jsx(w,{size:T,color:"#ffd86b",style:{filter:"drop-shadow(0 0 6px rgba(212,175,55,0.55))"}})},`ico-${S}`)})})]})}function F({title:r,subtitle:e=""}){const i={textShadow:"0 0 6px rgba(255,215,128,0.85), 0 0 14px rgba(17,31,78,0.65), 0 0 2px rgba(0,0,0,0.55)"},s=i,a={boxShadow:"0 0 16px rgba(14,30,88,0.65)"},n={boxShadow:"0 0 18px rgba(246,212,125,0.7)"},o={background:"linear-gradient(125deg, rgba(255,238,184,0.92) 0%, rgba(26,46,104,0.9) 100%)",boxShadow:"0 16px 36px rgba(10,18,56,0.55)",border:"1px solid rgba(240,198,102,0.6)",backdropFilter:"blur(20px)"};return t.jsx("div",{className:"container py-10 md:py-12",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("span",{className:"h-[2px] flex-1 bg-gradient-to-r from-transparent via-[#11205a] to-transparent brightness-125",style:a}),t.jsxs("div",{className:"text-center inline-block px-5 py-3 rounded-2xl",style:o,children:[t.jsx("h3",{className:"text-xl md:text-2xl font-semibold tracking-wide text-[#0b122f]",style:i,children:r}),e?t.jsx("p",{className:"text-xs md:text-sm mt-2 font-medium text-[#0b122f]",style:s,children:e}):null]}),t.jsx("span",{className:"h-[2px] flex-1 bg-gradient-to-r from-transparent via-[#f2d488] to-transparent",style:n})]})})}function ha(){const{lang:r}=W(),e=E?.[r]?.about||E?.EN?.about||{},i=e.hero||{},s=e.founder||{},a=e.philosophy||{},n=e.what||{},o=e.videos||{},c=e.story||{},l=e.milestones||{},d=e.team||{},u=e.faq||{};return t.jsxs("main",{className:"container mx-auto max-w-6xl space-y-12 px-4 py-10",children:[t.jsx(ma,{lang:r,title:i.title,description:i.description}),t.jsxs("header",{className:"relative w-screen ml-[calc(50%-50vw)] mr-[calc(50%-50vw)] -mt-8 -mb-8 min-h-[50vh] flex items-center text-center rounded-none border-0 p-8 md:p-12 overflow-hidden",children:[t.jsx("img",{src:"/page-banner.png",alt:"","aria-hidden":"true",className:"pointer-events-none absolute inset-0 h-full w-full object-cover",style:{opacity:.75}}),t.jsxs("div",{className:"relative z-10 mx-auto max-w-6xl",children:[i.sub?t.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:i.sub}):null,t.jsx("h1",{className:"title-gradient mt-3 text-3xl font-semibold md:text-5xl pb-[10px]",children:i.title||"About Metaphysics Alliance"}),i.description?t.jsx("p",{className:"mt-3 max-w-3xl text-white/70",children:i.description}):null,t.jsxs("div",{className:"mt-5 flex flex-wrap justify-center gap-3 text-sm",children:[t.jsx(R,{to:"/contact",className:"rounded-lg bg-gold px-4 py-2 font-medium text-black hover:bg-gold-soft",children:e.cta&&e.cta.label||(r==="CN"?"联系我们":"Contact Us")}),t.jsx(R,{to:"/services",className:"rounded-lg border border-white/15 px-4 py-2 font-medium text-white/85 transition hover:border-gold/40 hover:text-white",children:r==="CN"?"了解我们的服务":"Explore Our Services"})]})]})]}),t.jsx(F,{title:r==="CN"?"关于我们":"About Us",subtitle:i.sub||""}),t.jsxs("section",{className:"grid gap-6 rounded-2xl border border-white/10 bg-black/20 p-6 backdrop-blur-md md:grid-cols-[minmax(0,300px)_1fr] md:p-10",children:[t.jsxs("div",{className:"space-y-3",children:[t.jsx("img",{src:e?.founder&&e.founder.portrait||"/images/team/founder.png",alt:`${e?.founder?.name_en||"Founder"} portrait`,className:"w-full h-auto rounded-2xl object-contain object-center ring-1 ring-white/10"}),t.jsxs("div",{className:"text-white/85",children:[t.jsxs("div",{className:"text-lg font-semibold",children:[s.name_en||"Shaun Quan"," ",s.name_cn?` / ${s.name_cn}`:""]}),t.jsx("div",{className:"text-sm text-white/65",children:s.role||(r==="CN"?"首席中国玄学分析师":"Chief Chinese Metaphysician Analyst")})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-end justify-between gap-3",children:[t.jsx("h2",{className:"text-2xl font-semibold leading-none text-white md:text-3xl",children:s.title||(r==="CN"?"创始人寄语":"Founder's Note")}),t.jsx("img",{src:"/images/team/SQ-SIGN.png",alt:"Founder signature",className:"shrink-0 self-end w-20 opacity-90 sm:w-24 md:w-28 transform origin-bottom-right scale-[1.3] translate-y-[7px]"})]}),(s.paragraphs||[]).map((m,h)=>t.jsx("p",{className:"text-base leading-relaxed text-white/75",children:m},h))]})]}),t.jsx(F,{title:a.title||(r==="CN"?"我们的理念":"Our Philosophy"),subtitle:a.highlight||""}),t.jsxs("section",{className:"rounded-2xl border border-white/10 bg-black/25 p-6 backdrop-blur-md",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:a.title||(r==="CN"?"我们的理念":"Our Philosophy")}),a.highlight?t.jsx("p",{className:"mt-1 text-sm text-gold-soft/90",children:a.highlight}):null,t.jsx("div",{className:"mt-3 grid gap-3",children:(a.paragraphs||[]).map((m,h)=>t.jsx("p",{className:"text-sm text-white/70",children:m},h))})]}),t.jsx(F,{title:n.title||(r==="CN"?"我们的服务":"What We Do")}),t.jsxs("section",{className:"rounded-2xl border border-white/10 bg-black/25 p-6 backdrop-blur-md",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:n.title||(r==="CN"?"我们的服务":"What We Do")}),t.jsx("div",{className:"mt-4 grid gap-3 md:grid-cols-3",children:(n.items||[]).map((m,h)=>t.jsxs("article",{className:"rounded-lg border border-white/10 bg-black/30 p-4 backdrop-blur-md",children:[t.jsx("div",{className:"font-medium text-white/90",children:m.title}),m.description?t.jsx("p",{className:"mt-1 text-sm text-white/70",children:m.description}):null]},h))})]}),t.jsx(F,{title:o.title||(r==="CN"?"1 分钟团队介绍":"1‑Minute Intros")}),t.jsx(ea,{items:o.items,locale:r}),t.jsx(F,{title:l.title||c.title||(r==="CN"?"里程碑与成就":"Milestones & Achievements")}),t.jsx(ca,{title:l.title||c.title||(r==="CN"?"里程碑与成就—玄域联盟（Metaphysics Alliance）":"Milestones & Achievements — Metaphysics Alliance (玄域联盟)"),storyItems:c&&c.timeline||[],milestoneItems:l&&l.items||[],lang:r}),t.jsx(F,{title:d.title||(r==="CN"?"团队":"Our Team")}),t.jsxs("section",{className:"rounded-2xl border border-white/10 bg-black/25 p-6 backdrop-blur-md",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:d.title||(r==="CN"?"团队":"Our Team")}),t.jsx("div",{className:"mt-4 grid gap-5 md:grid-cols-3",children:(d.members||[]).map((m,h)=>t.jsxs("article",{className:"rounded-2xl border border-white/10 bg-black/30 p-5 backdrop-blur-md",children:[t.jsx("img",{src:m.portrait||"/images/team/placeholder.svg",alt:`${m.name_en} portrait`,className:"mb-3 w-full h-auto rounded-xl object-contain object-center ring-1 ring-white/10"}),t.jsxs("div",{className:"text-white/90 font-semibold",children:[m.name_en," ",m.name_cn?t.jsxs("span",{className:"text-white/70 font-normal",children:["/ ",m.name_cn]}):null]}),t.jsx("div",{className:"text-sm text-white/65",children:m.role}),t.jsx("div",{className:"mt-2 text-sm text-white/70",children:m.focus})]},h))})]}),Array.isArray(u.items)&&u.items.length?t.jsxs(t.Fragment,{children:[t.jsx(F,{title:u.title||(r==="CN"?"常见问题":"FAQ")}),t.jsxs("section",{className:"space-y-4",children:[t.jsx("h2",{className:"text-2xl font-semibold text-white md:text-3xl",children:u.title||(r==="CN"?"常见问题":"FAQ")}),t.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/25 backdrop-blur-md",children:u.items.map((m,h)=>t.jsxs("details",{className:"group border-b border-white/10 last:border-none",children:[t.jsxs("summary",{className:"flex cursor-pointer list-none items-center justify-between p-5 text-white/90 transition hover:bg-white/5",children:[t.jsx("span",{children:m.q}),t.jsx("span",{className:"text-white/50 transition group-open:rotate-180",children:"▾"})]}),t.jsx("div",{className:"px-5 pb-5 text-sm text-white/70",children:m.a})]},h))})]})]}):null,t.jsxs("section",{className:"rounded-2xl border border-white/10 bg-black/25 p-6 text-center backdrop-blur-md",children:[t.jsx("h3",{className:"text-xl font-semibold text-white",children:e.cta&&e.cta.title||(r==="CN"?"联系团队":"Get in touch")}),e?.cta?.message?t.jsx("p",{className:"mt-2 text-sm text-white/70",children:e.cta.message}):null,t.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[t.jsx(R,{to:"/contact",className:"rounded-lg bg-gold px-5 py-2.5 text-sm font-medium text-black hover:bg-gold-soft",children:e.cta&&e.cta.label||(r==="CN"?"联系我们":"Contact Us")}),t.jsx(R,{to:"/services",className:"rounded-lg border border-white/15 px-5 py-2.5 text-sm font-medium text-white/85 transition hover:border-gold/40 hover:text-white",children:r==="CN"?"了解我们的服务":"Explore Our Services"})]})]})]})}function ma({lang:r,title:e,description:i}){return b.useEffect(()=>{const s=`${e||(r==="CN"?"关于我们":"About Metaphysics Alliance")} | Metaphysics Alliance`;document.title=s;const a=(l,d)=>{if(!d)return;let u=document.querySelector(`meta[name="${l}"]`);u||(u=document.createElement("meta"),u.setAttribute("name",l),document.head.appendChild(u)),u.setAttribute("content",d)},n=(l,d)=>{if(!d)return;let u=document.querySelector(`meta[property="${l}"]`);u||(u=document.createElement("meta"),u.setAttribute("property",l),document.head.appendChild(u)),u.setAttribute("content",d)},o=(l,d)=>{let u=document.querySelector(`link[rel="${l}"]`);u||(u=document.createElement("link"),u.setAttribute("rel",l),document.head.appendChild(u)),u.setAttribute("href",d)},c=(i||"").slice(0,160);a("description",c),o("canonical",`/${r}/about`),n("og:title",e||"About"),n("og:description",c),n("og:image","/images/og-default.jpg")},[r,e,i]),null}function se({children:r,variant:e="primary",size:i="md",to:s,href:a,onClick:n,disabled:o=!1,icon:c,showArrow:l=!1,className:d="",...u}){const m={sm:"px-4 py-2 text-sm rounded-[12px]",md:"px-5 py-2 text-sm rounded-[14px]",lg:"px-6 py-3 text-base rounded-xl"},h={primary:"bg-black/85 text-[#f4deb4]",secondary:"bg-emerald-400/90 text-black shadow-[0_14px_34px_rgba(16,185,129,0.45)] hover:bg-emerald-300"},p=`
    group relative inline-flex items-center justify-center gap-2 
    overflow-hidden font-semibold transition-all duration-300
    disabled:opacity-50 disabled:cursor-not-allowed
    ${m[i]}
    ${h[e]}
    ${d}
  `.trim().replace(/\s+/g," "),g=t.jsxs(t.Fragment,{children:[e==="primary"&&!o&&t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-[#f8d884cc] via-[#f6e7b8aa] to-[#f8d884cc] opacity-0 blur-sm transition-opacity duration-300 group-hover:opacity-30"}),t.jsx("span",{className:"absolute inset-0 scale-[0.86] rounded-[12px] border border-[#f8d88433] transition duration-300 group-hover:scale-100 group-hover:border-[#f8d88480]"}),t.jsx("span",{className:"absolute inset-0 opacity-0 transition duration-300 group-hover:opacity-40",style:{boxShadow:"0 0 45px 10px rgba(248,216,132,0.32)"}})]}),t.jsxs("span",{className:`relative inline-flex items-center gap-2 ${e==="primary"&&!o?"tracking-[0.18em] text-[#f4deb4] group-hover:text-[#fff5dc]":""}`,children:[c,t.jsx("span",{className:"tracking-normal",children:r}),l&&t.jsx(ge,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]});return s&&!o?t.jsx(R,{to:s,className:p,...u,children:g}):a&&!o?t.jsx("a",{href:a,className:p,target:"_blank",rel:"noopener noreferrer",...u,children:g}):t.jsx("button",{type:"button",onClick:n,disabled:o,className:p,...u,children:g})}function Se({title:r,sub:e,description:i,actions:s,showDefaultCta:a=!0,ctaLabel:n,ctaHref:o="/contact"}){const{lang:c}=W(),l=n||(c==="CN"?"联系专业顾问":"Contact Our Professionals"),d=o||"/contact",u=[];return Array.isArray(s)?u.push(...s):s&&u.push(s),a&&u.push({label:l,href:d}),t.jsxs("header",{className:"relative w-screen ml-[calc(50%-50vw)] mr-[calc(50%-50vw)] -mt-8 -mb-8 min-h-[50vh] flex items-center text-center rounded-none border-0 p-8 md:p-12 overflow-hidden",children:[t.jsx("img",{src:"/page-banner.png",alt:"","aria-hidden":"true",className:"pointer-events-none absolute inset-0 h-full w-full object-cover",style:{opacity:.75}}),t.jsxs("div",{className:"relative z-10 mx-auto max-w-3xl",children:[e?t.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-white/60",children:e}):null,t.jsx("h1",{className:"title-gradient mt-3 text-3xl font-semibold md:text-5xl pb-[10px]",children:r}),i?t.jsx("p",{className:"mt-3 max-w-3xl text-white/70",children:i}):null,u.length?t.jsx("div",{className:"mt-5 flex flex-wrap justify-center gap-3 text-sm",children:u.map((m,h)=>t.jsx(se,{to:m.href,size:"lg",children:m.label},h))}):null]})]})}function nt({courseKey:r="academyFoundation"}){const{t:e}=W(),i=e(r)||{},s=i.hero||{},a=Array.isArray(i.sections)?i.sections:[],n=i.cta||null,o=xt(s.primaryHref||"/pricing"),c=xt(s.secondaryHref||"/academy/courses"),l=[s.primaryLabel&&o?{label:s.primaryLabel,href:o}:null,s.secondaryLabel&&c?{label:s.secondaryLabel,href:c}:null].filter(Boolean);return t.jsxs("main",{className:"space-y-16 pb-20",children:[t.jsx(Se,{title:s.title||"",sub:s.badge,description:s.subtitle,actions:l,showDefaultCta:!1}),a.map(d=>t.jsx(pa,{section:d},d?.key||d?.title||d?.dividerTitle)),n?t.jsx(ga,{cta:n}):null]})}function pa({section:r}){if(!r)return null;const e=Array.isArray(r.paragraphs)?r.paragraphs:[],i=Array.isArray(r.points)?r.points:[];return t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:r.dividerTitle||"",subtitle:r.dividerSubtitle||""}),t.jsx("div",{className:"container",children:t.jsxs("article",{className:"card-3d space-y-4 p-6 md:p-10",children:[r.title?t.jsx("h2",{className:"text-2xl font-semibold text-white md:text-3xl",children:r.title}):null,e.map((s,a)=>t.jsx("p",{className:"text-base leading-relaxed text-white/75",children:s},a)),i.length?t.jsx("ul",{className:"grid gap-2 text-base leading-relaxed text-white/75 md:gap-3",children:i.map((s,a)=>t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"mt-2 h-2 w-2 flex-shrink-0 rounded-full bg-gold-soft/80"}),t.jsx("span",{children:s})]},a))}):null]})})]})}function ga({cta:r}){const e=xt(r.primaryHref||"/pricing"),i=xt(r.secondaryHref||"/academy/courses");return t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:r.dividerTitle||"",subtitle:r.dividerSubtitle||""}),t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card-3d space-y-5 p-6 text-center md:p-10",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-white md:text-3xl",children:r.title}):null,r.message?t.jsx("p",{className:"text-white/75 md:text-lg",children:r.message}):null,t.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 sm:flex-row",children:[r.primaryLabel&&e?t.jsx(se,{to:e,size:"lg",children:r.primaryLabel}):null,r.secondaryLabel&&i?t.jsx(se,{to:i,size:"lg",className:"border border-gold/50 bg-transparent text-gold hover:bg-gold/10",children:r.secondaryLabel}):null]})]})})]})}function xt(r){return r?r.startsWith("#")||r.startsWith("http")||r.startsWith("/")?r:`/${r}`:null}const ze=[];function fa(){const{t:r}=W(),e=r("academyOverview")||{},i=r("academyFoundation")||{},s=Array.isArray(e.sections)?e.sections:ze,a=Array.isArray(i.faq)?i.faq:ze,n=s.find(c=>c.type==="text"),o=Array.isArray(n?.paragraphs)?n.paragraphs[0]:null;return b.useEffect(()=>{document.title=`${e.title||"Courses Overview"} | Metaphysics Alliance`},[e.title]),t.jsxs("main",{className:"space-y-14 pb-20",children:[t.jsx(Se,{title:e.title,sub:e.badge,description:o||e.subtitle}),t.jsxs("div",{className:"space-y-16",children:[s.map(c=>t.jsx(ba,{section:c},c.key??c.dividerTitle??c.title)),a.length?t.jsx(ya,{items:a,lang:e.lang}):null,e.cta?t.jsx(xa,{cta:e.cta}):null]})]})}function ya({items:r,lang:e}){const i=e==="EN";return t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:i?"Course FAQs":"课程常见问题",subtitle:i?"Answers before you enrol":"报名前的关键答疑"}),t.jsx("div",{className:"container grid gap-5 md:grid-cols-2",children:r.map((s,a)=>t.jsxs("details",{className:"rounded-2xl border border-white/10 bg-black/20 p-4 md:p-5 backdrop-blur transition open:bg-black/30",children:[t.jsxs("summary",{className:"flex cursor-pointer list-none items-start justify-between gap-3",children:[t.jsx("h4",{className:"text-base font-semibold text-white md:text-lg",children:s.question}),t.jsx("span",{className:"mt-0.5 min-w-[64px] rounded-md border border-white/15 px-2 text-center text-xs text-white/70",children:i?"Expand":"展开"})]}),t.jsx("div",{className:"mt-3 text-sm leading-relaxed text-white/80",children:s.answer})]},s.question+"-"+a))})]})}function ba({section:r}){const e=r.dividerTitle||r.title||"",i=r.dividerSubtitle||"";return t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:e,subtitle:i}),t.jsx("div",{className:"container",children:va(r)})]})}function va(r){const e=r.type||"text";if(e==="levels"){const s=Array.isArray(r.levels)?r.levels:ze;return t.jsxs("div",{className:"space-y-6",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-white",children:r.title}):null,r.intro?t.jsx("p",{className:"text-white/70 md:text-lg",children:r.intro}):null,t.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:s.map(a=>t.jsx(wa,{level:a},a.key??a.title))})]})}if(e==="bullets")return t.jsxs("article",{className:"card-3d space-y-4 p-6 md:p-10",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-white",children:r.title}):null,Array.isArray(r.points)&&r.points.length?t.jsx("ul",{className:"space-y-2 text-base leading-relaxed text-white/75",children:r.points.map((s,a)=>t.jsxs("li",{className:"flex gap-3",children:[t.jsx("span",{className:"mt-1 h-2 w-2 flex-shrink-0 rounded-full bg-gold-soft/80"}),t.jsx("span",{children:s})]},a))}):null]});if(e==="details")return t.jsxs("article",{className:"card-3d space-y-6 p-6 md:p-10",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-white",children:r.title}):null,r.body?t.jsx("p",{className:"text-white/70",children:r.body}):null,t.jsx("ul",{className:"divide-y divide-white/10 text-white/75",children:(r.details??ze).map((s,a)=>t.jsxs("li",{className:"flex flex-col justify-between gap-2 py-3 md:flex-row md:items-center",children:[t.jsx("span",{className:"text-sm font-semibold uppercase tracking-[0.18em] text-gold-soft",children:s.label}),t.jsx("span",{className:"text-base text-white/80",children:s.value})]},`${s.label??a}-${s.value??a}`))})]});const i=Array.isArray(r.paragraphs)?r.paragraphs:ze;return t.jsxs("article",{className:"card-3d space-y-4 p-6 md:p-10",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-white",children:r.title}):null,i.map((s,a)=>t.jsx("p",{className:"text-base leading-relaxed text-white/75",children:s},a))]})}function wa({level:r}){const e=ja(r.slug),i=r.anchor||void 0;return t.jsxs("article",{id:i,className:"card-3d flex flex-col justify-between space-y-4 p-6 md:p-8",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm text-white/60",children:[r.badge?t.jsx("span",{className:"font-semibold text-gold-soft",children:r.badge}):null,r.duration?t.jsx("span",{className:"rounded-full border border-white/20 px-3 py-1 text-xs uppercase tracking-[0.22em] text-white/70",children:r.duration}):null]}),r.title?t.jsx("h4",{className:"text-xl font-semibold text-white md:text-2xl",children:r.title}):null,r.body?t.jsx("p",{className:"text-white/75",children:r.body}):null]}),r.ctaLabel&&e?e.startsWith("#")?t.jsx(se,{href:e,size:"md",className:"border border-gold/50 bg-transparent text-gold hover:bg-gold/10",children:r.ctaLabel}):t.jsx(se,{to:e,size:"md",className:"border border-gold/50 bg-transparent text-gold hover:bg-gold/10",children:r.ctaLabel}):null]})}function xa({cta:r}){const e=Na(r.primaryHref);return t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:r.dividerTitle||"",subtitle:r.dividerSubtitle||""}),t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card-3d space-y-4 p-6 text-center md:p-10",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-white md:text-3xl",children:r.title}):null,r.message?t.jsx("p",{className:"text-white/75 md:text-lg",children:r.message}):null,r.primaryLabel&&e?e.startsWith("#")?t.jsx(se,{href:e,size:"lg",children:r.primaryLabel}):t.jsx(se,{to:e,size:"lg",children:r.primaryLabel}):null]})})]})}function ja(r){if(!r)return null;switch(r){case"foundation":return"/academy/foundation";case"beginner":return"/academy/beginner";case"advanced":return"/academy/intermediate";case"professional":return"/academy/professional";default:return"/academy/courses"}}function Na(r){return r?r.startsWith("#")||r.startsWith("http")||r.startsWith("/")?r:`/${r}`:"/pricing"}const ka="flex items-center justify-center rounded-xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-transparent text-white/60 text-sm uppercase tracking-wide",Sa=({section:r})=>t.jsxs("div",{className:"card-3d p-6 md:p-8 flex flex-col md:flex-row gap-6",children:[t.jsx("div",{className:"w-full md:w-1/3 aspect-video md:aspect-square",children:r.imageUrl?t.jsx("img",{src:r.imageUrl,alt:r.title||"Service Image",className:"w-full h-full object-cover rounded-xl"}):t.jsx("div",{className:`${ka} w-full h-full`,children:r.imageLabel||"Visual Preview"})}),t.jsxs("div",{className:"flex-1 space-y-4",children:[r.title?t.jsx("h3",{className:"text-2xl font-semibold text-gold",children:r.title}):null,r.body?t.jsx("p",{className:"text-white/75 leading-relaxed",children:r.body}):null,Array.isArray(r.points)&&r.points.length?t.jsx("ul",{className:"space-y-2 text-white/70 list-disc list-inside",children:r.points.map((e,i)=>t.jsx("li",{children:e},i))}):null]})]}),_a=({images:r=[]})=>t.jsx("div",{className:"container",children:t.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:r.map(e=>t.jsxs("figure",{className:"card-3d overflow-hidden rounded-xl",children:[t.jsx("img",{src:e.src,alt:e.alt||e.label||"Service visual",className:"h-full w-full object-cover"}),e.label||e.caption?t.jsx("figcaption",{className:"px-4 py-3 text-sm text-white/70",children:e.label||e.caption}):null]},e.src))})});function yt({serviceKey:r}){const{t:e,lang:i}=W();let s=null;if(r){const p=e(`services.${r}`);p&&typeof p=="object"&&(s=p)}if(!s)return null;const a=Array.isArray(s.sections)?s.sections:[],n=Array.isArray(s.gallery)?s.gallery:[],o=s.galleryDividerTitle,c=s.galleryDividerSubtitle,l=s.cta,d=(()=>{if(r==="taiyiNumbers")return i==="CN"?"开启太乙推策":"Start Tai Yi Computation";if(typeof l?.primaryLabel=="string"){if(l.primaryLabel.includes("｜")){const[p,g]=l.primaryLabel.split("｜");return(i==="CN"?g||p:p||g)?.trim?.()||l.primaryLabel}return l.primaryLabel}return i==="CN"?"立即预约":"Book now"})(),u=(()=>{if(!l?.secondaryLabel)return null;if(l.secondaryLabel.includes("｜")){const[p,g]=l.secondaryLabel.split("｜");return(i==="CN"?g||p:p||g)?.trim?.()||l.secondaryLabel}return l.secondaryLabel})(),m="/pricing",h=l?.secondaryHref||null;return t.jsxs("main",{className:"space-y-14 pb-20",children:[t.jsx(Ca,{lang:i,title:s.title,description:s.subtitle}),t.jsx(Se,{title:s.title,sub:s.badge,description:s.subtitle,showDefaultCta:!!d,ctaLabel:d,ctaHref:m}),t.jsxs("div",{className:"space-y-16",children:[a.map(p=>t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:p.dividerTitle,subtitle:p.dividerSubtitle}),t.jsx("div",{className:"container",children:t.jsx(Sa,{section:p})})]},p.key??p.title)),n.length?t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:o,subtitle:c}),t.jsx(_a,{images:n})]}):null,l?t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:l.dividerTitle,subtitle:l.dividerSubtitle}),t.jsx("div",{className:"container",children:t.jsxs("div",{className:"card-3d p-6 md:p-8 text-center space-y-4",children:[l.title?t.jsx("h3",{className:"text-2xl font-semibold text-gold",children:l.title}):null,l.message?t.jsx("p",{className:"text-white/75 md:text-lg leading-relaxed",children:l.message}):null,t.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3 mt-4",children:[t.jsx(se,{to:m,size:"lg",children:d}),h&&u?t.jsx(se,{to:h,size:"lg",className:"border border-gold/50 bg-transparent text-gold hover:bg-gold/10",children:u}):null]})]})})]}):null]})]})}function Ca({lang:r,title:e,description:i}){return b.useEffect(()=>{const s=window.location.pathname;document.title=`${e||"Service"} | Metaphysics Alliance`;const a=(u,m)=>{if(!m)return;let h=document.querySelector(`meta[name="${u}"]`);h||(h=document.createElement("meta"),h.setAttribute("name",u),document.head.appendChild(h)),h.setAttribute("content",m)},n=(u,m)=>{if(!m)return;let h=document.querySelector(`meta[property="${u}"]`);h||(h=document.createElement("meta"),h.setAttribute("property",u),document.head.appendChild(h)),h.setAttribute("content",m)},o=(u,m)=>{let h=document.querySelector(`link[rel="${u}"]`);h||(h=document.createElement("link"),h.setAttribute("rel",u),document.head.appendChild(h)),h.setAttribute("href",m)},c=(i||"").slice(0,160);a("description",c),o("canonical",s),n("og:title",e),n("og:description",c),n("og:image","/images/og-default.jpg");const l={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:r,item:`/${r}`},{"@type":"ListItem",position:2,name:"Services",item:`/${r}/services`},{"@type":"ListItem",position:3,name:e,item:s}]},d=document.createElement("script");return d.type="application/ld+json",d.text=JSON.stringify(l),document.head.appendChild(d),()=>{document.head.removeChild(d)}},[r,e,i]),null}function Wt({policyKey:r}){const{t:e}=W(),i=e(`legal.${r}`),{title:s,intro:a,sections:n=[],cta:o}=i||{};return t.jsx("main",{className:"container py-16",children:t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsx(Se,{title:s,description:a}),t.jsx("div",{className:"space-y-10",children:n.map((c,l)=>t.jsxs("section",{className:"bg-black/20 border border-white/10 rounded-2xl p-6 backdrop-blur-md",children:[c.heading?t.jsx("h2",{className:"text-xl font-semibold text-white mb-3",children:c.heading}):null,c.body?t.jsx("p",{className:"text-white/75 leading-relaxed",children:c.body}):null,Array.isArray(c.bullets)&&c.bullets.length?t.jsx("ul",{className:"mt-4 space-y-2 text-white/75 list-disc list-inside",children:c.bullets.map((d,u)=>t.jsx("li",{children:d},u))}):null]},l))}),o?t.jsxs("div",{className:"mt-12 text-center",children:[t.jsx("p",{className:"text-white/70 mb-4",children:o.body}),t.jsx(R,{className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg border border-gold/40 text-gold hover:bg-gold/15 transition",to:o.href,children:o.label})]}):null]})})}function Ta({title:r,description:e}){return t.jsxs("article",{className:"rounded-2xl border border-white/10 bg-white/[0.06] p-6 shadow-soft-xl backdrop-blur",children:[r?t.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.28em] text-gold",children:r}):null,e?t.jsx("p",{className:"mt-3 text-sm leading-relaxed text-white/70",dangerouslySetInnerHTML:{__html:e}}):null]})}function Ea({title:r,description:e,legal:i,bullets:s}){return t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-5",children:[r?t.jsx("h3",{className:"text-base font-semibold text-white",children:r}):null,e?t.jsx("p",{className:"mt-2 text-sm leading-relaxed text-white/70",dangerouslySetInnerHTML:{__html:e}}):null,Array.isArray(s)&&s.length?t.jsx("ul",{className:"mt-3 space-y-2 text-sm text-white/65 list-disc list-inside",children:s.map((a,n)=>t.jsx("li",{dangerouslySetInnerHTML:{__html:a}},n))}):null,i?t.jsx("p",{className:"mt-3 text-xs uppercase tracking-[0.2em] text-white/45",children:i}):null]})}function Aa({title:r,points:e}){return t.jsxs("div",{className:"space-y-3",children:[r?t.jsx("h3",{className:"text-base font-semibold text-white",children:r}):null,Array.isArray(e)&&e.length?t.jsx("ul",{className:"space-y-2 text-sm leading-relaxed text-white/70 list-disc list-inside",children:e.map((i,s)=>t.jsx("li",{dangerouslySetInnerHTML:{__html:i}},s))}):null]})}function We({policyKey:r}){const{lang:e}=W(),i=E?.[e]?.legal?.[r];if(!i)return t.jsxs("main",{className:"container py-16 text-white/75",children:[t.jsx("h1",{className:"title-gradient text-3xl font-semibold mb-4 pb-[10px]",children:e==="CN"?"未找到政策":"Policy Not Found"}),t.jsx("p",{children:e==="CN"?"请求的政策暂时不可用。":"The requested policy is not available."})]});const s=Array.isArray(i.summary)?i.summary:[],a=Array.isArray(i.sections)?i.sections:[],n=Array.isArray(i.paragraphs)?i.paragraphs:[],o=i.contact??null,c=e==="CN";return t.jsxs("main",{className:"space-y-12 md:space-y-16 pb-16",children:[t.jsx(Se,{title:i.title,description:i.intro}),s.length?t.jsx("section",{className:"container -mt-12",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:s.map((l,d)=>t.jsx(Ta,{...l},d))})}):null,t.jsxs("section",{className:"container space-y-12 text-white/75",children:[i.last_updated?t.jsxs("p",{className:"text-sm text-white/50",children:[c?"最后更新：":"Last Updated: ",i.last_updated]}):null,a.length?a.map((l,d)=>t.jsxs("article",{className:"rounded-3xl border border-white/10 bg-white/[0.04] p-8 shadow-soft-xl backdrop-blur",children:[l.heading?t.jsx("h2",{className:"text-2xl font-semibold text-white",children:l.heading}):null,l.intro?t.jsx("p",{className:"mt-3 text-base leading-relaxed text-white/70",dangerouslySetInnerHTML:{__html:l.intro}}):null,Array.isArray(l.items)&&l.items.length?t.jsx("div",{className:"mt-6 grid gap-4 md:grid-cols-2",children:l.items.map((u,m)=>t.jsx(Ea,{...u},m))}):null,Array.isArray(l.columns)&&l.columns.length?t.jsx("div",{className:"mt-6 grid gap-6 md:grid-cols-2",children:l.columns.map((u,m)=>t.jsx(Aa,{...u},m))}):null,Array.isArray(l.bullets)&&l.bullets.length?t.jsx("ul",{className:"mt-6 space-y-2 text-base leading-relaxed text-white/70 list-disc list-inside",children:l.bullets.map((u,m)=>t.jsx("li",{dangerouslySetInnerHTML:{__html:u}},m))}):null,l.note?t.jsx("p",{className:"mt-6 rounded-2xl border border-gold/30 bg-gold/10 p-4 text-sm leading-relaxed text-gold",dangerouslySetInnerHTML:{__html:l.note}}):null]},d)):null,!a.length&&n.length?n.map((l,d)=>t.jsx("p",{dangerouslySetInnerHTML:{__html:l}},d)):null,o||i.downloadUrl?t.jsxs("div",{className:"rounded-3xl border border-white/15 bg-black/40 p-8 backdrop-blur space-y-6",children:[o?t.jsxs(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-semibold text-white",children:c?"联系支持团队":"Contact Our Support Team"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{className:"space-y-2 text-sm text-white/70",children:[o.name?t.jsx("p",{className:"font-semibold text-white",children:o.name}):null,o.email?t.jsxs("p",{children:[t.jsx("span",{className:"text-white/50",children:c?"电子邮箱：":"Email: "}),t.jsx("a",{className:"text-gold hover:underline",href:`mailto:${o.email}`,children:o.email})]}):null,o.phone?t.jsxs("p",{children:[t.jsx("span",{className:"text-white/50",children:c?"电话：":"Phone: "}),t.jsx("a",{className:"text-gold hover:underline",href:`tel:${o.phone}`,children:o.phone})]}):null,o.hours?t.jsxs("p",{children:[t.jsx("span",{className:"text-white/50",children:c?"回复时间：":"Response window: "}),o.hours]}):null]}),o.address?t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-4 text-sm leading-relaxed text-white/70",children:[t.jsx("p",{className:"text-white/60",children:c?"邮寄地址":"Postal address"}),t.jsx("p",{className:"mt-2 whitespace-pre-line",children:o.address})]}):null]})]}):null,i.downloadUrl?t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-t border-white/10 pt-4",children:[t.jsx("p",{className:"text-sm text-white/60",children:c?"需要离线版本？点击即可下载 PDF，以便备份或分享给团队。":"Need an offline copy? Download the PDF for easy sharing and archival."}),t.jsx("a",{href:i.downloadUrl,download:!0,className:"inline-flex items-center gap-2 rounded-lg bg-gold px-4 py-2 text-sm font-semibold text-black transition hover:bg-gold-soft",children:c?"下载 PDF 版本":"Download PDF Version"})]}):null]}):null]})]})}function Pa({src:r,alt:e="",className:i="",imgClassName:s="",maxHeight:a=780,ring:n=!0}){const[o,c]=b.useState(56.25);function l(d){const u=d?.target?.naturalWidth||1,m=d?.target?.naturalHeight||1;c(m/u*100)}return t.jsxs("div",{className:["relative w-full mx-auto overflow-hidden bg-black/15 backdrop-blur-md rounded-xl",n?"ring-1 ring-white/10":"",a?"max-h-[var(--maxh)]":"",i].join(" "),style:{"--maxh":`${a}px`},children:[t.jsx("div",{style:{paddingBottom:`${o}%`}}),t.jsx("img",{src:r,alt:e,onLoad:l,className:["absolute inset-0 w-full h-full object-contain",s].join(" "),loading:"lazy"})]})}function La(){const{tt:r,lang:e}=W();return t.jsx("section",{id:"who-we-are",className:"container py-12",children:t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/20 bg-gradient-to-br from-black/40 via-slate-950/60 to-black/40 backdrop-blur-xl shadow-2xl",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/5 via-transparent to-amber-600/5 pointer-events-none"}),t.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-gradient-radial from-gold/10 via-transparent to-transparent blur-3xl pointer-events-none"}),t.jsxs("div",{className:"relative grid md:grid-cols-2 gap-8 items-center p-8 md:p-12",children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-yellow-500/20 to-amber-600/20 border border-yellow-500/30 backdrop-blur-sm",children:[t.jsx(ti,{className:"w-4 h-4 text-gold"}),t.jsx("span",{className:"text-xs font-semibold tracking-wider uppercase text-gold",children:e==="EN"?"About Meta Alliance":"关于玄域联盟"})]}),t.jsx("h2",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-yellow-200 via-gold to-amber-400 bg-clip-text text-transparent leading-tight",children:r("who_title")}),t.jsx("p",{className:"text-white/90 leading-relaxed text-base md:text-lg",children:r("who_long")}),t.jsx(se,{to:"/about",size:"lg",showArrow:!0,children:e==="EN"?"Learn More About Us":"了解更多"})]}),t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gold/20 to-amber-600/20 rounded-2xl blur-2xl"}),t.jsx("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 shadow-2xl",children:t.jsx(Pa,{src:"/assets/home/who.jpg",alt:"Who we are",maxHeight:820})})]})]})]})})}const Ia={ShieldCheck:us,Sparkles:ti,Compass:ds,Clock:cs,LineChart:ls,Layers:os};function Ra(){const{t:r,lang:e}=W(),i=(l,d=null)=>{try{const u=r(l);return u===l||u==null?d:u}catch{return d}},s=i("why.title",e==="CN"?"为什么选择我们？":"Why Choose Us?"),a=i("why.subtitle",e==="CN"?"严谨且实战——以经典玄学打造可执行的策略。":"Rigorous and practical - classical metaphysics turned into execution."),n=[{icon:"ShieldCheck",titleEN:"Evidence-Driven Methods",titleCN:"证据驱动的方法",descEN:"Classical lineages cross-checked with modern audit trails. No fluff-only reproducible logic.",descCN:"经典传承与现代审计交叉验证，杜绝空泛结论，确保可复现逻辑。"},{icon:"Layers",titleEN:"Multi-System Cross-Validation",titleCN:"多体系交叉验证",descEN:"BaZi, Zi Wei, Qi Men, Numerology, and Feng Shui aligned for consistency before advising.",descCN:"八字、紫微、奇门、数术与风水多维校准，确保建议前后一致。"},{icon:"LineChart",titleEN:"Timing & Trend Windows",titleCN:"时序与趋势窗口",descEN:"Clear phases to act, pause, and hedge-mapped to your practical calendar.",descCN:"明确行动、缓冲与对冲的节点，与实际日程精确对齐。"},{icon:"Compass",titleEN:"Actionable Strategy",titleCN:"可执行策略",descEN:"From insight to steps: prioritized plays you can execute tomorrow morning.",descCN:"从洞察到行动清单——优先级分明的执行路径。"},{icon:"Clock",titleEN:"True Solar Time Discipline",titleCN:"真太阳时校准",descEN:"Charts corrected by True Solar Time and the 24 Solar Terms for precision.",descCN:"以真太阳时与二十四节气校准，确保推算精度。"},{icon:"Sparkles",titleEN:"Life GPS",titleCN:"人生GPS",descEN:"Life GPS moves beyond destiny charts, guiding the very next coordinate with clarity.",descCN:"人生GPS不仅是命盘，更是下一步坐标的清晰指引。"}],o=i("why.items",null),c=Array.isArray(o)&&o.length?o:n;return t.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-10",children:[t.jsx("h3",{className:"text-3xl md:text-4xl font-bold bg-gradient-to-r from-yellow-200 via-gold to-amber-400 bg-clip-text text-transparent",children:s}),t.jsx("p",{className:"mt-3 text-white/80 text-lg max-w-2xl mx-auto",children:a})]}),t.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:c.map((l,d)=>{const u=l.icon||"Sparkles",m=Ia[u]||ti,h=e==="CN"?l.titleCN||l.titleEN:l.titleEN||l.titleCN,p=e==="CN"?l.descCN||l.descEN:l.descEN||l.descCN;return t.jsxs("article",{className:"group relative overflow-hidden rounded-2xl p-6 bg-gradient-to-br from-black/60 via-slate-950/70 to-black/60 border border-white/20 shadow-xl hover:shadow-2xl hover:shadow-gold/20 backdrop-blur-md transition-all duration-300 hover:-translate-y-1",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-yellow-500/0 via-transparent to-amber-600/0 group-hover:from-yellow-500/10 group-hover:to-amber-600/10 transition-all duration-300 pointer-events-none"}),t.jsxs("div",{className:"relative",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"rounded-xl bg-gradient-to-br from-yellow-500/20 to-amber-600/20 border border-yellow-500/40 p-3 group-hover:border-gold group-hover:shadow-lg group-hover:shadow-gold/50 transition-all duration-300",children:t.jsx(m,{size:24,className:"text-gold"})}),t.jsx("h4",{className:"text-lg font-bold text-white",children:h})]}),t.jsx("p",{className:"text-white/80 leading-relaxed text-sm",children:p})]})]},d)})})]})}function Ma(){return t.jsxs("section",{className:"relative container space-y-12 md:space-y-16 py-8",children:[t.jsx(La,{}),t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/20 bg-gradient-to-br from-black/40 via-slate-950/60 to-black/40 backdrop-blur-xl shadow-2xl p-8 md:p-12",children:[t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 via-transparent to-yellow-600/5 pointer-events-none"}),t.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-gradient-radial from-gold/10 via-transparent to-transparent blur-3xl pointer-events-none"}),t.jsx("div",{className:"relative",children:t.jsx(Ra,{})})]})]})}const Oa=[{enQ:"What is Bazi Astrology?",cnQ:"什么是八字命理？",enA:"Bazi Astrology is a traditional Chinese astrology using birth date and time to analyze personal destiny.",cnA:"八字命理是一种通过出生日期和时间分析个人命运的传统中国占星术。"},{enQ:"What metaphysics services do you provide?",cnQ:"您提供哪些玄学服务？",enA:"We offer expert consultation in Bazi, Zi Wei, Qimen, Feng Shui Layout, and more.",cnA:"我们提供八字、紫微斗数、奇门遁甲、风水布局等专业咨询服务。"},{enQ:"How are the courses structured?",cnQ:"课程如何安排？",enA:"Courses are structured into Entry, Intermediate, and Professional levels for learners at various stages.",cnA:"课程分为入门、中级和专业三级，适合不同学习阶段的学员。"},{enQ:"How do I book a consultation?",cnQ:"如何预约咨询服务？",enA:"You can book a consultation via our website booking system or the embedded Calendly widget by selecting a suitable time.",cnA:"您可以通过我们网站的预约系统或Calendly小部件选择合适的时间进行预约。"},{enQ:"Can I cancel or reschedule my booking?",cnQ:"预约后可以取消或更改时间吗？",enA:"Yes, please notify us at least 24 hours in advance via the website or customer service to change or cancel your appointment.",cnA:"是的，请至少提前24小时通过网站或联系我们客服更改或取消预约。"},{enQ:"What payment methods are supported for bookings?",cnQ:"预约咨询服务支持哪些支付方式？",enA:"We support multiple payment methods including Stripe, PayPal, FPX, TNG, and Bank QR payments.",cnA:"我们支持多种支付方式，包括Stripe、PayPal、FPX、TNG和银行二维码支付。"},{enQ:"What are Metaphysics Alliance’s business hours?",cnQ:"玄域联盟的营业时间是？",enA:"Our office hours are Monday to Friday, 9 AM to 6 PM.",cnA:"我们的办公时间是周一到周五，上午9点至下午6点。"},{enQ:"Does the website support bilingual toggling?",cnQ:"网站是否支持双语切换？",enA:"Yes, the website supports toggling between Chinese and English.",cnA:"是的，网站提供中文和英文双语切换功能。"},{enQ:"How can I contact Metaphysics Alliance?",cnQ:"如何联系玄域联盟？",enA:"You can reach us via the website contact form, WhatsApp, or phone.",cnA:"您可以通过网站的联系表单、WhatsApp或电话与我们取得联系。"}];function xr({items:r}){const{lang:e}=W(),i=e==="EN",s=Array.isArray(r)&&r.length?r:Oa.map(a=>({question:i?a.enQ:a.cnQ,answer:i?a.enA:a.cnA}));return t.jsx("section",{id:"faq",className:"container py-12",children:t.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.map((a,n)=>t.jsxs("details",{className:"group card-3d p-4 md:p-5",children:[t.jsxs("summary",{className:"cursor-pointer list-none flex items-start justify-between gap-3",children:[t.jsx("h4",{className:"font-semibold text-base md:text-lg",children:a.question}),t.jsx("span",{className:"shrink-0 mt-0.5 rounded-md border border-white/15 px-2 text-xs text-white/70 group-open:bg-white/10",children:i?"Expand":"展开"})]}),t.jsx("div",{className:"mt-3 text-sm text-white/80 leading-relaxed",children:a.answer})]},n))})})}const Da=[{src:"/assets/carousel/banner1.jpg",tKey:1,href:"/services/celestial/destiny-algorithm"},{src:"/assets/carousel/banner2.jpg",tKey:2,href:"/vip-report/essential"},{src:"/assets/carousel/banner3.jpg",tKey:3,href:"/enterprise/audit"},{src:"/assets/carousel/banner4.jpg",tKey:4,href:"/oracle/celestial-numbers"},{src:"/assets/carousel/banner5.jpg",tKey:5,href:"/services/fengshui/office-power-alignment"}],Ua=.89,Ba=.77,Fa="1rem",$a=6e3,Pi={EN:"Explore Our Services",CN:"了解我们的服务"};function Wa(){const{t:r,lang:e}=W(),[i,s]=b.useState(0),[a,n]=b.useState(9/21),[o,c]=b.useState(null),l=b.useRef(null),d=b.useRef(!1),u=b.useRef(null),m=b.useMemo(()=>{const j=(S,N="")=>{const w=r(S);return w===S?N:w};return Da.map(({src:S,tKey:N,href:w})=>({src:S,href:w,title:j(`hero.slide${N}_title`,""),sub:j(`hero.slide${N}_sub`,"")}))},[r]),h=m.length,p=b.useCallback(j=>{h&&s(S=>(S+j+h)%h)},[h]);b.useEffect(()=>{i>=h&&h>0&&s(0)},[i,h]);const g=b.useCallback(()=>{l.current&&(clearInterval(l.current),l.current=null)},[]);b.useEffect(()=>{if(h)return g(),l.current=setInterval(()=>{d.current||p(1)},$a),g},[p,g,h]);const y=b.useCallback(()=>{const j=u.current;if(!j)return;const N=j.offsetWidth*a,T=window.innerWidth>=768?Ua:Ba,O=window.innerHeight*T;c(Math.min(N,O))},[a]);b.useEffect(()=>{y();const j=()=>y();return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[y]),b.useEffect(()=>{y()},[i,a,y]);const f=b.useCallback(()=>{p(-1)},[p]),v=b.useCallback(()=>{p(1)},[p]),k=b.useMemo(()=>{const j=r("hero.badge");return j&&j!=="hero.badge"?j:"Metaphysics Alliance"},[r]),x=b.useMemo(()=>{const j=Pi[e]||Pi.EN,S=r("hero.cta");return S&&S!=="hero.cta"?S:j},[e,r]),C=h?m[i%h]:null,A=b.useMemo(()=>({backgroundColor:"#050818",backgroundImage:["radial-gradient(circle at 20% 22%, rgba(70,112,255,0.28), transparent 58%)","radial-gradient(circle at 76% 18%, rgba(255,214,140,0.32), transparent 54%)","radial-gradient(circle at 64% 82%, rgba(92,186,255,0.22), transparent 52%)","linear-gradient(135deg, rgba(5,9,25,0.96), rgba(11,16,42,0.88))"].join(", "),backgroundBlendMode:"screen, screen, screen, normal",boxShadow:"0 30px 80px rgba(4,8,24,0.55), inset 0 0 40px rgba(24,38,88,0.38)",backdropFilter:"blur(14px)"}),[]);return h?t.jsx("section",{className:"relative -mx-[calc((100vw-100%)/2)] select-none",style:{marginTop:`-${Fa}`},children:t.jsxs("div",{ref:u,className:"relative w-screen overflow-hidden bg-black/20 shadow-[0_28px_60px_rgba(7,12,32,0.45)] transition-all duration-500 ease-out",style:{height:o??"46vh"},onMouseEnter:()=>{d.current=!0},onMouseLeave:()=>{d.current=!1},children:[t.jsxs("div",{className:"pointer-events-none absolute inset-0 overflow-hidden",children:[t.jsx("img",{src:`${C.src}?v=233`,alt:"",className:"h-full w-full scale-[1.4] object-cover blur-[60px] brightness-[0.72]",loading:"eager",decoding:"async"}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/82 via-black/55 to-black/20"})]}),t.jsxs("div",{className:"relative z-10 flex h-full w-full flex-col-reverse items-stretch md:flex-row md:items-stretch",children:[t.jsx("div",{className:"flex h-full w-full flex-1 md:w-1/2",children:t.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center gap-4 px-6 py-6 text-center md:px-8 md:py-7",style:A,children:[t.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.48em] text-[#d9bc7d]/75 md:text-xs",children:k}),t.jsx("h1",{className:"text-2xl font-semibold leading-tight text-white drop-shadow-[0_0_26px_rgba(255,214,138,0.45)] md:text-[3.1rem] md:leading-[1.14]",children:C.title}),t.jsx("p",{className:"max-w-3xl text-sm font-medium text-[#ecedf5]/85 md:text-lg md:leading-relaxed",children:C.sub}),t.jsx("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-3",children:t.jsx(se,{to:"/services",size:"lg",className:"uppercase tracking-[0.28em] md:px-7 md:py-2.5",children:x})})]})}),t.jsx("div",{className:"flex h-full w-full flex-1 md:w-1/2",children:t.jsx("div",{className:"relative h-full w-full overflow-hidden border border-white/10 bg-black/35 shadow-[0_24px_60px_rgba(7,12,32,0.55)]",children:m.map((j,S)=>{const N=((S-i)%h+h)%h;let w="translateX(100%)";N===0?w="translateX(0%)":N===h-1&&(w="translateX(-100%)");const T=N===0||N===h-1;return t.jsxs("div",{className:"absolute inset-0 transition-transform duration-[850ms] ease-out",style:{transform:w,zIndex:N===0?30:N===h-1?20:10},children:[t.jsx("img",{src:`${j.src}?v=233`,alt:"",className:`h-full w-full object-cover transition-opacity duration-[850ms] ease-out ${T?"opacity-100":"opacity-0"}`,onLoad:O=>{if(N===0){const _=O.currentTarget;_.naturalWidth&&_.naturalHeight&&n(_.naturalHeight/_.naturalWidth)}}}),t.jsx("div",{className:`pointer-events-none absolute inset-0 bg-gradient-to-bl from-black/10 via-black/0 to-black/35 transition-opacity duration-[850ms] ease-out ${T?"opacity-100":"opacity-0"}`})]},j.src)})})})]}),t.jsx("button",{type:"button",onClick:f,className:"group absolute left-5 top-1/2 z-20 flex h-12 w-12 -translate-y-1/2 items-center justify-center rounded-full border border-white/20 bg-black/55 text-white transition hover:border-gold/80 hover:text-gold focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/70 md:left-7","aria-label":"Previous slide",children:t.jsx(cr,{className:"h-5 w-5 transition-transform duration-300 group-hover:-translate-x-1"})}),t.jsx("button",{type:"button",onClick:v,className:"group absolute right-5 top-1/2 z-20 flex h-12 w-12 -translate-y-1/2 items-center justify-center rounded-full border border-white/20 bg-black/55 text-white transition hover:border-gold/80 hover:text-gold focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/70 md:right-7","aria-label":"Next slide",children:t.jsx(dr,{className:"h-5 w-5 transition-transform duration-300 group-hover:translate-x-1"})}),t.jsx("div",{className:"pointer-events-none absolute bottom-8 left-1/2 z-20 flex -translate-x-1/2 gap-2",children:m.map((j,S)=>t.jsx("span",{className:`h-[5px] w-8 rounded-full transition-all duration-300 ${S===i?"bg-gold shadow-[0_0_18px_rgba(248,216,132,0.65)]":"bg-white/20"}`},`dot-${S}`))})]})}):null}function qa({lat:r=3.15494,lng:e=101.59737,zoom:i=17,ratio:s=9/21,lang:a="en"}){const n=`https://www.google.com/maps?q=${r},${e}&z=${i}&hl=${a}&output=embed`;return t.jsxs("div",{className:"relative w-full overflow-hidden",children:[t.jsx("div",{style:{paddingBottom:`${s*100}%`}}),t.jsx("iframe",{title:"Google Map",src:n,className:"absolute inset-0 w-full h-full border-0",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",allowFullScreen:!0})]})}function jr({variant:r="section",id:e="location",className:i=""}={}){const{lang:s}=W(),a=s==="EN"?"Metaphysics Alliance · Menara Mitraland, Kota Damansara":"玄域联盟 · Menara Mitraland（Kota Damansara）",n=["Menara Mitraland,","13A, Jalan PJU 5/1, Kota Damansara,","47810 Petaling Jaya, Selangor,","Malaysia."],o="sales@meta-alliance.my",c="+60-16-587-3141",l="https://wa.me/60165873141",d=3.15494,u=101.59737,m=18,h=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${d},${u}`)}`,p=["card-3d p-6 md:p-8",i].filter(Boolean).join(" "),g=t.jsx("div",{className:p,children:t.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-stretch",children:[t.jsxs("div",{className:"text-white/85 text-sm leading-relaxed",children:[t.jsx("h3",{className:"text-xl font-semibold mb-3",children:a}),t.jsx("p",{className:"whitespace-pre-line",children:n.join(`
`)}),t.jsxs("div",{className:"mt-3 space-y-1",children:[t.jsxs("p",{children:[t.jsxs("span",{className:"text-white/60",children:[s==="EN"?"Email":"邮箱",": "]}),t.jsx("a",{href:`mailto:${o}`,className:"text-gold hover:underline",children:o})]}),t.jsxs("p",{children:[t.jsxs("span",{className:"text-white/60",children:[s==="EN"?"WhatsApp":"微信/WhatsApp",": "]}),t.jsx("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"text-gold hover:underline",children:c})]}),t.jsx("p",{className:"text-white/60 mt-2",children:s==="EN"?"Appointments by booking only.":"仅限预约来访。"})]})]}),t.jsxs("div",{className:"relative rounded-xl overflow-hidden ring-1 ring-white/10 bg-black/20 backdrop-blur-lg",children:[t.jsx(qa,{lat:d,lng:u,zoom:m,ratio:9/21,lang:s==="EN"?"en":"zh-CN"}),t.jsx("div",{className:"absolute top-2 left-2 z-10",children:t.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-black/35 backdrop-blur-md border border-white/15 text-white/90 text-xs shadow-soft",children:[t.jsx("strong",{children:"Menara Mitraland"}),t.jsx("br",{}),"13A, Jalan PJU 5/1, Kota Damansara"]})}),t.jsxs("a",{href:h,target:"_blank",rel:"noopener noreferrer","aria-label":s==="EN"?"Open in Google Maps (new tab)":"在新标签页打开 Google 地图",title:s==="EN"?"Open in Google Maps":"打开 Google 地图",className:"absolute bottom-2 right-2 z-10 inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-black/35 backdrop-blur-md border border-white/15 text-white/90 text-xs hover:bg-black/55 hover:border-gold/40 transition",children:[t.jsx("svg",{viewBox:"0 0 24 24",className:"w-3.5 h-3.5",fill:"currentColor","aria-hidden":"true",children:t.jsx("path",{d:"M12 2a7 7 0 0 1 7 7c0 5-7 13-7 13S5 14 5 9a7 7 0 0 1 7-7zm0 9.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z"})}),s==="EN"?"Open in Google Maps":"在 Google 地图中打开"]})]})]})});return r==="inline"?g:t.jsx("section",{id:e,className:"container py-12",children:g})}const Ha=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class oi extends Error{constructor(e,i="FunctionsError",s){super(e),this.name=i,this.context=s}}class za extends oi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Li extends oi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ii extends oi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qt;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(qt||(qt={}));class Va{constructor(e,{headers:i={},customFetch:s,region:a=qt.Any}={}){this.url=e,this.headers=i,this.region=a,this.fetch=Ha(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return L(this,arguments,void 0,function*(i,s={}){var a;let n,o;try{const{headers:c,method:l,body:d,signal:u,timeout:m}=s;let h={},{region:p}=s;p||(p=this.region);const g=new URL(`${this.url}/${i}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let y;d&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",y=d):typeof d=="string"?(h["Content-Type"]="text/plain",y=d):typeof FormData<"u"&&d instanceof FormData?y=d:(h["Content-Type"]="application/json",y=JSON.stringify(d)):y=d;let f=u;m&&(o=new AbortController,n=setTimeout(()=>o.abort(),m),u?(f=o.signal,u.addEventListener("abort",()=>o.abort())):f=o.signal);const v=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),c),body:y,signal:f}).catch(A=>{throw new za(A)}),k=v.headers.get("x-relay-error");if(k&&k==="true")throw new Li(v);if(!v.ok)throw new Ii(v);let x=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return x==="application/json"?C=yield v.json():x==="application/octet-stream"||x==="application/pdf"?C=yield v.blob():x==="text/event-stream"?C=v:x==="multipart/form-data"?C=yield v.formData():C=yield v.text(),{data:C,error:null,response:v}}catch(c){return{data:null,error:c,response:c instanceof Ii||c instanceof Li?c.context:void 0}}finally{n&&clearTimeout(n)}})}}var X={};const Be=ms(vs);var ot={},lt={},ct={},dt={},ut={},ht={},Ri;function Nr(){if(Ri)return ht;Ri=1,Object.defineProperty(ht,"__esModule",{value:!0});class r extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return ht.default=r,ht}var Mi;function kr(){if(Mi)return ut;Mi=1,Object.defineProperty(ut,"__esModule",{value:!0});const e=Be.__importDefault(Nr());class i{constructor(a){var n,o;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(n=a.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=a.signal,this.isMaybeSingle=(o=a.isMaybeSingle)!==null&&o!==void 0?o:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,n){return this.headers=new Headers(this.headers),this.headers.set(a,n),this}then(a,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var d,u,m,h;let p=null,g=null,y=null,f=l.status,v=l.statusText;if(l.ok){if(this.method!=="HEAD"){const A=await l.text();A===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?g=A:g=JSON.parse(A))}const x=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),C=(m=l.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");x&&C&&C.length>1&&(y=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,y=null,f=406,v="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const x=await l.text();try{p=JSON.parse(x),Array.isArray(p)&&l.status===404&&(g=[],p=null,f=200,v="OK")}catch{l.status===404&&x===""?(f=204,v="No Content"):p={message:x}}if(p&&this.isMaybeSingle&&(!((h=p?.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,f=200,v="OK"),p&&this.shouldThrowOnError)throw new e.default(p)}return{error:p,data:g,count:y,status:f,statusText:v}});return this.shouldThrowOnError||(c=c.catch(l=>{var d,u,m;return{error:{message:`${(d=l?.name)!==null&&d!==void 0?d:"FetchError"}: ${l?.message}`,details:`${(u=l?.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(m=l?.code)!==null&&m!==void 0?m:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,n)}returns(){return this}overrideTypes(){return this}}return ut.default=i,ut}var Oi;function Sr(){if(Oi)return dt;Oi=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=Be.__importDefault(kr());class i extends e.default{select(a){let n=!1;const o=(a??"*").split("").map(c=>/\s/.test(c)&&!n?"":(c==='"'&&(n=!n),c)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:n=!0,nullsFirst:o,foreignTable:c,referencedTable:l=c}={}){const d=l?`${l}.order`:"order",u=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${u?`${u},`:""}${a}.${n?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:n,referencedTable:o=n}={}){const c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${a}`),this}range(a,n,{foreignTable:o,referencedTable:c=o}={}){const l=typeof c>"u"?"offset":`${c}.offset`,d=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(l,`${a}`),this.url.searchParams.set(d,`${n-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:n=!1,settings:o=!1,buffers:c=!1,wal:l=!1,format:d="text"}={}){var u;const m=[a?"analyze":null,n?"verbose":null,o?"settings":null,c?"buffers":null,l?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${h}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return dt.default=i,dt}var Di;function li(){if(Di)return ct;Di=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=Be.__importDefault(Sr()),i=new RegExp("[,()]");class s extends e.default{eq(n,o){return this.url.searchParams.append(n,`eq.${o}`),this}neq(n,o){return this.url.searchParams.append(n,`neq.${o}`),this}gt(n,o){return this.url.searchParams.append(n,`gt.${o}`),this}gte(n,o){return this.url.searchParams.append(n,`gte.${o}`),this}lt(n,o){return this.url.searchParams.append(n,`lt.${o}`),this}lte(n,o){return this.url.searchParams.append(n,`lte.${o}`),this}like(n,o){return this.url.searchParams.append(n,`like.${o}`),this}likeAllOf(n,o){return this.url.searchParams.append(n,`like(all).{${o.join(",")}}`),this}likeAnyOf(n,o){return this.url.searchParams.append(n,`like(any).{${o.join(",")}}`),this}ilike(n,o){return this.url.searchParams.append(n,`ilike.${o}`),this}ilikeAllOf(n,o){return this.url.searchParams.append(n,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(n,o){return this.url.searchParams.append(n,`ilike(any).{${o.join(",")}}`),this}is(n,o){return this.url.searchParams.append(n,`is.${o}`),this}in(n,o){const c=Array.from(new Set(o)).map(l=>typeof l=="string"&&i.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(n,`in.(${c})`),this}contains(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cs.{${o.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(o)}`),this}containedBy(n,o){return typeof o=="string"?this.url.searchParams.append(n,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(n,`cd.{${o.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(o)}`),this}rangeGt(n,o){return this.url.searchParams.append(n,`sr.${o}`),this}rangeGte(n,o){return this.url.searchParams.append(n,`nxl.${o}`),this}rangeLt(n,o){return this.url.searchParams.append(n,`sl.${o}`),this}rangeLte(n,o){return this.url.searchParams.append(n,`nxr.${o}`),this}rangeAdjacent(n,o){return this.url.searchParams.append(n,`adj.${o}`),this}overlaps(n,o){return typeof o=="string"?this.url.searchParams.append(n,`ov.${o}`):this.url.searchParams.append(n,`ov.{${o.join(",")}}`),this}textSearch(n,o,{config:c,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const u=c===void 0?"":`(${c})`;return this.url.searchParams.append(n,`${d}fts${u}.${o}`),this}match(n){return Object.entries(n).forEach(([o,c])=>{this.url.searchParams.append(o,`eq.${c}`)}),this}not(n,o,c){return this.url.searchParams.append(n,`not.${o}.${c}`),this}or(n,{foreignTable:o,referencedTable:c=o}={}){const l=c?`${c}.or`:"or";return this.url.searchParams.append(l,`(${n})`),this}filter(n,o,c){return this.url.searchParams.append(n,`${o}.${c}`),this}}return ct.default=s,ct}var Ui;function _r(){if(Ui)return lt;Ui=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=Be.__importDefault(li());class i{constructor(a,{headers:n={},schema:o,fetch:c}){this.url=a,this.headers=new Headers(n),this.schema=o,this.fetch=c}select(a,n){const{head:o=!1,count:c}=n??{},l=o?"HEAD":"GET";let d=!1;const u=(a??"*").split("").map(m=>/\s/.test(m)&&!d?"":(m==='"'&&(d=!d),m)).join("");return this.url.searchParams.set("select",u),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:n,defaultToNull:o=!0}={}){var c;const l="POST";if(n&&this.headers.append("Prefer",`count=${n}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const d=a.reduce((u,m)=>u.concat(Object.keys(m)),[]);if(d.length>0){const u=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}upsert(a,{onConflict:n,ignoreDuplicates:o=!1,count:c,defaultToNull:l=!0}={}){var d;const u="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),c&&this.headers.append("Prefer",`count=${c}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(m.length>0){const h=[...new Set(m)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(a,{count:n}={}){var o;const c="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var n;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}}return lt.default=i,lt}var Bi;function Ka(){if(Bi)return ot;Bi=1,Object.defineProperty(ot,"__esModule",{value:!0});const r=Be,e=r.__importDefault(_r()),i=r.__importDefault(li());class s{constructor(n,{headers:o={},schema:c,fetch:l}={}){this.url=n,this.headers=new Headers(o),this.schemaName=c,this.fetch=l}from(n){const o=new URL(`${this.url}/${n}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new s(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,o={},{head:c=!1,get:l=!1,count:d}={}){var u;let m;const h=new URL(`${this.url}/rpc/${n}`);let p;c||l?(m=c?"HEAD":"GET",Object.entries(o).filter(([y,f])=>f!==void 0).map(([y,f])=>[y,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([y,f])=>{h.searchParams.append(y,f)})):(m="POST",p=o);const g=new Headers(this.headers);return d&&g.set("Prefer",`count=${d}`),new i.default({method:m,url:h,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return ot.default=s,ot}var Fi;function Ya(){if(Fi)return X;Fi=1,Object.defineProperty(X,"__esModule",{value:!0}),X.PostgrestError=X.PostgrestBuilder=X.PostgrestTransformBuilder=X.PostgrestFilterBuilder=X.PostgrestQueryBuilder=X.PostgrestClient=void 0;const r=Be,e=r.__importDefault(Ka());X.PostgrestClient=e.default;const i=r.__importDefault(_r());X.PostgrestQueryBuilder=i.default;const s=r.__importDefault(li());X.PostgrestFilterBuilder=s.default;const a=r.__importDefault(Sr());X.PostgrestTransformBuilder=a.default;const n=r.__importDefault(kr());X.PostgrestBuilder=n.default;const o=r.__importDefault(Nr());return X.PostgrestError=o.default,X.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:n.default,PostgrestError:o.default},X}var Cr=Ya();const Tr=ur(Cr),Ga=Ss({__proto__:null,default:Tr},[Cr]),{PostgrestClient:Ja,PostgrestQueryBuilder:jc,PostgrestFilterBuilder:Nc,PostgrestTransformBuilder:kc,PostgrestBuilder:Sc,PostgrestError:_c}=Tr||Ga;class Qa{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const i=process.versions;if(i&&i.node){const s=i.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const s=this.getWebSocketConstructor();return new s(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Za="2.81.1",Xa=`realtime-js/${Za}`,Er="1.0.0",en="2.0.0",$i=Er,Ht=1e4,tn=1e3,rn=100;var xe;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(xe||(xe={}));var J;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(J||(J={}));var ae;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(ae||(ae={}));var zt;(function(r){r.websocket="websocket"})(zt||(zt={}));var je;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(je||(je={}));class sn{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,i){if(this._isArrayBuffer(e.payload))return i(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let s=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(s))}_binaryEncodePush(e){const{join_ref:i,ref:s,event:a,topic:n,payload:o}=e,c=this.META_LENGTH+i.length+s.length+n.length+a.length,l=new ArrayBuffer(this.HEADER_LENGTH+c);let d=new DataView(l),u=0;d.setUint8(u++,this.KINDS.push),d.setUint8(u++,i.length),d.setUint8(u++,s.length),d.setUint8(u++,n.length),d.setUint8(u++,a.length),Array.from(i,h=>d.setUint8(u++,h.charCodeAt(0))),Array.from(s,h=>d.setUint8(u++,h.charCodeAt(0))),Array.from(n,h=>d.setUint8(u++,h.charCodeAt(0))),Array.from(a,h=>d.setUint8(u++,h.charCodeAt(0)));var m=new Uint8Array(l.byteLength+o.byteLength);return m.set(new Uint8Array(l),0),m.set(new Uint8Array(o),l.byteLength),m.buffer}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,s;const{join_ref:a,ref:n,topic:o}=e,c=e.payload.event,l=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+n.length+o.length+c.length,u=new ArrayBuffer(this.HEADER_LENGTH+d);let m=new DataView(u),h=0;m.setUint8(h++,this.KINDS.userBroadcastPush),m.setUint8(h++,a.length),m.setUint8(h++,n.length),m.setUint8(h++,o.length),m.setUint8(h++,c.length),m.setUint8(h++,this.BINARY_ENCODING),Array.from(a,g=>m.setUint8(h++,g.charCodeAt(0))),Array.from(n,g=>m.setUint8(h++,g.charCodeAt(0))),Array.from(o,g=>m.setUint8(h++,g.charCodeAt(0))),Array.from(c,g=>m.setUint8(h++,g.charCodeAt(0)));var p=new Uint8Array(u.byteLength+l.byteLength);return p.set(new Uint8Array(u),0),p.set(new Uint8Array(l),u.byteLength),p.buffer}_encodeJsonUserBroadcastPush(e){var i,s;const{join_ref:a,ref:n,topic:o}=e,c=e.payload.event,l=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},u=new TextEncoder().encode(JSON.stringify(l)).buffer,m=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+n.length+o.length+c.length,h=new ArrayBuffer(this.HEADER_LENGTH+m);let p=new DataView(h),g=0;p.setUint8(g++,this.KINDS.userBroadcastPush),p.setUint8(g++,a.length),p.setUint8(g++,n.length),p.setUint8(g++,o.length),p.setUint8(g++,c.length),p.setUint8(g++,this.JSON_ENCODING),Array.from(a,f=>p.setUint8(g++,f.charCodeAt(0))),Array.from(n,f=>p.setUint8(g++,f.charCodeAt(0))),Array.from(o,f=>p.setUint8(g++,f.charCodeAt(0))),Array.from(c,f=>p.setUint8(g++,f.charCodeAt(0)));var y=new Uint8Array(h.byteLength+u.byteLength);return y.set(new Uint8Array(h),0),y.set(new Uint8Array(u),h.byteLength),y.buffer}decode(e,i){if(this._isArrayBuffer(e)){let s=this._binaryDecode(e);return i(s)}if(typeof e=="string"){const s=JSON.parse(e),[a,n,o,c,l]=s;return i({join_ref:a,ref:n,topic:o,event:c,payload:l})}return i({})}_binaryDecode(e){const i=new DataView(e),s=i.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.push:return this._decodePush(e,i,a);case this.KINDS.reply:return this._decodeReply(e,i,a);case this.KINDS.broadcast:return this._decodeBroadcast(e,i,a);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,a)}}_decodePush(e,i,s){const a=i.getUint8(1),n=i.getUint8(2),o=i.getUint8(3);let c=this.HEADER_LENGTH+this.META_LENGTH-1;const l=s.decode(e.slice(c,c+a));c=c+a;const d=s.decode(e.slice(c,c+n));c=c+n;const u=s.decode(e.slice(c,c+o));c=c+o;const m=JSON.parse(s.decode(e.slice(c,e.byteLength)));return{join_ref:l,ref:null,topic:d,event:u,payload:m}}_decodeReply(e,i,s){const a=i.getUint8(1),n=i.getUint8(2),o=i.getUint8(3),c=i.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const d=s.decode(e.slice(l,l+a));l=l+a;const u=s.decode(e.slice(l,l+n));l=l+n;const m=s.decode(e.slice(l,l+o));l=l+o;const h=s.decode(e.slice(l,l+c));l=l+c;const p=JSON.parse(s.decode(e.slice(l,e.byteLength))),g={status:h,response:p};return{join_ref:d,ref:u,topic:m,event:ae.reply,payload:g}}_decodeBroadcast(e,i,s){const a=i.getUint8(1),n=i.getUint8(2);let o=this.HEADER_LENGTH+2;const c=s.decode(e.slice(o,o+a));o=o+a;const l=s.decode(e.slice(o,o+n));o=o+n;const d=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:c,event:l,payload:d}}_decodeUserBroadcast(e,i,s){const a=i.getUint8(1),n=i.getUint8(2),o=i.getUint8(3),c=i.getUint8(4);let l=this.HEADER_LENGTH+4;const d=s.decode(e.slice(l,l+a));l=l+a;const u=s.decode(e.slice(l,l+n));l=l+n;const m=s.decode(e.slice(l,l+o));l=l+o;const h=e.slice(l,e.byteLength),p=c===this.JSON_ENCODING?JSON.parse(s.decode(h)):h,g={type:this.BROADCAST,event:u,payload:p};return o>0&&(g.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:g}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}}class Ar{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(z||(z={}));const Wi=(r,e,i={})=>{var s;const a=(s=i.skipTypes)!==null&&s!==void 0?s:[];return e?Object.keys(e).reduce((n,o)=>(n[o]=an(o,r,e,a),n),{}):{}},an=(r,e,i,s)=>{const a=e.find(c=>c.name===r),n=a?.type,o=i[r];return n&&!s.includes(n)?Pr(n,o):Vt(o)},Pr=(r,e)=>{if(r.charAt(0)==="_"){const i=r.slice(1,r.length);return cn(e,i)}switch(r){case z.bool:return nn(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return on(e);case z.json:case z.jsonb:return ln(e);case z.timestamp:return dn(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return Vt(e);default:return Vt(e)}},Vt=r=>r,nn=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},on=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},ln=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},cn=(r,e)=>{if(typeof r!="string")return r;const i=r.length-1,s=r[i];if(r[0]==="{"&&s==="}"){let n;const o=r.slice(1,i);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(c=>Pr(e,c))}return r},dn=r=>typeof r=="string"?r.replace(" ","T"):r,Lr=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Lt{constructor(e,i,s={},a=Ht){this.channel=e,this.event=i,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var s;return this._hasReceived(e)&&i((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var qi;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(qi||(qi={}));class Ve{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:n,onLeave:o,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ve.syncState(this.state,a,n,o),this.pendingDiffs.forEach(l=>{this.state=Ve.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},a=>{const{onJoin:n,onLeave:o,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ve.syncDiff(this.state,a,n,o),c())}),this.onJoin((a,n,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:n,newPresences:o})}),this.onLeave((a,n,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,s,a){const n=this.cloneDeep(e),o=this.transformState(i),c={},l={};return this.map(n,(d,u)=>{o[d]||(l[d]=u)}),this.map(o,(d,u)=>{const m=n[d];if(m){const h=u.map(f=>f.presence_ref),p=m.map(f=>f.presence_ref),g=u.filter(f=>p.indexOf(f.presence_ref)<0),y=m.filter(f=>h.indexOf(f.presence_ref)<0);g.length>0&&(c[d]=g),y.length>0&&(l[d]=y)}else c[d]=u}),this.syncDiff(n,{joins:c,leaves:l},s,a)}static syncDiff(e,i,s,a){const{joins:n,leaves:o}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(n,(c,l)=>{var d;const u=(d=e[c])!==null&&d!==void 0?d:[];if(e[c]=this.cloneDeep(l),u.length>0){const m=e[c].map(p=>p.presence_ref),h=u.filter(p=>m.indexOf(p.presence_ref)<0);e[c].unshift(...h)}s(c,u,l)}),this.map(o,(c,l)=>{let d=e[c];if(!d)return;const u=l.map(m=>m.presence_ref);d=d.filter(m=>u.indexOf(m.presence_ref)<0),e[c]=d,a(c,d,l),d.length===0&&delete e[c]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(s=>i(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,s)=>{const a=e[s];return"metas"in a?i[s]=a.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):i[s]=a,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Hi;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Hi||(Hi={}));var Ke;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Ke||(Ke={}));var ue;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(ue||(ue={}));class ci{constructor(e,i={config:{}},s){var a,n;if(this.topic=e,this.params=i,this.socket=s,this.bindings={},this.state=J.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Lt(this,ae.join,this.params,this.timeout),this.rejoinTimer=new Ar(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=J.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=J.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=J.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ae.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Ve(this),this.broadcastEndpointURL=Lr(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((n=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||n===void 0)&&n.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var s,a,n;if(this.socket.isConnected()||this.socket.connect(),this.state==J.closed){const{config:{broadcast:o,presence:c,private:l}}=this.params,d=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[Ke.PRESENCE]&&this.bindings[Ke.PRESENCE].length>0||((n=this.params.config.presence)===null||n===void 0?void 0:n.enabled)===!0,m={},h={broadcast:o,presence:Object.assign(Object.assign({},c),{enabled:u}),postgres_changes:d,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(p=>e?.(ue.CHANNEL_ERROR,p)),this._onClose(()=>e?.(ue.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:p})=>{var g;if(this.socket.setAuth(),p===void 0){e?.(ue.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,f=(g=y?.length)!==null&&g!==void 0?g:0,v=[];for(let k=0;k<f;k++){const x=y[k],{filter:{event:C,schema:A,table:j,filter:S}}=x,N=p&&p[k];if(N&&N.event===C&&N.schema===A&&N.table===j&&N.filter===S)v.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=J.errored,e?.(ue.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(ue.SUBSCRIBED);return}}).receive("error",p=>{this.state=J.errored,e?.(ue.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e?.(ue.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,s){return this.state===J.joined&&e===Ke.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,i,s)}async httpSend(e,i,s={}){var a;const n=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(i==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:n,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{const d=await c.json();l=d.error||d.message||l}catch{}return Promise.reject(new Error(l))}async send(e,i={}){var s,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:n,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=i.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=d.body)===null||a===void 0?void 0:a.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var o,c,l;const d=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(c=(o=this.params)===null||o===void 0?void 0:o.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&n("ok"),d.receive("ok",()=>n("ok")),d.receive("error",()=>n("error")),d.receive("timeout",()=>n("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=J.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ae.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Lt(this,ae.leave,{},e),s.receive("ok",()=>{i(),a("ok")}).receive("timeout",()=>{i(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=J.closed,this.bindings={}}async _fetchWithTimeout(e,i,s){const a=new AbortController,n=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:a.signal}));return clearTimeout(n),o}_push(e,i,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Lt(this,e,i,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>rn){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,s){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,s){var a,n;const o=e.toLocaleLowerCase(),{close:c,error:l,leave:d,join:u}=ae;if(s&&[c,l,d,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,i,s);if(i&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var g,y,f;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((f=(y=p.filter)===null||y===void 0?void 0:y.event)===null||f===void 0?void 0:f.toLocaleLowerCase())===o}).map(p=>p.callback(h,s)):(n=this.bindings[o])===null||n===void 0||n.filter(p=>{var g,y,f,v,k,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,A=(g=p.filter)===null||g===void 0?void 0:g.event;return C&&((y=i.ids)===null||y===void 0?void 0:y.includes(C))&&(A==="*"||A?.toLocaleLowerCase()===((f=i.data)===null||f===void 0?void 0:f.type.toLocaleLowerCase()))}else{const C=(k=(v=p?.filter)===null||v===void 0?void 0:v.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return C==="*"||C===((x=i?.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:y,table:f,commit_timestamp:v,type:k,errors:x}=g;h=Object.assign(Object.assign({},{schema:y,table:f,commit_timestamp:v,eventType:k,new:{},old:{},errors:x}),this._getPayloadRecords(g))}p.callback(h,s)})}_isClosed(){return this.state===J.closed}_isJoined(){return this.state===J.joined}_isJoining(){return this.state===J.joining}_isLeaving(){return this.state===J.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,s){const a=e.toLocaleLowerCase(),n={type:a,filter:i,callback:s};return this.bindings[a]?this.bindings[a].push(n):this.bindings[a]=[n],this}_off(e,i){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var n;return!(((n=a.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===s&&ci.isEqual(a.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const s in e)if(e[s]!==i[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ae.close,{},e)}_onError(e){this._on(ae.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=J.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=Wi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=Wi(e.columns,e.old_record)),i}}const It=()=>{},mt={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},un=[1e3,2e3,5e3,1e4],hn=1e4,mn=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pn{constructor(e,i){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ht,this.transport=null,this.heartbeatIntervalMs=mt.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=It,this.ref=0,this.reconnectTimer=null,this.vsn=$i,this.logger=It,this.conn=null,this.sendBuffer=[],this.serializer=new sn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...n)=>a(...n):(...n)=>fetch(...n),!(!((s=i?.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${zt.websocket}`,this.httpEndpoint=Lr(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qa.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,s){this.logger(e,i,s)}connectionState(){switch(this.conn&&this.conn.readyState){case xe.connecting:return je.Connecting;case xe.open:return je.Open;case xe.closing:return je.Closing;default:return je.Closed}}isConnected(){return this.connectionState()===je.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const s=`realtime:${e}`,a=this.getChannels().find(n=>n.topic===s);if(a)return a;{const n=new ci(`realtime:${e}`,i,this);return this.channels.push(n),n}}push(e){const{topic:i,event:s,payload:a,ref:n}=e,o=()=>{this.encode(e,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${i} ${s} (${n})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tn,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},mt.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply")try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}i.ref&&i.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:n,ref:o}=i,c=o?`(${o})`:"",l=n.status||"";this.log("receive",`${l} ${s} ${a} ${c}`.trim(),n),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(a,n,o)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===xe.open||this.conn.readyState===xe.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ae.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const s=e.match(/\?/)?"&":"?",a=new URLSearchParams(i);return`${e}${s}${a}`}_workerObjectUrl(e){let i;if(e)i=e;else{const s=new Blob([mn],{type:"application/javascript"});i=URL.createObjectURL(s)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i;e?i=e:this.accessToken?i=await this.accessToken():i=this.accessTokenValue,this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(s=>{const a={access_token:i,version:Xa};i&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(ae.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(i=>{this.log("error",`error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(i)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Ar(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mt.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,s,a,n,o,c,l,d,u,m,h,p;switch(this.transport=(i=e?.transport)!==null&&i!==void 0?i:null,this.timeout=(s=e?.timeout)!==null&&s!==void 0?s:Ht,this.heartbeatIntervalMs=(a=e?.heartbeatIntervalMs)!==null&&a!==void 0?a:mt.HEARTBEAT_INTERVAL,this.worker=(n=e?.worker)!==null&&n!==void 0?n:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(c=e?.heartbeatCallback)!==null&&c!==void 0?c:It,this.vsn=(l=e?.vsn)!==null&&l!==void 0?l:$i,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e?.reconnectAfterMs)!==null&&d!==void 0?d:(g=>un[g-1]||hn),this.vsn){case Er:this.encode=(u=e?.encode)!==null&&u!==void 0?u:((g,y)=>y(JSON.stringify(g))),this.decode=(m=e?.decode)!==null&&m!==void 0?m:((g,y)=>y(JSON.parse(g)));break;case en:this.encode=(h=e?.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=e?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class di extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function V(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class gn extends di{constructor(e,i,s){super(e),this.name="StorageApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Kt extends di{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}const ui=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),fn=()=>Response,Yt=r=>{if(Array.isArray(r))return r.map(i=>Yt(i));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([i,s])=>{const a=i.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));e[a]=Yt(s)}),e},yn=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Rt=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},bn=(r,e,i)=>L(void 0,void 0,void 0,function*(){const s=yield fn();r instanceof s&&!i?.noResolveJson?r.json().then(a=>{const n=r.status||500,o=a?.statusCode||n+"";e(new gn(Rt(a),n,o))}).catch(a=>{e(new Kt(Rt(a),a))}):e(new Kt(Rt(r),r))}),vn=(r,e,i,s)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"||!s?a:(yn(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,e?.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),i))};function tt(r,e,i,s,a,n){return L(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(i,vn(e,s,a,n)).then(l=>{if(!l.ok)throw l;return s?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>bn(l,c,s))})})}function Qe(r,e,i,s){return L(this,void 0,void 0,function*(){return tt(r,"GET",e,i,s)})}function ce(r,e,i,s,a){return L(this,void 0,void 0,function*(){return tt(r,"POST",e,s,a,i)})}function Gt(r,e,i,s,a){return L(this,void 0,void 0,function*(){return tt(r,"PUT",e,s,a,i)})}function wn(r,e,i,s){return L(this,void 0,void 0,function*(){return tt(r,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),s)})}function hi(r,e,i,s,a){return L(this,void 0,void 0,function*(){return tt(r,"DELETE",e,s,a,i)})}class xn{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i}then(e,i){return this.execute().then(e,i)}execute(){return L(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(V(e))return{data:null,error:e};throw e}})}}var Ir;class jn{constructor(e,i){this.downloadFn=e,this.shouldThrowOnError=i,this[Ir]="BlobDownloadBuilder",this.promise=null}asStream(){return new xn(this.downloadFn,this.shouldThrowOnError)}then(e,i){return this.getPromise().then(e,i)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return L(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(V(e))return{data:null,error:e};throw e}})}}Ir=Symbol.toStringTag;const Nn={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zi={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kn{constructor(e,i={},s,a){this.shouldThrowOnError=!1,this.url=e,this.headers=i,this.bucketId=s,this.fetch=ui(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,i,s,a){return L(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},zi),a);let c=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&s instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),l&&n.append("metadata",this.encodeMetadata(l)),n.append("",s)):typeof FormData<"u"&&s instanceof FormData?(n=s,n.has("cacheControl")||n.append("cacheControl",o.cacheControl),l&&!n.has("metadata")&&n.append("metadata",this.encodeMetadata(l))):(n=s,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType,l&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&n instanceof ReadableStream||n&&typeof n=="object"&&"pipe"in n&&typeof n.pipe=="function")&&!o.duplex&&(o.duplex="half")),a?.headers&&(c=Object.assign(Object.assign({},c),a.headers));const d=this._removeEmptyFolders(i),u=this._getFinalPath(d),m=yield(e=="PUT"?Gt:ce)(this.fetch,`${this.url}/object/${u}`,n,Object.assign({headers:c},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(V(n))return{data:null,error:n};throw n}})}upload(e,i,s){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,s)})}uploadToSignedUrl(e,i,s,a){return L(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),c=new URL(this.url+`/object/upload/sign/${o}`);c.searchParams.set("token",i);try{let l;const d=Object.assign({upsert:zi.upsert},a),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",d.cacheControl)):(l=s,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const m=yield Gt(this.fetch,c.toString(),l,{headers:u});return{data:{path:n,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(V(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,i){return L(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const a=Object.assign({},this.headers);i?.upsert&&(a["x-upsert"]="true");const n=yield ce(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(this.url+n.url),c=o.searchParams.get("token");if(!c)throw new di("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:c},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(V(s))return{data:null,error:s};throw s}})}update(e,i,s){return L(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,s)})}move(e,i,s){return L(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(V(a))return{data:null,error:a};throw a}})}copy(e,i,s){return L(this,void 0,void 0,function*(){try{return{data:{path:(yield ce(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(V(a))return{data:null,error:a};throw a}})}createSignedUrl(e,i,s){return L(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),n=yield ce(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:i},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s?.download?`&download=${s.download===!0?"":s.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(V(a))return{data:null,error:a};throw a}})}createSignedUrls(e,i,s){return L(this,void 0,void 0,function*(){try{const a=yield ce(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),n=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(V(a))return{data:null,error:a};throw a}})}download(e,i){const a=typeof i?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(i?.transform||{}),o=n?`?${n}`:"",c=this._getFinalPath(e),l=()=>Qe(this.fetch,`${this.url}/${a}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new jn(l,this.shouldThrowOnError)}info(e){return L(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const s=yield Qe(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Yt(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(V(s))return{data:null,error:s};throw s}})}exists(e){return L(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield wn(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(V(s)&&s instanceof Kt){const a=s.originalError;if([400,404].includes(a?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,i){const s=this._getFinalPath(e),a=[],n=i?.download?`download=${i.download===!0?"":i.download}`:"";n!==""&&a.push(n);const c=typeof i?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(i?.transform||{});l!==""&&a.push(l);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${d}`)}}}remove(e){return L(this,void 0,void 0,function*(){try{return{data:yield hi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}list(e,i,s){return L(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Nn),i),{prefix:e||""});return{data:yield ce(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(V(a))return{data:null,error:a};throw a}})}listV2(e,i){return L(this,void 0,void 0,function*(){try{const s=Object.assign({},e);return{data:yield ce(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(V(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const Rr="2.81.1",Mr={"X-Client-Info":`storage-js/${Rr}`};class Sn{constructor(e,i={},s,a){this.shouldThrowOnError=!1;const n=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(n.hostname)&&!n.hostname.includes("storage.supabase.")&&(n.hostname=n.hostname.replace("supabase.","storage.supabase.")),this.url=n.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mr),i),this.fetch=ui(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return L(this,void 0,void 0,function*(){try{const i=this.listBucketOptionsToQueryString(e);return{data:yield Qe(this.fetch,`${this.url}/bucket${i}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield Qe(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}createBucket(e){return L(this,arguments,void 0,function*(i,s={public:!1}){try{return{data:yield ce(this.fetch,`${this.url}/bucket`,{id:i,name:i,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(V(a))return{data:null,error:a};throw a}})}updateBucket(e,i){return L(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(V(s))return{data:null,error:s};throw s}})}emptyBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield hi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}listBucketOptionsToQueryString(e){const i={};return e&&("limit"in e&&(i.limit=String(e.limit)),"offset"in e&&(i.offset=String(e.offset)),e.search&&(i.search=e.search),e.sortColumn&&(i.sortColumn=e.sortColumn),e.sortOrder&&(i.sortOrder=e.sortOrder)),Object.keys(i).length>0?"?"+new URLSearchParams(i).toString():""}}class _n{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mr),i),this.fetch=ui(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield ce(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}listBuckets(e){return L(this,void 0,void 0,function*(){try{const i=new URLSearchParams;e?.limit!==void 0&&i.set("limit",e.limit.toString()),e?.offset!==void 0&&i.set("offset",e.offset.toString()),e?.sortColumn&&i.set("sortColumn",e.sortColumn),e?.sortOrder&&i.set("sortOrder",e.sortOrder),e?.search&&i.set("search",e.search);const s=i.toString(),a=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`;return{data:yield Qe(this.fetch,a,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield hi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(V(i))return{data:null,error:i};throw i}})}}const mi={"X-Client-Info":`storage-js/${Rr}`,"Content-Type":"application/json"};class Or extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ie(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class Mt extends Or{constructor(e,i,s){super(e),this.name="StorageVectorsApiError",this.status=i,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cn extends Or{constructor(e,i){super(e),this.name="StorageVectorsUnknownError",this.originalError=i}}var Vi;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Vi||(Vi={}));const pi=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Tn=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ki=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),En=(r,e,i)=>L(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!i?.noResolveJson){const a=r.status||500,n=r;if(typeof n.json=="function")n.json().then(o=>{const c=o?.statusCode||o?.code||a+"";e(new Mt(Ki(o),a,c))}).catch(()=>{const o=a+"",c=n.statusText||`HTTP ${a} error`;e(new Mt(c,a,o))});else{const o=a+"",c=n.statusText||`HTTP ${a} error`;e(new Mt(c,a,o))}}else e(new Cn(Ki(r),r))}),An=(r,e,i,s)=>{const a={method:r,headers:e?.headers||{}};return s?(Tn(s)?(a.headers=Object.assign({"Content-Type":"application/json"},e?.headers),a.body=JSON.stringify(s)):a.body=s,Object.assign(Object.assign({},a),i)):a};function Pn(r,e,i,s,a,n){return L(this,void 0,void 0,function*(){return new Promise((o,c)=>{r(i,An(e,s,a,n)).then(l=>{if(!l.ok)throw l;if(s?.noResolveJson)return l;const d=l.headers.get("content-type");return!d||!d.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>En(l,c,s))})})}function re(r,e,i,s,a){return L(this,void 0,void 0,function*(){return Pn(r,"POST",e,s,a,i)})}class Ln{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mi),i),this.fetch=pi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return L(this,void 0,void 0,function*(){try{return{data:(yield re(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}getIndex(e,i){return L(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}listIndexes(e){return L(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}deleteIndex(e,i){return L(this,void 0,void 0,function*(){try{return{data:(yield re(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:i},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ie(s))return{data:null,error:s};throw s}})}}class In{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mi),i),this.fetch=pi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return L(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield re(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}getVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}listVectors(e){return L(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield re(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}queryVectors(e){return L(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}deleteVectors(e){return L(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield re(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}}class Rn{constructor(e,i={},s){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},mi),i),this.fetch=pi(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield re(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}getBucket(e){return L(this,void 0,void 0,function*(){try{return{data:yield re(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}listBuckets(){return L(this,arguments,void 0,function*(e={}){try{return{data:yield re(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}deleteBucket(e){return L(this,void 0,void 0,function*(){try{return{data:(yield re(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ie(i))return{data:null,error:i};throw i}})}}class Mn extends Rn{constructor(e,i={}){super(e,i.headers||{},i.fetch)}from(e){return new On(this.url,this.headers,e,this.fetch)}}class On extends Ln{constructor(e,i,s,a){super(e,i,a),this.vectorBucketName=s}createIndex(e){const i=Object.create(null,{createIndex:{get:()=>super.createIndex}});return L(this,void 0,void 0,function*(){return i.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return L(this,arguments,void 0,function*(i={}){return e.listIndexes.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const i=Object.create(null,{getIndex:{get:()=>super.getIndex}});return L(this,void 0,void 0,function*(){return i.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const i=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return L(this,void 0,void 0,function*(){return i.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Dn(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Dn extends In{constructor(e,i,s,a,n){super(e,i,n),this.vectorBucketName=s,this.indexName=a}putVectors(e){const i=Object.create(null,{putVectors:{get:()=>super.putVectors}});return L(this,void 0,void 0,function*(){return i.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const i=Object.create(null,{getVectors:{get:()=>super.getVectors}});return L(this,void 0,void 0,function*(){return i.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return L(this,arguments,void 0,function*(i={}){return e.listVectors.call(this,Object.assign(Object.assign({},i),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const i=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return L(this,void 0,void 0,function*(){return i.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const i=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return L(this,void 0,void 0,function*(){return i.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Un extends Sn{constructor(e,i={},s,a){super(e,i,s,a)}from(e){return new kn(this.url,this.headers,e,this.fetch)}get vectors(){return new Mn(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new _n(this.url+"/iceberg",this.headers,this.fetch)}}const Bn="2.81.1";let He="";typeof Deno<"u"?He="deno":typeof document<"u"?He="web":typeof navigator<"u"&&navigator.product==="ReactNative"?He="react-native":He="node";const Fn={"X-Client-Info":`supabase-js-${He}/${Bn}`},$n={headers:Fn},Wn={schema:"public"},qn={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Hn={},zn=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Vn=()=>Headers,Kn=(r,e,i)=>{const s=zn(i),a=Vn();return async(n,o)=>{var c;const l=(c=await e())!==null&&c!==void 0?c:r;let d=new a(o?.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),s(n,Object.assign(Object.assign({},o),{headers:d}))}};function Yn(r){return r.endsWith("/")?r:r+"/"}function Gn(r,e){var i,s;const{db:a,auth:n,realtime:o,global:c}=r,{db:l,auth:d,realtime:u,global:m}=e,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},d),n),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},m),c),{headers:Object.assign(Object.assign({},(i=m?.headers)!==null&&i!==void 0?i:{}),(s=c?.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return r.accessToken?h.accessToken=r.accessToken:delete h.accessToken,h}function Jn(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yn(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Dr="2.81.1",Ie=30*1e3,Jt=3,Ot=Jt*Ie,Qn="http://localhost:9999",Zn="supabase.auth.token",Xn={"X-Client-Info":`gotrue-js/${Dr}`},Qt="X-Supabase-Api-Version",Ur={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,to=600*1e3;class Ze extends Error{constructor(e,i,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=s}}function I(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class io extends Ze{constructor(e,i,s){super(e,i,s),this.name="AuthApiError",this.status=i,this.code=s}}function ro(r){return I(r)&&r.name==="AuthApiError"}class Ne extends Ze{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class ye extends Ze{constructor(e,i,s,a){super(e,s,a),this.name=i,this.status=s}}class oe extends ye{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function so(r){return I(r)&&r.name==="AuthSessionMissingError"}class _e extends ye{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pt extends ye{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gt extends ye{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ao(r){return I(r)&&r.name==="AuthImplicitGrantRedirectError"}class Yi extends ye{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Zt extends ye{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Dt(r){return I(r)&&r.name==="AuthRetryableFetchError"}class Gi extends ye{constructor(e,i,s){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=s}}class Xt extends ye{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ji=` 	
\r=`.split(""),no=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Ji.length;e+=1)r[Ji[e].charCodeAt(0)]=-2;for(let e=0;e<jt.length;e+=1)r[jt[e].charCodeAt(0)]=e;return r})();function Qi(r,e,i){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(jt[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;i(jt[s]),e.queuedBits-=6}}function Br(r,e,i){const s=no[r];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Zi(r){const e=[],i=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},n=o=>{co(o,s,i)};for(let o=0;o<r.length;o+=1)Br(r.charCodeAt(o),a,n);return e.join("")}function oo(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function lo(r,e){for(let i=0;i<r.length;i+=1){let s=r.charCodeAt(i);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(r.charCodeAt(i+1)-56320&65535|a)+65536,i+=1}oo(s,e)}}function co(r,e,i){if(e.utf8seq===0){if(r<=127){i(r);return}for(let s=1;s<6;s+=1)if((r>>7-s&1)===0){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Oe(r){const e=[],i={queue:0,queuedBits:0},s=a=>{e.push(a)};for(let a=0;a<r.length;a+=1)Br(r.charCodeAt(a),i,s);return new Uint8Array(e)}function uo(r){const e=[];return lo(r,i=>e.push(i)),new Uint8Array(e)}function ke(r){const e=[],i={queue:0,queuedBits:0},s=a=>{e.push(a)};return r.forEach(a=>Qi(a,i,s)),Qi(null,i,s),e.join("")}function ho(r){return Math.round(Date.now()/1e3)+r}function mo(){return Symbol("auth-callback")}const Z=()=>typeof window<"u"&&typeof document<"u",be={tested:!1,writable:!1},Fr=()=>{if(!Z())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(be.tested)return be.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),be.tested=!0,be.writable=!0}catch{be.tested=!0,be.writable=!1}return be.writable};function po(r){const e={},i=new URL(r);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((a,n)=>{e[n]=a})}catch{}return i.searchParams.forEach((s,a)=>{e[a]=s}),e}const $r=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),go=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Re=async(r,e,i)=>{await r.setItem(e,JSON.stringify(i))},ve=async(r,e)=>{const i=await r.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},he=async(r,e)=>{await r.removeItem(e)};class Tt{constructor(){this.promise=new Tt.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}Tt.promiseConstructor=Promise;function Ut(r){const e=r.split(".");if(e.length!==3)throw new Xt("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!eo.test(e[s]))throw new Xt("JWT not in base64url format");return{header:JSON.parse(Zi(e[0])),payload:JSON.parse(Zi(e[1])),signature:Oe(e[2]),raw:{header:e[0],payload:e[1]}}}async function fo(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function yo(r,e){return new Promise((s,a)=>{(async()=>{for(let n=0;n<1/0;n++)try{const o=await r(n);if(!e(n,null,o)){s(o);return}}catch(o){if(!e(n,o)){a(o);return}}})()})}function bo(r){return("0"+r.toString(16)).substr(-2)}function vo(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=i.length;let a="";for(let n=0;n<56;n++)a+=i.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(e),Array.from(e,bo).join("")}async function wo(r){const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i),a=new Uint8Array(s);return Array.from(a).map(n=>String.fromCharCode(n)).join("")}async function xo(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const i=await wo(r);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ce(r,e,i=!1){const s=vo();let a=s;i&&(a+="/PASSWORD_RECOVERY"),await Re(r,`${e}-code-verifier`,a);const n=await xo(s);return[n,s===n?"plain":"s256"]}const jo=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function No(r){const e=r.headers.get(Qt);if(!e||!e.match(jo))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ko(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function So(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Te(r){if(!_o.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bt(){const r={};return new Proxy(r,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Co(r,e){return new Proxy(r,{get:(i,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const n=s.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)"||n==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,s,a)}return!e.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,s,a)}})}function Xi(r){return JSON.parse(JSON.stringify(r))}const we=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),To=[502,503,504];async function er(r){var e;if(!go(r))throw new Zt(we(r),0);if(To.includes(r.status))throw new Zt(we(r),r.status);let i;try{i=await r.json()}catch(n){throw new Ne(we(n),n)}let s;const a=No(r);if(a&&a.getTime()>=Ur["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?s=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(s=i.error_code),s){if(s==="weak_password")throw new Gi(we(i),r.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new oe}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((n,o)=>n&&typeof o=="string",!0))throw new Gi(we(i),r.status,i.weak_password.reasons);throw new io(we(i),r.status||500,s)}const Eo=(r,e,i,s)=>{const a={method:r,headers:e?.headers||{}};return r==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),i))};async function M(r,e,i,s){var a;const n=Object.assign({},s?.headers);n[Qt]||(n[Qt]=Ur["2024-01-01"].name),s?.jwt&&(n.Authorization=`Bearer ${s.jwt}`);const o=(a=s?.query)!==null&&a!==void 0?a:{};s?.redirectTo&&(o.redirect_to=s.redirectTo);const c=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Ao(r,e,i+c,{headers:n,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(l):{data:Object.assign({},l),error:null}}async function Ao(r,e,i,s,a,n){const o=Eo(e,s,a,n);let c;try{c=await r(i,Object.assign({},o))}catch(l){throw console.error(l),new Zt(we(l),0)}if(c.ok||await er(c),s?.noResolveJson)return c;try{return await c.json()}catch(l){await er(l)}}function le(r){var e;let i=null;Io(r)&&(i=Object.assign({},r),r.expires_at||(i.expires_at=ho(r.expires_in)));const s=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:i,user:s},error:null}}function tr(r){const e=le(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0)&&(e.data.weak_password=r.weak_password),e}function me(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Po(r){return{data:r,error:null}}function Lo(r){const{action_link:e,email_otp:i,hashed_token:s,redirect_to:a,verification_type:n}=r,o=Ct(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:e,email_otp:i,hashed_token:s,redirect_to:a,verification_type:n},l=Object.assign({},o);return{data:{properties:c,user:l},error:null}}function ir(r){return r}function Io(r){return r.access_token&&r.refresh_token&&r.expires_in}const Ft=["global","local","others"];class Ro{constructor({url:e="",headers:i={},fetch:s}){this.url=e,this.headers=i,this.fetch=$r(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=Ft[0]){if(Ft.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ft.join(", ")}`);try{return await M(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,i={}){try{return await M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:me})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:i}=e,s=Ct(e,["options"]),a=Object.assign(Object.assign({},s),i);return"newEmail"in s&&(a.new_email=s?.newEmail,delete a.newEmail),await M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Lo,redirectTo:i?.redirectTo})}catch(i){if(I(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:me})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,s,a,n,o,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(n=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:""},xform:ir});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),f=JSON.parse(g.split(";")[1].split("=")[1]);d[`${f}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(I(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){Te(e);try{return await M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:me})}catch(i){if(I(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){Te(e);try{return await M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:me})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,i=!1){Te(e);try{return await M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:me})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){Te(e.userId);try{const{data:i,error:s}=await M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:i,error:s}}catch(i){if(I(i))return{data:null,error:i};throw i}}async _deleteFactor(e){Te(e.userId),Te(e.id);try{return{data:await M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,s,a,n,o,c,l;try{const d={nextPage:null,lastPage:0,total:0},u=await M(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(i=e?.page)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:"",per_page:(n=(a=e?.perPage)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:""},xform:ir});if(u.error)throw u.error;const m=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(c=u.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const y=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),f=JSON.parse(g.split(";")[1].split("=")[1]);d[`${f}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(I(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(e){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(I(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await M(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(I(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await M(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(e){try{return await M(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(I(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await M(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(I(i))return{data:null,error:i};throw i}}}function rr(r={}){return{getItem:e=>r[e]||null,setItem:(e,i)=>{r[e]=i},removeItem:e=>{delete r[e]}}}const Ee={debug:!!(globalThis&&Fr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wr extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Mo extends Wr{}async function Oo(r,e,i){Ee.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),Ee.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Ee.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,a.name);try{return await i()}finally{Ee.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,a.name)}}else{if(e===0)throw Ee.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Mo(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ee.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function Do(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qr(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Uo(r){return parseInt(r,16)}function Bo(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,s=>s.toString(16).padStart(2,"0")).join("")}function Fo(r){var e;const{chainId:i,domain:s,expirationTime:a,issuedAt:n=new Date,nonce:o,notBefore:c,requestId:l,resources:d,scheme:u,uri:m,version:h}=r;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const p=qr(r.address),g=u?`${u}://${s}`:s,y=r.statement?`${r.statement}
`:"",f=`${g} wants you to sign in with your Ethereum account:
${p}

${y}`;let v=`URI: ${m}
Version: ${h}
Chain ID: ${i}${o?`
Nonce: ${o}`:""}
Issued At: ${n.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),c&&(v+=`
Not Before: ${c.toISOString()}`),l&&(v+=`
Request ID: ${l}`),d){let k=`
Resources:`;for(const x of d){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);k+=`
- ${x}`}v+=k}return`${f}
${v}`}class K extends Error{constructor({message:e,code:i,cause:s,name:a}){var n;super(e,{cause:s}),this.__isWebAuthnError=!0,this.name=(n=a??(s instanceof Error?s.name:void 0))!==null&&n!==void 0?n:"Unknown Error",this.code=i}}class Nt extends K{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function $o({error:r,options:e}){var i,s,a;const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new K({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((i=n.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new K({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((s=n.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new K({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((a=n.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new K({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new K({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new K({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return n.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new K({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new K({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(Hr(o)){if(n.rp.id!==o)return new K({message:`The RP ID "${n.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new K({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(n.user.id.byteLength<1||n.user.id.byteLength>64)return new K({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new K({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new K({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function Wo({error:r,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new K({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new K({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const s=window.location.hostname;if(Hr(s)){if(i.rpId!==s)return new K({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new K({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new K({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new K({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class qo{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ho=new qo;function zo(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:i,excludeCredentials:s}=r,a=Ct(r,["challenge","user","excludeCredentials"]),n=Oe(e).buffer,o=Object.assign(Object.assign({},i),{id:Oe(i.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:n,user:o});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let l=0;l<s.length;l++){const d=s[l];c.excludeCredentials[l]=Object.assign(Object.assign({},d),{id:Oe(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return c}function Vo(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:i}=r,s=Ct(r,["challenge","allowCredentials"]),a=Oe(e).buffer,n=Object.assign(Object.assign({},s),{challenge:a});if(i&&i.length>0){n.allowCredentials=new Array(i.length);for(let o=0;o<i.length;o++){const c=i[o];n.allowCredentials[o]=Object.assign(Object.assign({},c),{id:Oe(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return n}function Ko(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r;return{id:r.id,rawId:r.id,response:{attestationObject:ke(new Uint8Array(r.response.attestationObject)),clientDataJSON:ke(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yo(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const i=r,s=r.getClientExtensionResults(),a=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:ke(new Uint8Array(a.authenticatorData)),clientDataJSON:ke(new Uint8Array(a.clientDataJSON)),signature:ke(new Uint8Array(a.signature)),userHandle:a.userHandle?ke(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Hr(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function sr(){var r,e;return!!(Z()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Go(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nt("Browser returned unexpected credential type",e)}:{data:null,error:new Nt("Empty credential response",e)}}catch(e){return{data:null,error:$o({error:e,options:r})}}}async function Jo(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nt("Browser returned unexpected credential type",e)}:{data:null,error:new Nt("Empty credential response",e)}}catch(e){return{data:null,error:Wo({error:e,options:r})}}}const Qo={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Zo={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function kt(...r){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),i=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of r)if(a)for(const n in a){const o=a[n];if(o!==void 0)if(Array.isArray(o))s[n]=o;else if(i(o))s[n]=o;else if(e(o)){const c=s[n];e(c)?s[n]=kt(c,o):s[n]=kt(o)}else s[n]=o}return s}function Xo(r,e){return kt(Qo,r,e||{})}function el(r,e){return kt(Zo,r,e||{})}class tl{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:s,signal:a},n){try{const{data:o,error:c}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!o)return{data:null,error:c};const l=a??Ho.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${s}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{const d=Xo(o.webauthn.credential_options.publicKey,n?.create),{data:u,error:m}=await Go({publicKey:d,signal:l});return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}case"request":{const d=el(o.webauthn.credential_options.publicKey,n?.request),{data:u,error:m}=await Jo(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:l}));return u?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:u}},error:null}:{data:null,error:m}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Ne("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:i,webauthn:s}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:s})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},n){if(!i)return{data:null,error:new Ze("rpId is required for WebAuthn authentication")};try{if(!sr())return{data:null,error:new Ne("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:s},signal:a},{request:n});if(!o)return{data:null,error:c};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:i,rpOrigins:s,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Ne("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},n){if(!i)return{data:null,error:new Ze("rpId is required for WebAuthn registration")};try{if(!sr())return{data:null,error:new Ne("Browser does not support WebAuthn",null)};const{data:o,error:c}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(u=>{var m;return(m=u.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===e&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:c};const{data:l,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:i,rpOrigins:s},signal:a},{create:n});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:i,rpOrigins:s,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:d}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new Ne("Unexpected error in register",o)}}}}Do();const il={url:Qn,storageKey:Zn,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Xn,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function ar(r,e,i){return await i()}const Ae={};class Xe{get jwks(){var e,i;return(i=(e=Ae[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Ae[this.storageKey]=Object.assign(Object.assign({},Ae[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Ae[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ae[this.storageKey]=Object.assign(Object.assign({},Ae[this.storageKey]),{cachedAt:e})}constructor(e){var i,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const n=Object.assign(Object.assign({},il),e);if(this.storageKey=n.storageKey,this.instanceID=(i=Xe.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Xe.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.instanceID>0&&Z()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=n.persistSession,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ro({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=$r(n.fetch),this.lock=n.lock||ar,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,this.throwOnError=n.throwOnError,n.lock?this.lock=n.lock:Z()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=Oo:this.lock=ar,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new tl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Fr()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rr(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=rr(this.memoryStorage)),Z()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Dr}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},s="none";if(Z()&&(i=po(window.location.href),this._isImplicitGrantCallback(i)?s="implicit":await this._isPKCECallback(i)&&(s="pkce")),Z()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:n}=await this._getSessionFromURL(i,s);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),ao(n)){const l=(e=n.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:o,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",c),await this._saveSession(o),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return I(i)?this._returnResult({error:i}):this._returnResult({error:new Ne("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,s,a;try{const n=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=e?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=e?.options)===null||a===void 0?void 0:a.captchaToken}},xform:le}),{data:o,error:c}=n;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signUp(e){var i,s,a;try{let n;if("email"in e){const{email:u,password:m,options:h}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ce(this.storage,this.storageKey)),n=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:m,data:(i=h?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},xform:le})}else if("phone"in e){const{phone:u,password:m,options:h}=e;n=await M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:m,data:(s=h?.data)!==null&&s!==void 0?s:{},channel:(a=h?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:le})}else throw new pt("You must provide either an email or phone number and a password");const{data:o,error:c}=n;if(c||!o)return this._returnResult({data:{user:null,session:null},error:c});const l=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithPassword(e){try{let i;if("email"in e){const{email:n,password:o,options:c}=e;i=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tr})}else if("phone"in e){const{phone:n,password:o,options:c}=e;i=await M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:tr})}else throw new pt("You must provide either an email or phone number and a password");const{data:s,error:a}=i;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const n=new _e;return this._returnResult({data:{user:null,session:null},error:n})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,s,a,n;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,s,a,n,o,c,l,d,u,m,h;let p,g;if("message"in e)p=e.message,g=e.signature;else{const{chain:y,wallet:f,statement:v,options:k}=e;let x;if(Z())if(typeof f=="object")x=f;else{const w=window;if("ethereum"in w&&typeof w.ethereum=="object"&&"request"in w.ethereum&&typeof w.ethereum.request=="function")x=w.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=f}const C=new URL((i=k?.url)!==null&&i!==void 0?i:window.location.href),A=await x.request({method:"eth_requestAccounts"}).then(w=>w).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!A||A.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=qr(A[0]);let S=(s=k?.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!S){const w=await x.request({method:"eth_chainId"});S=Uo(w)}const N={domain:C.host,address:j,statement:v,uri:C.href,version:"1",chainId:S,nonce:(a=k?.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(n=k?.signInWithEthereum)===null||n===void 0?void 0:n.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(c=k?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=k?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=k?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=k?.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=Fo(N),g=await x.request({method:"personal_sign",params:[Bo(p),j]})}try{const{data:y,error:f}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:g},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:le});if(f)throw f;if(!y||!y.session||!y.user){const v=new _e;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:f})}catch(y){if(I(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(e){var i,s,a,n,o,c,l,d,u,m,h,p;let g,y;if("message"in e)g=e.message,y=e.signature;else{const{chain:f,wallet:v,statement:k,options:x}=e;let C;if(Z())if(typeof v=="object")C=v;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))C=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!x?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=v}const A=new URL((i=x?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in C&&C.signIn){const j=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x?.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),k?{statement:k}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)g=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${A.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(a=(s=x?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((n=x?.signInWithSolana)===null||n===void 0)&&n.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((c=x?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((l=x?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((d=x?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(u=x?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await C.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=j}}try{const{data:f,error:v}=await M(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ke(y)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:le});if(v)throw v;if(!f||!f.session||!f.user){const k=new _e;return this._returnResult({data:{user:null,session:null},error:k})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign({},f),error:v})}catch(f){if(I(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async _exchangeCodeForSession(e){const i=await ve(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(i??"").split("/");try{const{data:n,error:o}=await M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:le});if(await he(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!n||!n.session||!n.user){const c=new _e;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign(Object.assign({},n),{redirectType:a??null}),error:o})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null,redirectType:null},error:n});throw n}}async signInWithIdToken(e){try{const{options:i,provider:s,token:a,access_token:n,nonce:o}=e,c=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:n,nonce:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:le}),{data:l,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const u=new _e;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:d})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,s,a,n,o;try{if("email"in e){const{email:c,options:l}=e;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ce(this.storage,this.storageKey));const{error:m}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:c,options:l}=e,{data:d,error:u}=await M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=l?.data)!==null&&a!==void 0?a:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:u})}throw new pt("You must provide either an email or phone number.")}catch(c){if(I(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var i,s;try{let a,n;"options"in e&&(a=(i=e.options)===null||i===void 0?void 0:i.redirectTo,n=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:c}=await M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:n}}),redirectTo:a,xform:le});if(c)throw c;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,d=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var i,s,a,n,o;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await Ce(this.storage,this.storageKey));const d=await M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=e?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Po});return!((n=d.data)===null||n===void 0)&&n.url&&Z()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(I(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:s}=e;if(s)throw s;if(!i)throw new oe;const{error:a}=await M(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:s,type:a,options:n}=e,{error:o}=await M(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},redirectTo:n?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:s,type:a,options:n}=e,{data:o,error:c}=await M(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:n?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o?.message_id},error:c})}throw new pt("You must provide either an email or phone number and a type")}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await i()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=i();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await ve(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Ot:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await ve(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=Bt()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Co(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{session:null},error:n}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:me}):await this._useSession(async i=>{var s,a,n;const{data:o,error:c}=i;if(c)throw c;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new oe}:await M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:void 0,xform:me})})}catch(i){if(I(i))return so(i)&&(await this._removeSession(),await he(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async s=>{const{data:a,error:n}=s;if(n)throw n;if(!a.session)throw new oe;const o=a.session;let c=null,l=null;this.flowType==="pkce"&&e.email!=null&&([c,l]=await Ce(this.storage,this.storageKey));const{data:d,error:u}=await M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:l}),jwt:o.access_token,xform:me});if(u)throw u;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(I(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new oe;const i=Date.now()/1e3;let s=i,a=!0,n=null;const{payload:o}=Ut(e.access_token);if(o.exp&&(s=o.exp,a=s<=i),a){const{data:c,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};n=c}else{const{data:c,error:l}=await this._getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:s-i,expires_at:s},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return this._returnResult({data:{user:n.user,session:n},error:null})}catch(i){if(I(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var s;if(!e){const{data:o,error:c}=i;if(c)throw c;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new oe;const{data:a,error:n}=await this._callRefreshToken(e.refresh_token);return n?this._returnResult({data:{user:null,session:null},error:n}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!Z())throw new gt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Yi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gt("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Yi("No code detected.");const{data:k,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:n,refresh_token:o,expires_in:c,expires_at:l,token_type:d}=e;if(!n||!c||!o||!d)throw new gt("No session defined in URL");const u=Math.round(Date.now()/1e3),m=parseInt(c);let h=u+m;l&&(h=parseInt(l));const p=h-u;p*1e3<=Ie&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${m}s`);const g=h-m;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);const{data:y,error:f}=await this._getUser(n);if(f)throw f;const v={provider_token:s,provider_refresh_token:a,access_token:n,expires_in:m,expires_at:h,refresh_token:o,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(s){if(I(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await ve(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var s;const{data:a,error:n}=i;if(n)return this._returnResult({error:n});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:c}=await this.admin.signOut(o,e);if(c&&!(ro(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await he(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=mo(),s={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async i=>{var s,a;try{const{data:{session:n},error:o}=i;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(n){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",n),console.error(n)}})}async resetPasswordForEmail(e,i={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ce(this.storage,this.storageKey,!0));try{return await M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async getUserIdentities(){var e;try{const{data:i,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:s,error:a}=await this._useSession(async n=>{var o,c,l,d,u;const{data:m,error:h}=n;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await M(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Z()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),this._returnResult({data:{provider:e.provider,url:s?.url},error:null})}catch(s){if(I(s))return this._returnResult({data:{provider:e.provider,url:null},error:s});throw s}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var s;try{const{error:a,data:{session:n}}=i;if(a)throw a;const{options:o,provider:c,token:l,access_token:d,nonce:u}=e,m=await M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=n?.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:le}),{data:h,error:p}=m;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new _e}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var s,a;const{data:n,error:o}=i;if(o)throw o;return await M(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(s=n.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const s=Date.now();return await yo(async a=>(a>0&&await fo(200*Math.pow(2,a-1)),this._debug(i,"refreshing attempt",a),await M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:le})),(a,n)=>{const o=200*Math.pow(2,a);return n&&Dt(n)&&Date.now()+o-s<Ie})}catch(s){if(this._debug(i,"error",s),I(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",s),Z()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,i;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await ve(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ve(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Re(this.userStorage,this.storageKey+"-user",o)),a.user=(e=o?.user)!==null&&e!==void 0?e:Bt()}else if(a&&!a.user&&!a.user){const o=await ve(this.storage,this.storageKey+"-user");o&&o?.user?(a.user=o.user,await he(this.storage,this.storageKey+"-user"),await Re(this.storage,this.storageKey,a)):a.user=Bt()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const n=((i=a.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Ot;if(this._debug(s,`session has${n?"":" not"} expired with margin of ${Ot}s`),n){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Dt(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:c}=await this._getUser(a.access_token);!c&&o?.user?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var i,s;if(!e)throw new oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Tt;const{data:n,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!n.session)throw new oe;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const c={data:n.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(n){if(this._debug(a,"error",n),I(n)){const o={data:null,error:n};return Dt(n)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(n),n}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,i,s=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:i});const n=[],o=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,i)}catch(l){n.push(l)}});if(await Promise.all(o),n.length>0){for(let c=0;c<n.length;c+=1)console.error(n[c]);throw n[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const i=Object.assign({},e),s=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&i.user&&await Re(this.userStorage,this.storageKey+"-user",{user:i.user});const a=Object.assign({},i);delete a.user;const n=Xi(a);await Re(this.storage,this.storageKey,n)}else{const a=Xi(i);await Re(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await he(this.storage,this.storageKey),await he(this.storage,this.storageKey+"-code-verifier"),await he(this.storage,this.storageKey+"-user"),this.userStorage&&await he(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Z()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ie);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-e)/Ie);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ie}ms, refresh threshold is ${Jt} ticks`),a<=Jt&&await this._callRefreshToken(s.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Wr)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Z()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,s){const a=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[n,o]=await Ce(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(c.toString())}if(s?.queryParams){const n=new URLSearchParams(s.queryParams);a.push(n.toString())}return s?.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var s;const{data:a,error:n}=i;return n?this._returnResult({data:null,error:n}):await M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token})})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var s,a;const{data:n,error:o}=i;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:d}=await M(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=n?.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(e.factorType==="totp"&&l.type==="totp"&&(!((a=l?.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:n}=i;if(n)return this._returnResult({data:null,error:n});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Ko(e.webauthn.credential_response):Yo(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:l}=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var s;const{data:a,error:n}=i;if(n)return this._returnResult({data:null,error:n});const o=await M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(s=a?.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:c}=o;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:zo(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Vo(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:s}=await this._challenge({factorId:e.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const n of(e=i?.factors)!==null&&e!==void 0?e:[])a.all.push(n),n.status==="verified"&&a[n.factor_type].push(n);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,i;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:n}=Ut(s.access_token);let o=null;n.aal&&(o=n.aal);let c=o;((i=(e=s.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(c="aal2");const d=n.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:s},error:a}=i;return a?this._returnResult({data:null,error:a}):s?await M(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:s.access_token,xform:n=>({data:n,error:null})}):this._returnResult({data:null,error:new oe})})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async s=>{const{data:{session:a},error:n}=s;if(n)return this._returnResult({data:null,error:n});if(!a)return this._returnResult({data:null,error:new oe});const o=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Z()&&!i?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(e,i){try{return await this._useSession(async s=>{const{data:{session:a},error:n}=s;if(n)return this._returnResult({data:null,error:n});if(!a)return this._returnResult({data:null,error:new oe});const o=await M(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return o.data&&o.data.redirect_url&&Z()&&!i?.skipBrowserRedirect&&window.location.assign(o.data.redirect_url),o})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,i={keys:[]}){let s=i.keys.find(c=>c.kid===e);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(c=>c.kid===e),s&&this.jwks_cached_at+to>a)return s;const{data:n,error:o}=await M(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!n.keys||n.keys.length===0||(this.jwks=n,this.jwks_cached_at=a,s=n.keys.find(c=>c.kid===e),!s)?null:s}async getClaims(e,i={}){try{let s=e;if(!s){const{data:p,error:g}=await this.getSession();if(g||!p.session)return this._returnResult({data:null,error:g});s=p.session.access_token}const{header:a,payload:n,signature:o,raw:{header:c,payload:l}}=Ut(s);i?.allowExpired||ko(n.exp);const d=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!d){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:n,header:a,signature:o},error:null}}const u=So(a.alg),m=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,m,o,uo(`${c}.${l}`)))throw new Xt("Invalid JWT signature");return{data:{claims:n,header:a,signature:o},error:null}}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}}Xe.nextInstanceID={};const rl=Xe;class sl extends rl{constructor(e){super(e)}}class al{constructor(e,i,s){var a,n,o;this.supabaseUrl=e,this.supabaseKey=i;const c=Jn(e);if(!i)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Wn,realtime:Hn,auth:Object.assign(Object.assign({},qn),{storageKey:l}),global:$n},u=Gn(s??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(n=u.global.headers)!==null&&n!==void 0?n:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Kn(i,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new Ja(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Un(this.storageUrl.href,this.headers,this.fetch,s?.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Va(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,i,s)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,i;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(i=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:a,userStorage:n,storageKey:o,flowType:c,lock:l,debug:d,throwOnError:u},m,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sl({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),m),storageKey:o,autoRefreshToken:e,persistSession:i,detectSessionInUrl:s,storage:a,userStorage:n,flowType:c,lock:l,debug:d,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pn(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,s)=>{this._handleTokenChanged(i,"CLIENT",s?.access_token)})}_handleTokenChanged(e,i,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zr=(r,e,i)=>new al(r,e,i);function nl(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}nl()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Vr=zr("https://skajbbewtntpudminpmr.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrYWpiYmV3dG50cHVkbWlucG1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNDM4ODUsImV4cCI6MjA3ODQwMzg4NX0.7-xxgijtuDmRY6-P0aS2DY43_xVJYBcl0wo60Pa3KIU");function ol(){const{tt:r,lang:e}=W(),i=e==="CN"?"CN":"EN",[s,a]=b.useState(""),[n,o]=b.useState("idle"),[c,l]=b.useState("");async function d(u){if(u.preventDefault(),!!s){o("loading"),l("");try{const{data:m,error:h}=await Vr.from("newsletter_subscriptions").insert([{email:s.toLowerCase().trim(),source:"homepage",preferred_language:i,consent_given:!0}]).select();if(h)if(h.code==="23505")o("success"),l(i==="CN"?"您已订阅我们的简报！":"You are already subscribed!");else throw h;else o("success"),l(i==="CN"?"订阅成功！":"Successfully subscribed!"),a("")}catch(m){console.error("Newsletter subscription error:",m),o("error"),l(i==="CN"?"订阅失败，请稍后重试。":"Subscription failed. Please try again.")}}}return t.jsx("section",{className:"container py-12",children:t.jsxs("div",{className:"card-3d p-6 md:p-8",children:[t.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-2",children:r("newsletter_title")}),t.jsx("p",{className:"text-white/70 mb-4",children:r("newsletter_sub")}),t.jsxs("form",{onSubmit:d,className:"flex flex-col sm:flex-row gap-3",children:[t.jsx("input",{type:"email",required:!0,value:s,onChange:u=>a(u.target.value),disabled:n==="loading",placeholder:r("newsletter_placeholder"),className:"flex-1 rounded-lg bg-black/20 backdrop-blur-md border border-white/10 px-3 py-2 outline-none focus:border-gold/50 disabled:opacity-50"}),t.jsx(se,{onClick:d,disabled:n==="loading",size:"md",children:n==="loading"?i==="CN"?"订阅中...":"Subscribing...":r("newsletter_button")})]}),n==="success"&&t.jsx("div",{className:"text-green-300/90 mt-3",children:c}),n==="error"&&t.jsx("div",{className:"text-red-300/90 mt-3",children:c})]})})}function qe({className:r=""}){return t.jsx("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:r,"aria-hidden":"true",children:t.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})}function ll({score:r=5,size:e="w-4 h-4",showNumber:i=!0}){const s=Math.max(0,Math.min(100,r/5*100)),a=({colorClass:n})=>t.jsxs("div",{className:"flex gap-1",children:[t.jsx(qe,{className:`${e} ${n}`}),t.jsx(qe,{className:`${e} ${n}`}),t.jsx(qe,{className:`${e} ${n}`}),t.jsx(qe,{className:`${e} ${n}`}),t.jsx(qe,{className:`${e} ${n}`})]});return t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("div",{className:"relative inline-block","aria-label":`${r.toFixed(1)} out of 5 stars`,children:[t.jsx(a,{colorClass:"text-white/25"}),t.jsx("div",{className:"absolute top-0 left-0 h-full overflow-hidden",style:{width:s+"%"},children:t.jsx(a,{colorClass:"text-gold"})})]}),i?t.jsxs("span",{className:"text-white/80 text-sm font-medium",children:[r.toFixed(1),t.jsx("span",{className:"text-white/50 text-xs",children:"/5"})]}):null]})}const cl=[{name:"Joshua Wu",area:"Cheras",score:4.9},{name:"Wei Ling",area:"Petaling Jaya",score:4.8},{name:"Steve Ma",area:"Puchong",score:5},{name:"Alicia Wong",area:"Shah Alam",score:4.7},{name:"Victor Thang",area:"Subang Jaya",score:4.9},{name:"Jin Yee",area:"Kepong",score:4.8}];function dl(){const{lang:r,t:e}=W(),i=r==="EN"?"What Our Client's Says About Us":"客户对我们的评价",s=e("review_texts"),a=["After aligning my yearly rhythm and industry path, cash flow finally smoothed out. Feng Shui + timing is powerful!","The report is detailed, and they even corrected my True Solar Time — timelines match what actually happened. Worth it!","Office layout tweaks boosted the team state and deal speed. Highly recommended!"],n=["老师把我的流年节奏与行业路径对上号后，现金流真的顺起来了。风水+时运很强！","报告很细，还帮我修正真太阳时，时间线与实际很吻合，值得！","办公室布局调整后，团队状态与签单速度明显提升，推荐！"],o=Array.isArray(s)?s:r==="EN"?a:n,c=l=>o[l%o.length];return t.jsxs("section",{id:"reviews",className:"py-12",children:[t.jsx(F,{title:i}),t.jsx("div",{className:"container grid sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-6",children:cl.map((l,d)=>t.jsxs("article",{className:"card-3d p-5 rounded-xl",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("div",{className:"font-semibold text-white/90",children:l.name}),t.jsx("div",{className:"text-xs text-white/50",children:l.area})]}),t.jsx(ll,{score:l.score}),t.jsx("p",{className:"text-white/80 text-sm leading-relaxed mt-3",children:c(d)})]},d))})]})}function $t({title:r,lines:e,href:i,cta:s}){return t.jsxs("article",{className:"card-3d p-6 md:p-7 rounded-xl flex flex-col",children:[t.jsx("h4",{className:"text-xl font-semibold text-gold mb-3",children:r}),t.jsx("ul",{className:"text-sm text-white/85 leading-relaxed space-y-1.5 flex-1",children:e.map((a,n)=>t.jsxs("li",{children:["• ",a]},n))}),t.jsx(se,{to:i,size:"md",className:"mt-5",children:s})]})}function ul(){const{t:r,lang:e}=W(),i=r("vip.section_title")||(e==="EN"?"VIP Holistic Destiny Analysis Service":"VIP 全息命理分析服务"),s=r("vip.cta")||(e==="EN"?"Learn More":"了解更多"),a=r("vip.tiers.lite_title")||(e==="EN"?"Essential Destiny Blueprint":"命运蓝图·启程版"),n=r("vip.tiers.pro_title")||(e==="EN"?"Advanced Destiny Blueprint":"天机剖象·进阶版"),o=r("vip.tiers.supreme_title")||(e==="EN"?"Supreme Destiny Blueprint":"乾坤至尊·全息版"),c=Array.isArray(r("vip.tiers.lite_points"))?r("vip.tiers.lite_points"):e==="EN"?["100+ page personalised destiny blueprint","Talent & potential analysis","Career & industry alignment roadmap","Wealth dynamics & management guidance","10-year Luck Cycle insights","Life numerology decoding","Actionable adjustments to balance weaknesses"]:["100+ 页个人命运蓝图","天赋潜能深度解析","职业定位与行业适配建议","财富模式诊断与优化","十年大运节奏分析","生命数字命理解析","针对短板的实用调整方案"],l=Array.isArray(r("vip.tiers.pro_points"))?r("vip.tiers.pro_points"):e==="EN"?["200+ page destiny mastery blueprint","Complete career and industry resonance mapping","Wealth structure diagnostics and risk alerts","10-year Luck Phases with transition strategies","Numerology overlays for behavioural refinement","Energy field analysis across health, relationships and productivity","Name vibration audit with optimisation guidance","Timing-based action plan and practical remedies"]:["200+ 页命运深度蓝图","事业领域与行业共振定位","财富结构诊断与风险预警","十年大运转折与策略建议","生命数字交叉解析","健康、人际、效率的能量场分析","姓名能量共振评估与优化建议","结合时机的行动与化解方案"],d=Array.isArray(r("vip.tiers.supreme_points"))?r("vip.tiers.supreme_points"):e==="EN"?["300+ page full-holographic destiny command deck","Integrated destiny, numerology, name energy and Feng Shui intelligence","Wealth architecture with capital, legacy and stewardship strategies","10-year & annual timing roadmap with activation protocols","Energy field diagnostics with advanced balancing remedies","Name resonance optimisation with strategic renaming paths","Residential Feng Shui assessment and spatial harmonisation plan","Custom action programme aligning timing, space and energy"]:["300+ 页命运全息蓝图","命理、数字、姓名能量与住宅风水全整合","财富结构与传承部署策略","十年与流年节奏导航及启动力度","个人能量场诊断与高阶平衡方案","姓名能量优化与改名路径","住宅风水评估与空间共振规划","同步时间·空间·能量的专属行动计划"];return t.jsxs("section",{id:"vip-tiers",className:"py-12",children:[t.jsx(F,{title:i}),t.jsxs("div",{className:"container grid md:grid-cols-3 gap-6 mt-6",children:[t.jsx($t,{title:a,lines:c,href:"/vip-report/essential",cta:s}),t.jsx($t,{title:n,lines:l,href:"/vip-report/pro",cta:s}),t.jsx($t,{title:o,lines:d,href:"/vip-report/supreme",cta:s})]})]})}function hl(){const{lang:r}=W(),e=r==="EN"?"Metaphysics Alliance":"玄域联盟",i=r==="EN"?"Newsletter Signup":"订阅资讯",s=r==="EN"?"Frequently Asked Questions":"常见问题",a=r==="EN"?"Our HQ":"我们的总部";return t.jsxs("main",{children:[t.jsx(Wa,{}),t.jsx(F,{title:e,subtitle:r==="EN"?"Full-spectrum metaphysics consulting":"全谱系玄学咨询"}),t.jsx(Ma,{}),t.jsx(ul,{}),t.jsx(dl,{}),t.jsx(F,{title:i}),t.jsx(ol,{}),t.jsx(F,{title:s}),t.jsx(xr,{}),t.jsx(F,{title:a}),t.jsx(jr,{})]})}function Pe({value:r,onChange:e,items:i,placeholder:s,className:a="",disabled:n=!1}){const[o,c]=b.useState(!1),l=b.useRef(null),d=b.useRef(null),u=b.useRef(null),[m,h]=b.useState({});b.useEffect(()=>{const g=y=>{const f=y.target,v=l.current&&l.current.contains(f),k=u.current&&u.current.contains(f);!v&&!k&&c(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]),b.useEffect(()=>{function g(){if(!d.current)return;const y=d.current.getBoundingClientRect();h({position:"fixed",top:Math.round(y.bottom+6),left:Math.round(y.left),width:Math.round(y.width),zIndex:50})}if(o)return g(),window.addEventListener("scroll",g,!0),window.addEventListener("resize",g),()=>{window.removeEventListener("scroll",g,!0),window.removeEventListener("resize",g)}},[o]);const p=b.useMemo(()=>{const g=i.find(y=>y.type==="option"&&y.value===r);return g&&g.label||s||""},[i,r,s]);return t.jsxs("div",{ref:l,className:`relative ${a}`,children:[t.jsxs("button",{ref:d,type:"button","aria-haspopup":"listbox","aria-expanded":o,onClick:()=>{n||c(g=>!g)},disabled:n,className:`w-full appearance-none rounded-lg border border-white/15 bg-white/5 px-3 py-2 pr-10 text-left text-white focus:border-gold/40 focus:outline-none focus:ring-2 focus:ring-gold/40 ${n?"opacity-50 cursor-not-allowed":""}`,children:[t.jsx("span",{children:p}),t.jsx("span",{className:"pointer-events-none absolute inset-y-0 right-3 flex items-center text-white/60",children:"▾"})]}),o?ps.createPortal(t.jsx("div",{ref:u,style:m,children:t.jsx("div",{className:"overflow-hidden rounded-lg border border-white/10 bg-black/90 shadow-xl backdrop-blur-md",children:t.jsx("ul",{role:"listbox",className:"max-h-64 overflow-auto py-1",children:i.map((g,y)=>g.type==="heading"?t.jsx("li",{className:"px-3 py-1.5 text-xs uppercase tracking-wide text-white/50",children:g.label},`h-${y}`):t.jsx("li",{role:"option","aria-selected":r===g.value,tabIndex:0,onClick:()=>{g.value&&(e(g.value),c(!1))},onKeyDown:f=>{(f.key==="Enter"||f.key===" ")&&g.value&&(e(g.value),c(!1))},className:`cursor-pointer px-3 py-2 text-sm text-white hover:bg-white/10 ${r===g.value?"bg-white/10":""}`,children:g.label},g.value))})})}),document.body):null]})}function ml(){const{lang:r}=W(),e={name:"",email:"",phoneCode:"+60",phone:"",companyRole:"",country:"MY",malaysiaState:"",topic:"Sales",budget:"",timeline:"Immediate",message:"",consent:!1,hp:""},[i,s]=b.useState(e),[a,n]=b.useState(!1),[o,c]=b.useState(null),[l,d]=b.useState(null),u=b.useMemo(()=>({name:r==="CN"?"姓名*":"Full name*",email:r==="CN"?"邮箱*":"Email*",phone:r==="CN"?"电话（国家码 + 号码）":"Phone (country code + number)",company:r==="CN"?"公司 / 职位":"Company / Role",country:r==="CN"?"国家/地区":"Country/Region",state:r==="CN"?"选择州属（仅限马来西亚）":"State (Malaysia Only)",topic:r==="CN"?"主题":"Topic",budget:r==="CN"?"预算（可选）":"Budget (optional)",timeline:r==="CN"?"时间线":"Timeline",message:r==="CN"?"留言*":"Message*",consent:r==="CN"?"我同意按照隐私政策处理数据*":"I consent to data processing per privacy policy*",submit:r==="CN"?"提交":"Submit",successTitle:r==="CN"?"已收到您的咨询":"Thanks — we’ve received your inquiry",successBody:r==="CN"?"我们已生成案件编号并发送确认邮件。后续会在1个工作日内联系您。":"We’ve generated a case ID and sent an auto‑reply. We’ll follow up within 1 business day."}),[r]),m=E[r],h=b.useMemo(()=>{const N=[];N.push({type:"heading",label:r==="CN"?"常规":"General"}),N.push({type:"option",label:r==="CN"?"销售/咨询":"Sales",value:"Sales"}),N.push({type:"option",label:r==="CN"?"合作":"Partnership",value:"Partnership"}),N.push({type:"option",label:r==="CN"?"媒体":"Media",value:"Media"}),N.push({type:"option",label:r==="CN"?"其他":"Other",value:"Other"});const w=m?.nav?.celestial_groups||[];for(const Y of w)if(!(!Y||!Y.title||!Array.isArray(Y.items))){N.push({type:"heading",label:Y.title});for(const Fe of Y.items)Fe?.title&&N.push({type:"option",label:Fe.title,value:Fe.title})}const T=m?.nav||{},O=[T.vip_report,T.vip_essential,T.vip_advanced,T.vip_supreme].filter(Boolean);if(O.length){N.push({type:"heading",label:"VIP"});for(const Y of O)N.push({type:"option",label:String(Y),value:String(Y)})}const _=T.enterprise||(r==="CN"?"企业咨询":"Enterprise"),$=[T.enterprise,T.audit,T.site,T.cycles].filter(Boolean);if($.length){N.push({type:"heading",label:String(_)});for(const Y of $)N.push({type:"option",label:String(Y),value:String(Y)})}N.push({type:"heading",label:r==="CN"?"学院课程":"Academy Courses"});const q=m?.nav||{},te=[q.courses,q.foundation,q.beginner,q.advanced||"Advanced",q.pro].filter(Boolean);for(const Y of te)N.push({type:"option",label:String(Y),value:String(Y)});return N},[m,r]);b.useEffect(()=>{try{const N=navigator.language||"";if(N&&!i.country){const w=N.split("-")[1];w&&s(T=>({...T,country:w}))}}catch{}},[]),b.useEffect(()=>{try{i.country!=="MY"&&i.malaysiaState&&s(N=>({...N,malaysiaState:""}))}catch{}},[i.country]);const p=N=>{const{name:w,value:T,type:O,checked:_}=N.target;s($=>({...$,[w]:O==="checkbox"?!!_:T}))},g=void 0,y=void 0,f=void 0,[v,k]=b.useState(null),x=b.useRef(null);b.useEffect(()=>{},[y]),b.useEffect(()=>{},[f]);const C=()=>{const N=Date.now().toString(36).toUpperCase(),w=Math.random().toString(36).slice(2,6).toUpperCase();return`MA-${N}-${w}`},A=()=>{try{const N="contact:lastSubmit",w=parseInt(localStorage.getItem(N)||"0",10),T=Date.now();return T-w<6e4?!0:(localStorage.setItem(N,String(T)),!1)}catch{return!1}},j=async N=>{if(N.preventDefault(),d(null),A()){d(r==="CN"?"请稍后再试（限流保护）":"Please try again shortly (rate limited)");return}if(i.hp){d("");return}if(!i.name||!i.email||!i.message||!i.consent){d(r==="CN"?"请填写必填项并勾选同意":"Please complete required fields and consent");return}const w=C(),T="sales@meta-alliance.my",O=`[${w}] ${i.topic} Inquiry — ${i.name}`,_={...i,id:w,locale:r,phone:`${i.phoneCode} ${i.phone}`.trim(),to:T,from:i.email,fromEmail:i.email,replyTo:i.email,subject:O};try{y&&window.grecaptcha?.execute}catch{}try{n(!0);const{data:$,error:q}=await Vr.from("contact_enquiries").insert([{case_id:w,full_name:i.name,email:i.email.toLowerCase().trim(),phone_code:i.phoneCode,phone:i.phone,company_role:i.companyRole,country:i.country,malaysia_state:i.malaysiaState,topic:i.topic,budget:i.budget,timeline:i.timeline,message:i.message,consent_given:i.consent,recaptcha_token:_.recaptchaToken,turnstile_token:_.turnstileToken,preferred_language:r,source_url:window.location.href,user_agent:navigator.userAgent}]).select().single();q?console.error("Database save error:",q):console.log("Enquiry saved to database:",$);const te=g||"/api/contact";if(te)try{(await fetch(te,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).ok||console.warn("Email notification failed (but enquiry is saved to database)")}catch(Y){console.warn("Email notification failed (but enquiry is saved to database):",Y)}c({id:w})}catch($){d((r==="CN"?"提交失败：":"Submission failed: ")+($?.message||"Unknown error"))}finally{n(!1)}},S=()=>{c(null),s(e)};return t.jsxs("form",{onSubmit:j,className:"grid gap-4 relative",children:[o?t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:t.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-white/10 bg-black/80 p-6 text-white shadow-2xl backdrop-blur-md relative",children:[t.jsx("button",{type:"button","aria-label":r==="CN"?"关闭":"Close",onClick:S,className:"absolute right-3 top-3 rounded-md bg-white/10 px-2 py-1 text-white hover:bg-white/20",children:"×"}),t.jsx("div",{className:"text-xl font-semibold",children:u.successTitle}),t.jsx("div",{className:"mt-2 text-white/80 text-sm",children:r==="CN"?"谢谢您的联系！我们已收到您的咨询并生成案件编号。顾问会在1个工作日内（通常更快）回复您。如需加急，请在留言中补充关键信息，以便我们优先处理。":"Thanks for reaching out. Your inquiry is received and assigned a case ID. A specialist will review and reply within one business day (often sooner). If it’s time‑sensitive, include any critical context so we can prioritise and guide you to the fastest, safest next step."}),t.jsxs("div",{className:"mt-3 text-white/70 text-sm",children:["Case ID: ",t.jsx("span",{className:"font-mono",children:o.id})]}),t.jsx("div",{className:"mt-5 text-right",children:t.jsx("button",{type:"button",onClick:S,className:"inline-flex items-center rounded-lg bg-gold px-4 py-2 text-sm font-medium text-black hover:bg-gold-soft",children:r==="CN"?"关闭窗口":"Close Window"})})]})}):null,t.jsx("input",{type:"text",name:"hp",value:i.hp,onChange:p,className:"hidden",tabIndex:-1,autoComplete:"off"}),t.jsx("div",{ref:x,style:{display:"none"}}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.name}),t.jsx("input",{name:"name",value:i.name,onChange:p,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:r==="CN"?"张三":"Jane Doe"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.email}),t.jsx("input",{type:"email",name:"email",value:i.email,onChange:p,required:!0,className:"w-full rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:"name@example.com"})]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.phone}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"w-40 shrink-0",children:t.jsx(Pe,{value:i.phoneCode,onChange:N=>s(w=>({...w,phoneCode:N})),items:[{type:"heading",label:"Asia"},{type:"option",label:"Malaysia (+60)",value:"+60"},{type:"option",label:"Singapore (+65)",value:"+65"},{type:"option",label:"Hong Kong (+852)",value:"+852"},{type:"option",label:"Macau (+853)",value:"+853"},{type:"option",label:"China (+86)",value:"+86"},{type:"option",label:"Japan (+81)",value:"+81"},{type:"option",label:"South Korea (+82)",value:"+82"},{type:"option",label:"Thailand (+66)",value:"+66"},{type:"option",label:"Vietnam (+84)",value:"+84"},{type:"option",label:"Indonesia (+62)",value:"+62"},{type:"option",label:"Philippines (+63)",value:"+63"},{type:"option",label:"Laos (+856)",value:"+856"},{type:"option",label:"Cambodia (+855)",value:"+855"},{type:"option",label:"Myanmar (+95)",value:"+95"},{type:"option",label:"Brunei (+673)",value:"+673"},{type:"option",label:"India (+91)",value:"+91"},{type:"option",label:"Pakistan (+92)",value:"+92"},{type:"option",label:"Bangladesh (+880)",value:"+880"},{type:"option",label:"Sri Lanka (+94)",value:"+94"},{type:"option",label:"Nepal (+977)",value:"+977"},{type:"option",label:"Maldives (+960)",value:"+960"},{type:"heading",label:"Rest of World"},{type:"option",label:"USA/Canada (+1)",value:"+1"},{type:"option",label:"UK (+44)",value:"+44"},{type:"option",label:"Australia (+61)",value:"+61"},{type:"option",label:"New Zealand (+64)",value:"+64"},{type:"option",label:"Germany (+49)",value:"+49"},{type:"option",label:"France (+33)",value:"+33"},{type:"option",label:"Italy (+39)",value:"+39"},{type:"option",label:"Spain (+34)",value:"+34"},{type:"option",label:"Switzerland (+41)",value:"+41"},{type:"option",label:"UAE (+971)",value:"+971"}]})}),t.jsxs("select",{name:"phoneCode",value:i.phoneCode,onChange:p,className:"hidden",children:[t.jsx("option",{value:"+60",children:"Malaysia (+60)"}),t.jsx("option",{value:"+65",children:"Singapore (+65)"}),t.jsx("option",{value:"+852",children:"Hong Kong (+852)"}),t.jsx("option",{value:"+853",children:"Macau (+853)"}),t.jsx("option",{value:"+86",children:"China (+86)"}),t.jsx("option",{value:"+81",children:"Japan (+81)"}),t.jsx("option",{value:"+82",children:"South Korea (+82)"}),t.jsx("option",{value:"+66",children:"Thailand (+66)"}),t.jsx("option",{value:"+84",children:"Vietnam (+84)"}),t.jsx("option",{value:"+62",children:"Indonesia (+62)"}),t.jsx("option",{value:"+63",children:"Philippines (+63)"}),t.jsx("option",{value:"+856",children:"Laos (+856)"}),t.jsx("option",{value:"+855",children:"Cambodia (+855)"}),t.jsx("option",{value:"+95",children:"Myanmar (+95)"}),t.jsx("option",{value:"+673",children:"Brunei (+673)"}),t.jsx("option",{value:"+91",children:"India (+91)"}),t.jsx("option",{value:"+92",children:"Pakistan (+92)"}),t.jsx("option",{value:"+880",children:"Bangladesh (+880)"}),t.jsx("option",{value:"+94",children:"Sri Lanka (+94)"}),t.jsx("option",{value:"+977",children:"Nepal (+977)"}),t.jsx("option",{value:"+960",children:"Maldives (+960)"}),t.jsx("option",{value:"+1",children:"USA/Canada (+1)"}),t.jsx("option",{value:"+44",children:"UK (+44)"}),t.jsx("option",{value:"+61",children:"Australia (+61)"}),t.jsx("option",{value:"+64",children:"New Zealand (+64)"}),t.jsx("option",{value:"+49",children:"Germany (+49)"}),t.jsx("option",{value:"+33",children:"France (+33)"}),t.jsx("option",{value:"+39",children:"Italy (+39)"}),t.jsx("option",{value:"+34",children:"Spain (+34)"}),t.jsx("option",{value:"+41",children:"Switzerland (+41)"}),t.jsx("option",{value:"+971",children:"UAE (+971)"})]}),t.jsx("input",{name:"phone",value:i.phone,onChange:p,className:"w-full rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:r==="CN"?"电话号码":"Phone number"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.company}),t.jsx("input",{name:"companyRole",value:i.companyRole,onChange:p,className:"w-full rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:r==="CN"?"公司名 / 职位":"Company / Role"})]})]}),t.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 md:grid-cols-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.country}),t.jsx(Pe,{value:i.country,onChange:N=>s(w=>({...w,country:N})),items:[{type:"heading",label:r==="CN"?"马来西亚":"Malaysia"},{type:"option",label:r==="CN"?"马来西亚":"Malaysia",value:"MY"},{type:"heading",label:r==="CN"?"亚洲":"Asia"},{type:"option",label:r==="CN"?"新加坡":"Singapore",value:"SG"},{type:"option",label:r==="CN"?"香港":"Hong Kong",value:"HK"},{type:"option",label:r==="CN"?"澳门":"Macau",value:"MO"},{type:"option",label:r==="CN"?"中国":"China",value:"CN"},{type:"option",label:r==="CN"?"日本":"Japan",value:"JP"},{type:"option",label:r==="CN"?"韩国":"South Korea",value:"KR"},{type:"option",label:r==="CN"?"泰国":"Thailand",value:"TH"},{type:"option",label:r==="CN"?"越南":"Vietnam",value:"VN"},{type:"option",label:r==="CN"?"印度尼西亚":"Indonesia",value:"ID"},{type:"option",label:r==="CN"?"菲律宾":"Philippines",value:"PH"},{type:"option",label:r==="CN"?"老挝":"Laos",value:"LA"},{type:"option",label:r==="CN"?"柬埔寨":"Cambodia",value:"KH"},{type:"option",label:r==="CN"?"缅甸":"Myanmar",value:"MM"},{type:"option",label:r==="CN"?"文莱":"Brunei",value:"BN"},{type:"option",label:r==="CN"?"印度":"India",value:"IN"},{type:"option",label:r==="CN"?"巴基斯坦":"Pakistan",value:"PK"},{type:"option",label:r==="CN"?"孟加拉国":"Bangladesh",value:"BD"},{type:"option",label:r==="CN"?"斯里兰卡":"Sri Lanka",value:"LK"},{type:"option",label:r==="CN"?"尼泊尔":"Nepal",value:"NP"},{type:"option",label:r==="CN"?"马尔代夫":"Maldives",value:"MV"},{type:"option",label:r==="CN"?"阿联酋":"United Arab Emirates",value:"AE"},{type:"heading",label:r==="CN"?"世界其他地区":"Rest of World"},{type:"option",label:r==="CN"?"美国":"United States",value:"US"},{type:"option",label:r==="CN"?"加拿大":"Canada",value:"CA"},{type:"option",label:r==="CN"?"英国":"United Kingdom",value:"GB"},{type:"option",label:r==="CN"?"澳大利亚":"Australia",value:"AU"},{type:"option",label:r==="CN"?"新西兰":"New Zealand",value:"NZ"},{type:"option",label:r==="CN"?"德国":"Germany",value:"DE"},{type:"option",label:r==="CN"?"法国":"France",value:"FR"},{type:"option",label:r==="CN"?"意大利":"Italy",value:"IT"},{type:"option",label:r==="CN"?"西班牙":"Spain",value:"ES"},{type:"option",label:r==="CN"?"瑞士":"Switzerland",value:"CH"},{type:"option",label:r==="CN"?"沙特阿拉伯":"Saudi Arabia",value:"SA"},{type:"option",label:r==="CN"?"卡塔尔":"Qatar",value:"QA"},{type:"option",label:r==="CN"?"科威特":"Kuwait",value:"KW"},{type:"option",label:r==="CN"?"阿曼":"Oman",value:"OM"},{type:"option",label:r==="CN"?"巴林":"Bahrain",value:"BH"}]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.state}),t.jsx(Pe,{value:i.malaysiaState||"",onChange:N=>s(w=>({...w,malaysiaState:N})),disabled:i.country!=="MY",placeholder:r==="CN"?"请选择州属":"Select state",items:[{type:"option",label:r==="CN"?"柔佛":"Johor",value:"Johor"},{type:"option",label:r==="CN"?"吉打":"Kedah",value:"Kedah"},{type:"option",label:r==="CN"?"吉兰丹":"Kelantan",value:"Kelantan"},{type:"option",label:r==="CN"?"马六甲":"Melaka",value:"Melaka"},{type:"option",label:r==="CN"?"森美兰":"Negeri Sembilan",value:"Negeri Sembilan"},{type:"option",label:r==="CN"?"彭亨":"Pahang",value:"Pahang"},{type:"option",label:r==="CN"?"霹雳":"Perak",value:"Perak"},{type:"option",label:r==="CN"?"玻璃市":"Perlis",value:"Perlis"},{type:"option",label:r==="CN"?"槟城（槟榔屿）":"Penang (Pulau Pinang)",value:"Penang (Pulau Pinang)"},{type:"option",label:r==="CN"?"沙巴":"Sabah",value:"Sabah"},{type:"option",label:r==="CN"?"砂拉越":"Sarawak",value:"Sarawak"},{type:"option",label:r==="CN"?"雪兰莪":"Selangor",value:"Selangor"},{type:"option",label:r==="CN"?"登嘉楼":"Terengganu",value:"Terengganu"},{type:"option",label:r==="CN"?"吉隆坡":"Kuala Lumpur",value:"Kuala Lumpur"},{type:"option",label:r==="CN"?"纳闽":"Labuan",value:"Labuan"},{type:"option",label:r==="CN"?"布城":"Putrajaya",value:"Putrajaya"}]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.topic}),t.jsx(Pe,{value:i.topic,onChange:N=>s(w=>({...w,topic:N})),items:h})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.budget}),t.jsx(Pe,{value:i.budget,onChange:N=>s(w=>({...w,budget:N})),items:[{type:"option",label:r==="CN"?"未指定":"Not specified",value:""},{type:"option",label:"< RM 1k",value:"<1k"},{type:"option",label:"RM 1-5k",value:"1-5k"},{type:"option",label:"RM 5-15k",value:"5-15k"},{type:"option",label:r==="CN"?"RM 15k 以上":"RM 15k+",value:">15k"}]})]})]}),t.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.timeline}),t.jsx(Pe,{value:i.timeline,onChange:N=>s(w=>({...w,timeline:N})),items:[{type:"option",label:r==="CN"?"立即":"Immediate",value:"Immediate"},{type:"option",label:r==="CN"?"1-3 个月":"1-3 months",value:"1-3 months"},{type:"option",label:r==="CN"?"3-6 个月":"3-6 months",value:"3-6 months"}]})]})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm text-white/80 mb-1",children:u.message}),t.jsx("textarea",{name:"message",value:i.message,onChange:p,required:!0,rows:5,className:"w-full rounded-lg border border-white/15 bg-white/5 px-3 py-2 text-white placeholder-white/40",placeholder:r==="CN"?"请告诉我们您的需求、预算与时间期望…":"Tell us about your goals, budget and timing…"})]}),t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx("input",{id:"consent",name:"consent",type:"checkbox",checked:i.consent,onChange:p,required:!0,className:"mt-1"}),t.jsx("label",{htmlFor:"consent",className:"text-sm text-white/80",children:u.consent})]}),l?t.jsx("div",{className:"rounded-md bg-red-500/10 px-3 py-2 text-sm text-red-300",children:l}):null,t.jsx("div",{children:t.jsx("button",{type:"submit",disabled:a,className:"inline-flex items-center rounded-lg bg-gold px-5 py-2.5 text-sm font-medium text-black transition hover:bg-gold-soft disabled:opacity-60",children:a?r==="CN"?"提交中…":"Submitting…":u.submit})})]})}function pl(r){return B({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(r)}function Kr(r){return B({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(r)}function gl(r){return B({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(r)}function fl(r){return B({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(r)}function yl(){const{lang:r}=W(),e=r==="CN"?"联系我们":"Contact Our Professionals",i=r==="CN"?"我们如何帮助您达成目标":"Real guidance. Fast reply. No bots.",s=r==="CN"?"请告诉我们您的目标、背景与限制，我们将把需求转化为清晰可执行的下一步，给出现实可行的时间表、选项与投入评估。我们以八字、紫微、奇门、风水与数字命理交叉印证，过滤噪声，聚焦能推动结果的行动。您将收到含优先级、风险与行动时点的简要方案。我们通常在1个工作日内回复；如有紧急期限，请说明，我们会酌情尽力提前安排。":"Tell us your goals, context, and constraints, and we’ll translate them into clear next steps with realistic timelines, options, and estimated effort. We cross‑validate insights across BaZi, Zi Wei, Qi Men, Feng Shui, and numerology to reduce noise and focus on actions that move results. You’ll receive a brief plan outlining priorities, risks, and when to act. We typically reply within one business day. If urgent, mention your deadline and we’ll try to secure an earlier slot, subject to availability.",a="sales@meta-alliance.my",n="support@meta-alliance.my",o="press@meta-alliance.my",c="+60 16-587 3141",l="6016-5873141";return t.jsxs("div",{className:"container my-8 space-y-10",children:[t.jsx(Se,{title:e,sub:i,description:s,showDefaultCta:!1}),t.jsx(F,{title:r==="CN"?"主要联系":"Primary Contacts"}),t.jsx("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[{key:"sales",title:r==="CN"?"销售与咨询":"Sales",lines:[a,`${r==="CN"?"电话/WhatsApp":"Phone/WhatsApp"}: ${c}`],cta:r==="CN"?"邮件联系销售":"Email Sales",href:`mailto:${a}`},{key:"support",title:r==="CN"?"客户支持":"Support",lines:[n],cta:r==="CN"?"联系支持":"Contact Support",href:`mailto:${n}`},{key:"media",title:r==="CN"?"合作 / 媒体":"Partnerships / Media",lines:[o,`${r==="CN"?"媒体合作":"Media"}: ${l}`],cta:r==="CN"?"媒体联系":"Media Enquiries",href:`mailto:${o}`}].map(d=>t.jsxs("article",{className:"card-3d p-5 flex h-full flex-col",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:d.title}),t.jsx("div",{className:"mt-2 space-y-1 text-sm text-white/75",children:d.lines.map((u,m)=>t.jsx("div",{children:u},m))}),t.jsx("div",{className:"mt-auto pt-4",children:t.jsx("a",{href:d.href,className:"inline-flex items-center rounded-lg bg-gold px-4 py-2 text-sm font-medium text-black transition hover:bg-gold-soft",children:d.cta})})]},d.key))}),t.jsx(F,{title:r==="CN"?"咨询表单":"Inquiry Form"}),t.jsxs("section",{className:"grid gap-6 md:grid-cols-[minmax(0,1fr)_minmax(280px,360px)]",children:[t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-black/25 p-6 backdrop-blur-md",children:[t.jsx("p",{className:"mb-4 text-white/70 text-sm",children:r==="CN"?"请尽量详细填写，我们将为您匹配合适方案。":"Share a few details and we’ll propose the best next step."}),t.jsx(ml,{})]}),t.jsx("aside",{className:"space-y-4",children:t.jsxs("div",{className:"card-3d p-5 flex h-full flex-col",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:r==="CN"?"即时沟通":"Live Chat & Social"}),t.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-white/75",children:[t.jsx("li",{children:t.jsxs("a",{href:`https://wa.me/${l.replace(/[^\d]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 underline hover:text-white",children:[t.jsx(fl,{className:"text-green-500"})," WhatsApp"]})}),t.jsx("li",{children:t.jsxs("a",{href:"https://www.instagram.com/metaphysics.alliance/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 underline hover:text-white",children:[t.jsx(gl,{className:"text-pink-500"})," Instagram"]})}),t.jsx("li",{children:t.jsxs("a",{href:"https://www.facebook.com/MetaphysicsAlliance/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 underline hover:text-white",children:[t.jsx(Kr,{className:"text-blue-500"})," Facebook"]})}),t.jsx("li",{children:t.jsxs("a",{href:"https://www.tiktok.com/@metaphysicsalliance",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 underline hover:text-white",children:[t.jsx(gr,{className:"text-white"})," TikTok"]})}),t.jsx("li",{children:t.jsxs("a",{href:"https://www.threads.com/@metaphysics.alliance?hl=en",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 underline hover:text-white",children:[t.jsx(Ds,{className:"text-white"})," Threads"]})}),t.jsx("li",{children:t.jsxs("a",{className:"flex items-center gap-2 underline hover:text-white",href:`mailto:${a}`,children:[t.jsx(Je,{className:"text-white/80"})," ",r==="CN"?"邮件":"Email"]})}),t.jsx("li",{children:t.jsxs(R,{className:"flex items-center gap-2 underline hover:text-white",to:"/resources",children:[t.jsx(ta,{className:"text-white/80"})," ",r==="CN"?"资源":"Resources"]})})]})]})})]}),t.jsx(F,{title:r==="CN"?"我们的总部":"Our HQ"}),t.jsx(jr,{}),t.jsx(F,{title:r==="CN"?"区域联系":"Regional Contacts"}),t.jsx("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[{k:"sea",t:r==="CN"?"东南亚":"SEA",e:a},{k:"apac",t:"APAC",e:a},{k:"global",t:r==="CN"?"全球":"Global",e:o}].map(({k:d,t:u,e:m})=>t.jsxs("article",{className:"card-3d p-5 flex h-full flex-col",children:[t.jsx("div",{className:"text-white font-medium",children:u}),t.jsx("div",{className:"mt-1 text-sm text-white/75",children:m})]},d))}),t.jsx(F,{title:r==="CN"?"常见问题":"FAQ"}),t.jsx(xr,{}),t.jsxs("section",{className:"rounded-2xl border border-white/10 bg-black/25 p-5 text-sm text-white/70 backdrop-blur-md",children:[t.jsx("div",{children:r==="CN"?"个人信息将用于回应您的咨询，我们会在必要期间内保存。提交即表示您同意我们的数据使用与隐私政策。":"We use your data to respond to your inquiry and retain it only as necessary. By submitting, you agree to our data use and privacy policy."}),t.jsxs("div",{className:"mt-2 space-x-4",children:[t.jsx(R,{to:"/legal/privacy",className:"underline hover:text-white",children:r==="CN"?"隐私政策":"Privacy Policy"}),t.jsx(R,{to:"/legal/terms",className:"underline hover:text-white",children:r==="CN"?"服务条款":"Terms"})]})]})]})}function bl(){const{lang:r}=W(),e=E?.[r]||E?.EN||{},i=Array.isArray(e?.nav?.celestial_groups)?e.nav.celestial_groups:[];return t.jsxs("main",{className:"container mx-auto max-w-6xl space-y-10 px-4 py-10",children:[t.jsx(vl,{lang:r,title:e.nav?.celestial||"Services",description:(e.why_long||"").slice(0,160)}),t.jsx(Se,{title:e.nav?.celestial||"Celestial Services",description:e.why_long}),i.map((s,a)=>t.jsxs("section",{className:"space-y-4",children:[t.jsx(F,{title:s.title||(r==="CN"?"服务模块":"Service Group")}),t.jsx("div",{className:"grid gap-5 md:grid-cols-3",children:Array.isArray(s.items)&&s.items.map((n,o)=>t.jsxs(R,{to:n.href||"#",className:"block rounded-2xl border border-white/10 bg-black/30 p-0 backdrop-blur-md transition hover:border-gold/40 hover:bg-black/40",children:[t.jsx("div",{className:"overflow-hidden rounded-t-2xl ring-1 ring-white/10 bg-black/20",children:t.jsx("img",{src:n.thumbnail||"/images/services/placeholder.svg",alt:n.title,className:"w-full h-auto object-contain"})}),t.jsxs("div",{className:"p-5",children:[t.jsx("div",{className:"text-white/95 font-semibold",children:n.title}),n.description?t.jsx("div",{className:"mt-1 text-sm text-white/65",children:n.description}):null]})]},`${a}-${o}-${n.title}`))})]},a))]})}function vl({lang:r,title:e,description:i}){return b.useEffect(()=>{document.title=`${e} | Metaphysics Alliance`;const s=(o,c)=>{if(!c)return;let l=document.querySelector(`meta[name="${o}"]`);l||(l=document.createElement("meta"),l.setAttribute("name",o),document.head.appendChild(l)),l.setAttribute("content",c)},a=(o,c)=>{if(!c)return;let l=document.querySelector(`meta[property="${o}"]`);l||(l=document.createElement("meta"),l.setAttribute("property",o),document.head.appendChild(l)),l.setAttribute("content",c)},n=(o,c)=>{let l=document.querySelector(`link[rel="${o}"]`);l||(l=document.createElement("link"),l.setAttribute("rel",o),document.head.appendChild(l)),l.setAttribute("href",c)};s("description",i),n("canonical",`/${r}/services`),a("og:title",e),a("og:description",i),a("og:image","/images/og-default.jpg")},[r,e,i]),null}function wl({locale:r="EN",pricing:e={}}){const i=b.useMemo(()=>Yr(e.cart,r),[e.cart,r]),s=Array.isArray(e.categories)?e.categories:[],a=Array.isArray(e.addOns)?e.addOns:[],n=Array.isArray(e.finePrint)?e.finePrint:[],o=Array.isArray(e.noticePoints)?e.noticePoints:[],c=Array.isArray(e.heroHighlights)?e.heroHighlights:[],l=Array.isArray(e.objections)?e.objections:[],d="/contact",u="/pricing/checkout",m=r==="CN"?"与顾问沟通":"Talk to a strategist";return t.jsxs("div",{className:"space-y-20 pb-24 text-white",children:[t.jsx(xl,{locale:r,title:e.heroTitle,subtitle:e.heroSubtitle,description:e.heroDescription,highlights:c,primaryHref:u,primaryLabel:i.goToCheckout,secondaryHref:d,secondaryLabel:m}),t.jsxs("section",{className:"container space-y-8",children:[t.jsx(F,{title:e.noticeTitle??(r==="CN"?"每项服务均包含":"Every Engagement Includes")}),t.jsx(jl,{points:o,currencyNote:e.currencyNote})]}),t.jsxs("section",{className:"container space-y-10",id:"catalog",children:[t.jsx(F,{title:r==="CN"?"主力方案目录":"Programme Catalogue",subtitle:r==="CN"?"为不同场景设计的核心服务组合":"Curated stacks for every high-stakes scenario"}),t.jsxs("div",{className:"grid gap-6 xl:grid-cols-2",children:[s.map((h,p)=>h?.title?t.jsx(nr,{locale:r,category:h,cartLabels:i},h.key??`${h.title}-${p}`):null),a.length>0&&t.jsx(nr,{locale:r,category:{key:"retainers",title:e.addOnsTitle??(r==="CN"?"托管与增值":"Retainers & Enhancements"),subtitle:r==="CN"?"持续支援服务":"Ongoing support services",tiers:a.map(h=>({name:h.name,price:h.price,priceSecondary:h.priceSecondary,features:h.features||[h.shortDescription||h.description].filter(Boolean),href:h.href,pricingMeta:h.pricingMeta,shortDescription:h.shortDescription,description:h.description}))},cartLabels:i},"retainers-enhancements")]})]}),l.length?t.jsxs("section",{className:"container space-y-8",children:[t.jsx(F,{title:e.objectionsTitle??(r==="CN"?"我们消除前五大拒绝理由":"Top Five Hesitations and Rejections"),subtitle:e.objectionsSubtitle??(r==="CN"?"常见的「不要」，一次性回应":"Every typical “no” now has a countermeasure")}),t.jsx("div",{className:"grid gap-6 lg:grid-cols-2",children:l.map((h,p)=>t.jsx(kl,{entry:h,locale:r},h?.key??`objection-${p}`))})]}):null,n.length?t.jsxs("section",{className:"container space-y-5",children:[t.jsx(F,{title:r==="CN"?"重要说明":"Fine Print"}),t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#0b1129] p-6",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_bottom_right,rgba(86,122,255,0.2),transparent_70%)] opacity-80"}),t.jsx("ul",{className:"space-y-3 text-sm text-white/75",children:n.map((h,p)=>t.jsxs("li",{className:"flex gap-3",children:[t.jsx(ai,{className:"mt-0.5 h-4 w-4 flex-shrink-0 text-gold"}),t.jsx("span",{children:h})]},p))})]})]}):null,t.jsx(Sl,{locale:r,labels:i,checkoutHref:u})]})}function xl({locale:r,title:e,subtitle:i,description:s,highlights:a,primaryHref:n,primaryLabel:o,secondaryHref:c,secondaryLabel:l}){return t.jsxs("section",{className:"relative overflow-hidden border-b border-white/10 bg-[#050918]",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_20%_20%,rgba(66,130,255,0.35),transparent_55%),radial-gradient(circle_at_80%_10%,rgba(239,185,74,0.35),transparent_55%)]"}),t.jsxs("div",{className:"container relative flex flex-col gap-12 py-20 lg:flex-row lg:items-center lg:gap-20",children:[t.jsxs("div",{className:"max-w-2xl space-y-6",children:[t.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-[#0b1129] px-4 py-1 text-xs uppercase tracking-[0.3em] text-white/80",children:[t.jsx(ni,{className:"h-4 w-4 text-gold"}),i??(r==="CN"?"玄学驱动的商业组合":"Metaphysics engineered for commerce")]}),t.jsx("h1",{className:"text-4xl font-semibold leading-tight sm:text-5xl",children:e??(r==="CN"?"服务套餐与定价":"Pricing & engagement levels")}),t.jsx("p",{className:"text-lg text-white/75",children:s??(r==="CN"?"自行组合方案、锁定执行节奏，并在结账前确认所有细节。":"Curate your command deck, lock delivery velocity and preview investment totals before checkout.")}),t.jsxs("div",{className:"flex flex-wrap gap-4 py-6",children:[t.jsxs(R,{to:n,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-gold via-amber-400 to-yellow-200 px-6 py-3 text-sm font-semibold text-black shadow-[0_20px_45px_rgba(239,185,74,0.35)] transition hover:translate-y-0.5 hover:shadow-[0_12px_30px_rgba(239,185,74,0.45)]",children:[o,t.jsx(ge,{className:"h-4 w-4"})]}),t.jsx(R,{to:c,className:"inline-flex items-center gap-2 rounded-full border border-white/30 px-6 py-3 text-sm font-semibold text-white transition hover:border-white hover:bg-[#0b1129]",children:l})]})]}),a.length?t.jsx("div",{className:"grid flex-1 gap-5 sm:grid-cols-2 py-6 px-5 lg:py-8 lg:px-6",children:a.map((d,u)=>t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#0b1129] p-5 backdrop-blur-md",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.25),transparent_65%)] opacity-60"}),t.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.18em] text-gold",children:d?.title}),t.jsx("p",{className:"mt-3 text-sm text-white/75",children:d?.description})]},u))}):null]})]})}function jl({points:r,currencyNote:e}){return!r.length&&!e?null:t.jsxs("div",{className:"grid gap-5 lg:grid-cols-[2fr_1fr]",children:[r.length?t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-gradient-to-br from-white/10 via-white/5 to-white/10 p-6",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_15%_20%,rgba(255,255,255,0.3),transparent_60%)]"}),t.jsx("ul",{className:"space-y-4 text-sm text-white/80",children:r.map((i,s)=>t.jsxs("li",{className:"flex gap-3",children:[t.jsx(Ge,{className:"mt-1 h-5 w-5 flex-shrink-0 text-emerald-400"}),t.jsx("span",{children:i})]},s))})]}):null,e?t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-amber-400/40 bg-amber-300/10 p-6 text-sm text-amber-100 shadow-[0_15px_45px_rgba(239,185,74,0.25)]",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,rgba(239,185,74,0.35),transparent_60%)] blur-2xl"}),t.jsxs("p",{className:"flex gap-3 whitespace-pre-line",children:[t.jsx(ai,{className:"mt-1 h-4 w-4 flex-shrink-0 text-amber-200"}),t.jsx("span",{className:"whitespace-pre-line",children:e})]})]}):null]})}function nr({locale:r,category:e,cartLabels:i}){const s=Array.isArray(e.tiers)?e.tiers:[];return s.length?t.jsxs("div",{className:"relative flex flex-col gap-6 overflow-hidden rounded-3xl border border-white/10 bg-[#0a1025]/80 p-8 backdrop-blur-xl shadow-[0_25px_80px_rgba(15,25,60,0.45)]",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_20%_0%,rgba(65,150,255,0.25),transparent_65%),radial-gradient(circle_at_80%_20%,rgba(255,186,90,0.2),transparent_65%)] opacity-80"}),t.jsxs("header",{className:"space-y-2",children:[t.jsx("span",{className:"text-xs uppercase tracking-[0.28em] text-white/50",children:e.subtitle}),t.jsx("h3",{className:"text-2xl font-semibold text-white",children:e.title})]}),t.jsx("div",{className:"space-y-4",children:s.map((a,n)=>t.jsx(Nl,{locale:r,category:e,tier:a,cartLabels:i},`${e.key??e.title}-${n}`))})]}):null}function Nl({locale:r,category:e,tier:i,cartLabels:s}){const{toggleItem:a,isInCart:n}=Ue(),o=Array.isArray(i.features)?i.features:[],c=!!(i.href&&/^https?:\/\//i.test(i.href)),l=b.useMemo(()=>({id:_l(e,i),name:i.name??"Tier",price:i.price,priceSecondary:i.priceSecondary??null,href:i.href??null,categoryKey:e.key??null,categoryTitle:e.title??null,serviceId:i.pricingMeta?.serviceId??null,description:i.shortDescription||i.description||e.title||null,pricingMeta:{...i.pricingMeta,shortDescription:i.shortDescription??i.description??null},type:"tier",locale:r}),[e,i,r]),d=n(l.id);return t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#0b1129] p-6 shadow-[0_12px_45px_rgba(10,16,37,0.45)]",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.28),transparent_70%)] opacity-70"}),t.jsxs("div",{className:"flex flex-col gap-4",children:[t.jsxs("header",{className:"flex flex-col gap-2",children:[t.jsx("h4",{className:"text-xl font-semibold text-white",children:i.name}),t.jsxs("div",{className:"flex flex-wrap items-baseline gap-3 text-sm text-white/70",children:[i.price?t.jsx("span",{className:"text-lg font-semibold text-gold",children:i.price}):null,i.priceSecondary?t.jsx("span",{className:"text-sm font-medium text-white/60",children:i.priceSecondary}):null,i.cadence?t.jsx("span",{className:"rounded-full border border-white/20 px-3 py-1 text-xs uppercase tracking-[0.22em] text-white/70",children:i.cadence}):null]}),i.highlight?t.jsx("p",{className:"text-sm text-emerald-300/90",children:i.highlight}):null]}),o.length?t.jsx("ul",{className:"space-y-2 text-sm text-white/75",children:o.map((u,m)=>t.jsxs("li",{className:"flex gap-2",children:[t.jsx("span",{className:"mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-gold/80"}),t.jsx("span",{children:u})]},m))}):null,t.jsxs("div",{className:"flex flex-wrap items-center gap-3 py-6",children:[t.jsxs("button",{type:"button",onClick:()=>a(l),className:`group relative inline-flex items-center gap-2 overflow-hidden rounded-[14px] px-5 py-2 text-sm font-semibold transition ${d?"bg-emerald-400/90 text-black shadow-[0_14px_34px_rgba(16,185,129,0.45)] hover:bg-emerald-300":"bg-black/85 text-[#f4deb4]"}`,children:[d?null:t.jsxs(t.Fragment,{children:[t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-[#f8d884cc] via-[#f6e7b8aa] to-[#f8d884cc] opacity-0 blur-sm transition-opacity duration-300 group-hover:opacity-30"}),t.jsx("span",{className:"absolute inset-0 scale-[0.86] rounded-[12px] border border-[#f8d88433] transition duration-300 group-hover:scale-100 group-hover:border-[#f8d88480]"}),t.jsx("span",{className:"absolute inset-0 opacity-0 transition duration-300 group-hover:opacity-40",style:{boxShadow:"0 0 45px 10px rgba(248,216,132,0.32)"}})]}),t.jsxs("span",{className:`relative inline-flex items-center gap-2 ${d?"":"tracking-[0.18em] text-[#f4deb4] group-hover:text-[#fff5dc]"}`,children:[d?t.jsx(wr,{className:"h-4 w-4"}):t.jsx(na,{className:"h-4 w-4"}),t.jsx("span",{className:"tracking-normal",children:d?s.added:s.add})]})]}),i.href?c?t.jsxs("a",{className:"inline-flex items-center gap-2 text-sm font-medium text-gold hover:text-white",href:i.href,target:"_blank",rel:"noopener noreferrer",children:[r==="CN"?"查看详情":"View details",t.jsx(aa,{className:"h-4 w-4"})]}):t.jsxs(R,{className:"inline-flex items-center gap-2 text-sm font-medium text-gold hover:text-white",to:i.href,children:[r==="CN"?"查看详情":"View details",t.jsx(ge,{className:"h-4 w-4"})]}):null]})]})]})}function kl({entry:r,locale:e}){const i=Array.isArray(r?.reinforcements)?r?.reinforcements:[];return t.jsxs("div",{className:"relative overflow-hidden rounded-3xl border border-white/10 bg-[#0c132d]/80 p-6 shadow-[0_30px_70px_rgba(10,18,40,0.45)]",children:[t.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,rgba(63,131,248,0.25),transparent_65%)] opacity-80"}),t.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.22em] text-white/50",children:r?.objection}),t.jsx("p",{className:"mt-4 text-base font-medium text-white/80",children:r?.response}),i.length?t.jsx("div",{className:"mt-4 space-y-2 text-sm text-white/70",children:i.map((s,a)=>t.jsxs("p",{className:"flex gap-2",children:[t.jsx(ai,{className:"mt-1 h-4 w-4 flex-shrink-0 text-gold/80"}),t.jsx("span",{children:s})]},a))}):null]})}function Sl({locale:r,labels:e,checkoutHref:i}){const{items:s,clear:a}=Ue(),n=b.useMemo(()=>ii(s),[s]);if(!s.length)return null;const o=r==="CN"?`${s.length} 项服务`:`${s.length} ${s.length===1?"service selected":"services selected"}`;return t.jsx("div",{className:"pointer-events-auto fixed bottom-6 left-1/2 z-50 w-full max-w-3xl -translate-x-1/2 rounded-3xl border border-white/10 bg-[#050914]/90 px-6 py-5 shadow-[0_25px_60px_rgba(5,9,20,0.65)] backdrop-blur",children:t.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-white/50",children:e.miniTitle}),t.jsx("p",{className:"text-lg font-semibold text-white",children:o}),n.length?t.jsx("div",{className:"flex flex-wrap gap-3 text-sm text-white/65",children:n.map(c=>t.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-[#0b1129] px-3 py-1",children:[t.jsx(ni,{className:"h-4 w-4 text-gold"}),ri(c.currency,c.amount,r)]},c.currency))}):null]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{type:"button",onClick:a,className:"inline-flex items-center gap-2 rounded-full border border-white/20 px-4 py-2 text-sm font-medium text-white/80 transition hover:border-white hover:text-white",children:[t.jsx(wr,{className:"h-4 w-4"}),e.clear]}),t.jsxs(R,{to:i,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-gold via-amber-300 to-yellow-200 px-5 py-2 text-sm font-semibold text-black transition hover:translate-y-0.5 hover:shadow-[0_12px_30px_rgba(239,185,74,0.45)]",children:[e.goToCheckout,t.jsx(ge,{className:"h-4 w-4"})]})]})]})})}function _l(r,e){const i=r.key??r.title??"category",s=e.name??"tier",a=e.pricingMeta?.serviceId??"",n=`${i}-${s}${a?`-${a}`:""}`;return Cl(n)}function Cl(r){return String(r).toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function Yr(r,e){return{add:r?.add??(e==="CN"?"加入购物车":"Add to cart"),added:r?.added??(e==="CN"?"已加入":"Added"),remove:r?.remove??(e==="CN"?"移除":"Remove"),goToCheckout:r?.goToCheckout??(e==="CN"?"前往结账":"Go to checkout"),miniTitle:r?.miniTitle??(e==="CN"?"购物车快照":"Cart preview"),empty:r?.empty??(e==="CN"?"尚未选择任何服务。":"No services selected yet."),clear:r?.clear??(e==="CN"?"清空":"Clear cart"),continue:r?.continue??(e==="CN"?"继续浏览":"Continue browsing")}}const Tl="https://skajbbewtntpudminpmr.supabase.co",El="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNrYWpiYmV3dG50cHVkbWlucG1yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNDM4ODUsImV4cCI6MjA3ODQwMzg4NX0.7-xxgijtuDmRY6-P0aS2DY43_xVJYBcl0wo60Pa3KIU",D=zr(Tl,El,{auth:{storageKey:"ma-auth"}});function gi(r){return String(r||"").toLowerCase().replace(/\s+/g," ").replace(/[\u2018\u2019\u201C\u201D'"]/g,"").replace(/[^a-z0-9/ -]/g,"").trim()}function St(r,e){if(r==null||Number.isNaN(Number(r)))return null;const i=Number(r),s=Number.isInteger(i)?0:2,a=e==="USD"?"en-US":"en-MY",n=i.toLocaleString(a,{minimumFractionDigits:s,maximumFractionDigits:2});return e==="USD"?`USD ${n}`:`RM ${n}`}function Al(r){const e=new Map;return(Array.isArray(r?.categories)?r.categories:[]).forEach((s,a)=>{const n=s?.key?String(s.key):`index-${a}`;e.set(n,s)}),e}function Pl(r){return(Array.isArray(r?.addOns)?r.addOns:[]).map(i=>i??null)}function Ll(r,e,i){const s=e?.name??r?.name,a=s?i.get(gi(s)):void 0;if(!a)return r;const n=a.price_myr??a.priceMYR??null,o=a.price_usd??a.priceUSD??null;return{...r,price:n!=null?St(n,"MYR"):r?.price??null,priceSecondary:o!=null?St(o,"USD"):r?.priceSecondary??null,pricingMeta:{...r?.pricingMeta??{},serviceId:a.service_id??a.serviceId??null,priceMYR:n,priceUSD:o}}}function Il(r,e,i){const s=e?.name??r?.name,a=s?i.get(gi(s)):void 0;if(!a)return r;const n=a.price_myr??a.priceMYR??null,o=a.price_usd??a.priceUSD??null;return{...r,price:n!=null?St(n,"MYR"):r?.price??null,priceSecondary:o!=null?St(o,"USD"):r?.priceSecondary??null,pricingMeta:{...r?.pricingMeta??{},serviceId:a.service_id??a.serviceId??null,priceMYR:n,priceUSD:o}}}function Rl(r,e){if(!r||r.rate==null)return null;const i=Number(r.rate);if(!Number.isFinite(i))return null;const s=i.toFixed(4),a=r.captured_at??r.capturedAt??null;let n="";if(a){const o=new Date(a);Number.isNaN(o.getTime())||(n=` (${o.toLocaleDateString(e==="CN"?"zh-CN":"en-MY",{year:"numeric",month:"short",day:"numeric"})})`)}return e==="CN"?`最新汇率：1 MYR = ${s} USD${n}`:`Latest rate: 1 MYR = ${s} USD${n}`}function Gr(r,e,i,s={}){const a=s.locale==="CN"?"CN":"EN",n=s.rate??null,o=r?{...r}:{},c=e??r??{},l=new Map;Array.isArray(i)&&i.forEach(v=>{if(!v)return;const k=gi(v.service_name??v.serviceName);k&&l.set(k,v)});const d=Al(c),m=(Array.isArray(r?.categories)?r.categories:[]).map((v,k)=>{const x=d.get(v?.key?String(v.key):`index-${k}`)??d.get(`index-${k}`)??null,C=Array.isArray(v?.tiers)?v.tiers:[],A=Array.isArray(x?.tiers)?x.tiers:[],j=C.map((S,N)=>Ll(S,A[N]??S,l));return{...v,tiers:j}}),h=Array.isArray(r?.addOns)?r.addOns:[],p=Pl(c),g=h.map((v,k)=>Il(v,p[k]??v,l)),y=Rl(n,a);let f=o.currencyNote??null;return y&&(f=f?`${f}
${y}`:y),{...o,categories:m,addOns:g,currencyNote:f}}function Ml(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",i=E?.[r]||E?.EN||{},s=E?.EN?.pricing||{},[a,n]=b.useState([]),[o,c]=b.useState(null);b.useEffect(()=>{let d=!1;async function u(){try{const{data:m,error:h}=await D.from("service_pricing").select("service_id, service_name, price_myr, price_usd");if(h)throw h;d||n(Array.isArray(m)?m:[]);const{data:p,error:g}=await D.from("service_pricing_rates").select("rate_key, rate, captured_at").eq("rate_key","MYR_USD").limit(1).maybeSingle();if(!d){if(g&&g.code!=="PGRST116")throw g;c(p??null)}}catch(m){console.error("Failed to load Supabase pricing rows:",m),d||(n([]),c(null))}}return u(),()=>{d=!0}},[]);const l=b.useMemo(()=>{const d=i.pricing||{};return Gr(d,s,a,{locale:e,rate:o})},[i,s,a,o,e]);return t.jsxs("main",{children:[t.jsx(Ol,{lang:r,title:l.heroTitle||(r==="CN"?"???????":"Pricing & Engagement Levels"),description:l.heroDescription||(r==="CN"?"????????????????????????????":"Understand the investment levels for bespoke metaphysics programmes serving leaders, families and enterprise teams.")}),t.jsx(wl,{locale:e,pricing:l})]})}function Ol({lang:r,title:e,description:i}){return b.useEffect(()=>{document.title=`${e} | Metaphysics Alliance`;const s=(o,c)=>{if(!c)return;let l=document.querySelector(`meta[name="${o}"]`);l||(l=document.createElement("meta"),l.setAttribute("name",o),document.head.appendChild(l)),l.setAttribute("content",c)},a=(o,c)=>{if(!c)return;let l=document.querySelector(`meta[property="${o}"]`);l||(l=document.createElement("meta"),l.setAttribute("property",o),document.head.appendChild(l)),l.setAttribute("content",c)},n=(o,c)=>{let l=document.querySelector(`link[rel="${o}"]`);l||(l=document.createElement("link"),l.setAttribute("rel",o),document.head.appendChild(l)),l.setAttribute("href",c)};s("description",i),n("canonical",`/${r}/pricing`),a("og:title",e),a("og:description",i),a("og:image","/images/og-default.jpg")},[r,e,i]),null}function Dl({locale:r="EN",pricing:e={}}){const i=b.useMemo(()=>Yr(e.cart,r),[e.cart,r]),s=e.checkout??{},a=Array.isArray(e.checkoutAssurancePoints)?e.checkoutAssurancePoints:[];return t.jsxs("div",{className:"container space-y-10 pb-24 pt-16 text-white",children:[t.jsxs("header",{className:"space-y-4 text-center",children:[t.jsx("p",{className:"text-xs uppercase tracking-[0.32em] text-white/50",children:i.miniTitle}),t.jsx("h1",{className:"text-4xl font-semibold",children:s.title??(r==="CN"?"确认你的战略组合":"Review your command deck")}),t.jsx("p",{className:"mx-auto max-w-2xl text-base text-white/70",children:s.subtitle??(r==="CN"?"确认要部署的服务，我们会在一个工作日内回传发票与启动时间表。":"Confirm the services you want us to deploy and we will return an invoice plus onboarding timeline within one business day.")})]}),t.jsx(Ul,{locale:r,pricing:e,cartLabels:i,checkoutCopy:s,contactHref:"/contact",pricingHref:"/pricing"}),a.length?t.jsxs("section",{className:"space-y-6",children:[t.jsx(F,{title:e.checkoutAssuranceTitle??(r==="CN"?"确认后会发生什么":"What happens after you confirm")}),t.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:a.map((c,l)=>t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 text-sm text-white/75 shadow-[0_20px_55px_rgba(10,16,37,0.45)]",children:[t.jsx("span",{className:"mb-3 inline-flex h-10 w-10 items-center justify-center rounded-full bg-gold/20 text-gold",children:l+1}),t.jsx("p",{children:c})]},l))})]}):null]})}function Ul({locale:r,pricing:e,cartLabels:i,checkoutCopy:s,contactHref:a,pricingHref:n}){const{items:o,removeItem:c,clear:l}=Ue(),d=b.useMemo(()=>ii(o),[o]);if(!o.length){const y=s?.emptyCta??(r==="CN"?"返回定价":"Back to pricing");return t.jsxs("div",{className:"mx-auto max-w-2xl rounded-3xl border border-dashed border-white/15 bg-white/5 p-12 text-center text-white/70",children:[t.jsx(ni,{className:"mx-auto mb-6 h-12 w-12 text-white/40"}),t.jsx("h2",{className:"text-xl font-semibold text-white",children:s?.emptyTitle??(r==="CN"?"购物车为空":"No services selected yet")}),t.jsx("p",{className:"mt-3 text-sm",children:s?.emptyDescription??(r==="CN"?"从定价页面添加至少一项方案或增值服务，便能生成你的购物车。":"Add at least one programme or add-on from the pricing directory to build your cart.")}),t.jsxs(R,{to:n,className:"mt-6 inline-flex items-center gap-2 rounded-full bg-white/10 px-6 py-2 text-sm font-medium text-white transition hover:bg-white/20",children:[t.jsx(si,{className:"h-4 w-4"}),y]})]})}const u=o.map(y=>{const f=[y.price,y.priceSecondary].filter(v=>!!v);return f.length?`${y.name} (${f.join(", ")})`:y.name}),m=encodeURIComponent(u.join("; ")),h=`${a}?topic=pricing&cart=${m}`,p=s?.primaryCta??(r==="CN"?"确认并索取发票":"Confirm & request invoice"),g=s?.secondaryCta??(r==="CN"?"继续浏览":"Keep exploring");return t.jsxs("section",{className:"space-y-10",children:[t.jsxs("div",{className:"overflow-hidden rounded-3xl border border-white/10 bg-[#070d1f]/80 shadow-[0_30px_60px_rgba(7,13,31,0.6)]",children:[t.jsxs("div",{className:"hidden grid-cols-[2fr_1.5fr_1fr_auto] gap-6 border-b border-white/10 px-8 py-4 text-sm uppercase tracking-[0.2em] text-white/50 md:grid",children:[t.jsx("span",{children:s?.tableHeaders?.service??(r==="CN"?"服务":"Service")}),t.jsx("span",{children:s?.tableHeaders?.description??(r==="CN"?"详情":"Description")}),t.jsx("span",{className:"text-right",children:s?.tableHeaders?.price??(r==="CN"?"价格":"Price")}),t.jsx("span",{className:"w-20"})]}),t.jsx("div",{className:"divide-y divide-white/10",children:o.map(y=>t.jsx(Bl,{locale:r,item:y,removeLabel:i.remove,onRemove:()=>c(y.id)},y.id))})]}),t.jsxs("div",{className:"flex flex-col gap-6 lg:flex-row lg:items-start",children:[t.jsxs("div",{className:"flex-1 space-y-4 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-[0_18px_40px_rgba(10,16,37,0.45)]",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:s?.summaryTitle??(r==="CN"?"已选择的服务":"Selected services")}),t.jsx("ul",{className:"space-y-2 text-sm text-white/75",children:o.map(y=>t.jsxs("li",{className:"flex items-baseline justify-between gap-3",children:[t.jsx("span",{className:"font-medium text-white",children:y.name}),t.jsxs("div",{className:"flex flex-col items-end gap-0.5 text-xs text-white/80",children:[y.price?t.jsx("span",{className:"text-sm font-semibold text-gold",children:y.price}):null,y.priceSecondary?t.jsx("span",{className:"font-medium text-white/60",children:y.priceSecondary}):null]})]},y.id))}),s?.currencyDisclaimer?t.jsx("p",{className:"mt-4 rounded-2xl border border-white/15 bg-white/5 p-4 text-xs text-white/60",children:s.currencyDisclaimer}):null]}),t.jsxs("div",{className:"w-full max-w-md space-y-6 rounded-3xl border border-white/10 bg-[#0b1129]/80 p-6 shadow-[0_20px_50px_rgba(5,10,30,0.6)]",children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:s?.totalsLabel??(r==="CN"?"投资概览":"Investment overview")}),t.jsx("div",{className:"space-y-3 text-sm text-white/75",children:d.map(y=>t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"uppercase tracking-[0.28em] text-white/50",children:y.currency}),t.jsx("span",{className:"font-semibold text-gold",children:ri(y.currency,y.amount,r)})]},y.currency))}),t.jsxs("div",{className:"flex flex-col gap-3 pt-2",children:[t.jsxs(R,{to:"/checkout/payment",className:"inline-flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-gold via-amber-300 to-yellow-200 px-6 py-3 text-sm font-semibold text-black transition hover:translate-y-0.5 hover:shadow-[0_12px_30px_rgba(239,185,74,0.45)]",children:[r==="CN"?"继续付款":"Proceed to Payment",t.jsx(ge,{className:"h-4 w-4"})]}),t.jsx("a",{href:h,className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/25 px-6 py-3 text-sm font-semibold text-white transition hover:border-white hover:bg-white/10",children:p}),t.jsx(R,{to:n,className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/10 px-6 py-3 text-sm font-medium text-white/70 transition hover:border-white/20 hover:text-white",children:g}),t.jsxs("button",{type:"button",onClick:l,className:"inline-flex items-center justify-center gap-2 text-sm font-medium text-white/50 transition hover:text-red-400",children:[t.jsx(vr,{className:"h-4 w-4"}),i.clear]})]})]})]})]})}function Bl({locale:r,item:e,removeLabel:i,onRemove:s}){return e.pricingMeta?.description||e.categoryTitle||e.type,t.jsxs("div",{className:"grid gap-4 px-6 py-5 text-sm text-white/80 md:grid-cols-[2fr_1.5fr_1fr_auto] md:items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-base font-semibold text-white",children:e.name}),t.jsx("p",{className:"text-xs uppercase tracking-[0.28em] text-white/40",children:e.categoryTitle??(e.type==="addon"?r==="CN"?"增值服务":"Add-on":"Programme")}),e.href?t.jsxs(R,{to:e.href,className:"mt-2 inline-flex items-center gap-1 text-xs font-medium text-gold hover:text-white",children:[r==="CN"?"查看服务详情":"View details",t.jsx(ge,{className:"h-3 w-3"})]}):null]}),t.jsx("div",{className:"text-sm text-white/70",children:e.pricingMeta?.shortDescription||e.description||e.categoryTitle?t.jsx("p",{children:e.pricingMeta?.shortDescription||e.description||e.categoryTitle}):e.href?t.jsxs(R,{to:e.href,className:"inline-flex items-center gap-1 text-xs font-medium text-gold hover:text-white",children:[r==="CN"?"查看完整详情":"View full details",t.jsx(ge,{className:"h-3 w-3"})]}):null}),t.jsxs("div",{className:"flex flex-col items-end gap-0.5 text-sm",children:[e.price?t.jsx("span",{className:"font-semibold text-gold",children:e.price}):null,e.priceSecondary?t.jsx("span",{className:"text-xs font-medium text-white/60",children:e.priceSecondary}):null]}),t.jsx("div",{className:"text-right",children:t.jsxs("button",{type:"button",onClick:s,className:"inline-flex items-center gap-2 rounded-full border border-white/15 px-4 py-2 text-xs font-semibold text-white/70 transition hover:border-red-400 hover:text-red-400",children:[t.jsx(vr,{className:"h-3.5 w-3.5"}),t.jsx("span",{className:"hidden md:inline",children:i})]})})]})}function Fl(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",i=E?.[r]||E?.EN||{},s=E?.EN?.pricing||{},[a,n]=b.useState([]),[o,c]=b.useState(null);b.useEffect(()=>{let d=!1;async function u(){try{const{data:m,error:h}=await D.from("service_pricing").select("service_id, service_name, price_myr, price_usd");if(h)throw h;d||n(Array.isArray(m)?m:[]);const{data:p,error:g}=await D.from("service_pricing_rates").select("rate_key, rate, captured_at").eq("rate_key","MYR_USD").limit(1).maybeSingle();if(!d){if(g&&g.code!=="PGRST116")throw g;c(p??null)}}catch(m){console.error("Failed to load Supabase pricing rows (checkout):",m),d||(n([]),c(null))}}return u(),()=>{d=!0}},[]);const l=b.useMemo(()=>{const d=i.pricing||{};return Gr(d,s,a,{locale:e,rate:o})},[i,s,a,o,e]);return t.jsx("main",{children:t.jsx(Dl,{locale:e,pricing:l})})}const $l=ws(void 0);function Wl({amount:r,currency:e,orderId:i,onSuccess:s,onError:a}){const n=js(),o=Ns(),[c,l]=b.useState(!1),[d,u]=b.useState(null),m=async h=>{if(h.preventDefault(),!(!n||!o)){l(!0),u(null);try{const{error:p,paymentIntent:g}=await n.confirmPayment({elements:o,confirmParams:{return_url:`${window.location.origin}/checkout/success?order_id=${i}`},redirect:"if_required"});p?(u(p.message||"Payment failed"),a&&a(p)):g&&g.status==="succeeded"&&s&&s(g)}catch(p){const g=p&&p.message?p.message:"Unexpected error during payment";u(g),a&&a(p)}finally{l(!1)}}};return t.jsxs("form",{onSubmit:m,className:"space-y-6",children:[t.jsx(ks,{}),d&&t.jsx("div",{className:"rounded-lg border border-red-400/30 bg-red-500/10 p-4",children:t.jsx("p",{className:"text-sm text-red-400",children:d})}),t.jsx("button",{type:"submit",disabled:!n||c,className:"w-full rounded-xl bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-4 font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(16,185,129,0.5)] disabled:cursor-not-allowed disabled:opacity-50",children:c?t.jsxs("span",{className:"flex items-center justify-center gap-2",children:[t.jsx("span",{className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Processing..."]}):`Pay ${e} ${r.toFixed(2)}`})]})}function ql({clientSecret:r,amount:e,currency:i,orderId:s,onSuccess:a,onError:n,locale:o="EN"}){const[c,l]=b.useState(!1);b.useEffect(()=>{r&&l(!0)},[r]);const d={clientSecret:r,appearance:{theme:"night",variables:{colorPrimary:"#10b981",colorBackground:"#0b1129",colorText:"#ffffff",colorDanger:"#ef4444",fontFamily:"system-ui, sans-serif",spacingUnit:"4px",borderRadius:"12px"},rules:{".Input":{border:"1px solid rgba(255, 255, 255, 0.2)",boxShadow:"none"},".Input:focus":{border:"1px solid #10b981",boxShadow:"0 0 0 1px #10b981"},".Label":{color:"rgba(255, 255, 255, 0.8)",fontSize:"14px",fontWeight:"500"}}},locale:o==="CN"?"zh":"en"};return!c||!r?t.jsx("div",{className:"flex items-center justify-center p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-white/20 border-t-emerald-500"}),t.jsx("p",{className:"text-white/70",children:o==="CN"?"正在准备付款...":"Preparing payment..."})]})}):t.jsx(xs,{stripe:$l,options:d,children:t.jsx(Wl,{amount:e,currency:i,orderId:s,onSuccess:a,onError:n})})}const Hl=["Johor","Kedah","Kelantan","Malacca","Negeri Sembilan","Pahang","Penang","Perak","Perlis","Sabah","Sarawak","Selangor","Terengganu","Federal Territory of Kuala Lumpur","Federal Territory of Labuan","Federal Territory of Putrajaya"];function zl(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",i=fe(),{items:s,clear:a}=Ue(),n=b.useMemo(()=>ii(s),[s]),o="",c=P=>`${o}${P.startsWith("/")?P:`/${P}`}`,[l,d]=b.useState("stripe"),[u,m]=b.useState(!1),[h,p]=b.useState(null),[g,y]=b.useState(!1),[f,v]=b.useState(!1),[k,x]=b.useState(null),[C,A]=b.useState(null),[j,S]=b.useState(null),[N,w]=b.useState(!1),[T,O]=b.useState(null),[_,$]=b.useState({fullName:"",email:"",phone:"",addressLine1:"",addressLine2:"",city:"",state:"",postcode:"",country:"Malaysia",preferredLanguage:e,preferredCurrency:"MYR",newsletter:!1,termsAccepted:!1});b.useEffect(()=>{const P=sessionStorage.getItem("resuming_order");if(!P)return;(async()=>{try{let U=JSON.parse(P);if((!U.addressLine1||!U.city||!U.state||!U.postcode)&&U.orderId)try{const{data:H,error:it}=await D.from("guest_orders").select("address_line1, address_line2, city, state_province, postcode, country").eq("id",U.orderId).single();!it&&H&&(U={...U,addressLine1:H.address_line1,addressLine2:H.address_line2,city:H.city,state:H.state_province,postcode:H.postcode,country:H.country})}catch(H){console.warn("Failed to load full order for resume on payment page:",H)}$(H=>({...H,fullName:U.name||H.fullName,email:U.email||H.email,phone:U.phone||H.phone,addressLine1:U.addressLine1||H.addressLine1,addressLine2:U.addressLine2||H.addressLine2,city:U.city||H.city,state:U.state||H.state,postcode:U.postcode||H.postcode,country:U.country||H.country||"Malaysia",preferredCurrency:U.currency||H.preferredCurrency||"MYR"})),d(U.paymentMethod||"stripe"),v(!0),x(U.orderId)}catch(U){console.error("Failed to hydrate resumed order on payment page:",U)}finally{sessionStorage.removeItem("resuming_order")}})()},[]);const q=(P,G)=>{$(U=>({...U,[P]:G})),p(null)},te=()=>_.fullName.trim()?!_.email.trim()||!_.email.includes("@")?(p(e==="CN"?"请输入有效的电子邮件":"Please enter a valid email"),!1):_.phone.trim()?_.addressLine1.trim()?_.city.trim()?_.state.trim()?_.postcode.trim()?_.termsAccepted?!0:(p(e==="CN"?"请接受服务条款":"Please accept the terms of service"),!1):(p(e==="CN"?"请输入邮编":"Please enter your postcode"),!1):(p(e==="CN"?"请选择州":"Please select your state"),!1):(p(e==="CN"?"请输入城市":"Please enter your city"),!1):(p(e==="CN"?"请输入地址":"Please enter your address"),!1):(p(e==="CN"?"请输入电话号码":"Please enter your phone number"),!1):(p(e==="CN"?"请输入姓名":"Please enter your full name"),!1),Y=()=>{y(!0)},Fe=async()=>{try{a(),await new Promise(P=>setTimeout(P,100)),y(!1),i("/pricing")}catch(P){console.error("Cancel order error:",P),y(!1),i("/pricing")}},Qr=()=>{y(!1)},Zr=async P=>{if(P.preventDefault(),!!te()){m(!0),p(null),O(null);try{_.newsletter&&await D.from("newsletter_subscriptions").insert([{email:_.email.toLowerCase().trim(),full_name:_.fullName,source:"checkout",preferred_language:e,consent_given:!0}]).select().then(({error:ne})=>{ne&&ne.code!=="23505"&&console.warn("Newsletter subscription warning:",ne)});const{data:G,error:U}=await D.from("guest_orders").insert([{guest_email:_.email.toLowerCase().trim(),guest_name:_.fullName,guest_phone:_.phone,address_line1:_.addressLine1,address_line2:_.addressLine2,city:_.city,state_province:_.state,postcode:_.postcode,country:_.country,cart_items:s,total_myr:n.find(ne=>ne.currency==="MYR")?.amount||0,total_usd:n.find(ne=>ne.currency==="USD")?.amount||0,currency:_.preferredCurrency,payment_method:l,newsletter_opt_in:_.newsletter}]).select().single();if(U)throw U;console.log("Guest order created:",G);const{data:H,error:it}=await D.rpc("create_resume_token",{order_id:G.id});if(it)console.warn("Resume token generation failed:",it);else if(console.log("Resume token generated for order recovery"),H){const ne=`${window.location.origin}/checkout/resume/${H}`,Et=n.find($e=>$e.currency===_.preferredCurrency)?.amount||0;try{await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"order-resume",to:_.email,guestName:_.fullName,cartItems:s,currency:_.preferredCurrency,total:Et,resumeUrl:ne})}),console.log("📨 Resume email sent")}catch($e){console.warn("Failed to send resume email:",$e)}}if(await D.from("guest_orders").update({payment_status:"pending",payment_attempts:0,order_expires_at:new Date(Date.now()+1440*60*1e3).toISOString()}).eq("id",G.id),S(G.id),l==="stripe"){const ne=n.find(ee=>ee.currency==="MYR"||ee.currency==="RM"),Et=n.find(ee=>ee.currency==="USD"),$e=_.preferredCurrency==="MYR"?ne?.amount||0:Et?.amount||0;try{const ee=await fetch(c("/api/create-payment-intent"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:$e,currency:_.preferredCurrency.toLowerCase(),orderId:G.id,customerEmail:_.email,resumeToken:H})});if(!ee.ok){let rt=null;try{rt=await ee.json()}catch{}throw console.error("create-payment-intent failed:",ee.status,rt),new Error(rt?.error||"Failed to create payment intent")}const{clientSecret:At}=await ee.json();A(At),w(!0)}catch(ee){console.error("Payment intent error:",ee),p(e==="CN"?"无法初始化付款":"Unable to initialize payment"),m(!1);const At=ee&&ee.message?ee.message:String(ee||"Unknown error");p((e==="CN"?"无法初始化付款: ":"Unable to initialize payment: ")+At);return}}else{p(e==="CN"?"此付款方式即将上线":"This payment method is coming soon"),m(!1);return}m(!1)}catch(G){p(G.message||(e==="CN"?"创建订单失败":"Failed to create order")),m(!1)}}},Xr=async P=>{console.log("Payment succeeded (V2):",P);try{const G=`magic_${Math.random().toString(36).slice(2)}${Date.now()}`;await D.from("guest_orders").update({payment_status:"succeeded",payment_attempts:1,last_payment_attempt_at:new Date().toISOString(),payment_provider_id:P.id,magic_link_token:G,magic_link_sent_at:new Date().toISOString()}).eq("id",j);try{await fetch(c("/api/send-email"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"payment-success",to:_.email,guestName:_.fullName,cartItems:s,currency:_.preferredCurrency,total:n.find(U=>U.currency===_.preferredCurrency)?.amount||0,orderId:j,paymentDate:new Date().toISOString()})}),console.log("✅ Receipt email sent")}catch(U){console.warn("Failed to send receipt email:",U)}try{if(a(),typeof window<"u"){const U=["EN","CN"];for(const H of U)window.localStorage.removeItem(`ma-pricing-cart-${H}`);window.dispatchEvent(new Event("cart-updated"))}}catch(U){console.warn("Failed to fully clear pricing cart after payment:",U)}O(e==="CN"?"支付成功，正在跳转确认页":"Payment successful, redirecting to confirmation."),setTimeout(()=>{i(`/checkout/success?order_id=${j}`)},1e3)}catch(G){console.error("Failed to update order status (V2):",G),p(e==="CN"?"支付成功但更新订单失败":"Payment succeeded but order update failed")}},es=async P=>{console.error("Payment failed:",P);try{await D.from("guest_orders").update({payment_status:"failed",payment_attempts:1,last_payment_attempt_at:new Date().toISOString(),payment_failure_reason:P.message}).eq("id",j);const G=P&&P.message?P.message:"Unknown error";p(e==="CN"?`支付失败: ${G}`:`Payment failed: ${G}`)}catch(G){console.error("Failed to update order failure:",G)}m(!1)};return s.length===0&&!j?(i("/pricing"),null):t.jsxs(t.Fragment,{children:[g&&t.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:t.jsxs("div",{className:"mx-4 w-full max-w-md rounded-2xl border border-white/20 bg-gradient-to-br from-[#0b1129] to-[#1a1f3a] p-8 shadow-2xl",children:[t.jsx("h3",{className:"mb-4 text-2xl font-bold text-white",children:e==="CN"?"取消订单":"Cancel Order"}),t.jsx("p",{className:"mb-8 text-white/80",children:e==="CN"?"确定要取消订单并清空购物车吗？此操作无法撤销。":"Are you sure you want to cancel this order and clear your cart? This action cannot be undone."}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("button",{onClick:Qr,className:"flex-1 rounded-full border border-white/20 bg-transparent px-6 py-3 text-sm font-medium text-white/80 transition-all duration-300 hover:border-white/40 hover:bg-white/5 hover:text-white",children:e==="CN"?"返回":"Go Back"}),t.jsx("button",{onClick:Fe,className:"flex-1 rounded-full border border-red-400/50 bg-gradient-to-br from-red-600 to-red-500 px-6 py-3 text-sm font-medium text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(239,68,68,0.5)]",children:e==="CN"?"确认取消":"Confirm Cancel"})]})]})}),t.jsxs("div",{className:"container mx-auto px-4 py-16 text-white",children:[t.jsxs("header",{className:"mb-12 text-center",children:[t.jsxs(R,{to:"/pricing/checkout",className:"mb-4 inline-flex items-center gap-2 text-sm text-white/70 hover:text-white",children:[t.jsx(si,{}),e==="CN"?"返回购物车":"Back to cart"]}),t.jsx("h1",{className:"text-4xl font-semibold",children:e==="CN"?"完成您的订单":"Complete Your Order"}),t.jsx("p",{className:"mt-2 text-white/70",children:e==="CN"?"填写您的信息并选择付款方式":"Fill in your details and choose a payment method"})]}),t.jsx("div",{className:"mx-auto mb-8 max-w-6xl",children:t.jsxs("section",{className:"rounded-3xl border border-white/10 bg-white/5 p-4 text-sm text-white/80",children:[t.jsx("p",{className:"mb-2",children:e==="CN"?"如果您愿意，可以在付款前先登录/注册，以便订单自动关联到账户（支持 Google、Facebook、Apple ID、邮箱）。":"If you prefer, you can sign in or sign up (Google, Facebook, Apple ID, or email) before paying so your order is linked to your account."}),t.jsx(R,{to:`/auth?redirect=${encodeURIComponent("/checkout/payment")}`,className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-r from-gold to-amber-300 px-4 py-2 text-xs font-semibold text-black shadow-sm hover:shadow-lg",children:e==="CN"?"登录 / 注册":"Sign in / Sign up"})]})}),f&&t.jsx("div",{className:"mx-auto mb-8 max-w-6xl",children:t.jsx("div",{className:"rounded-2xl border border-emerald-500/30 bg-emerald-500/10 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"text-3xl",children:"✅"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 text-lg font-semibold text-emerald-400",children:e==="CN"?"已恢复订单":"Order Restored"}),t.jsx("p",{className:"text-white/80",children:e==="CN"?"我们已恢复您之前的订单，请确认信息后继续付款。":"We've restored your previous order. Please verify your details and continue to payment."})]})]})})}),t.jsx("div",{className:"mx-auto max-w-6xl",children:t.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1.5fr_1fr]",children:[t.jsxs("div",{className:"space-y-8",children:[t.jsxs("section",{className:"space-y-6 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl",children:[t.jsx("h2",{className:"text-xl font-semibold",children:e==="CN"?"联系信息":"Contact Information"}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"全名":"Full Name"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:_.fullName,onChange:P=>q("fullName",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:e==="CN"?"输入您的全名":"Enter your full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"电子邮件":"Email"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"email",value:_.email,onChange:P=>q("email",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:e==="CN"?"您的电子邮件":"your@email.com"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"电话号码":"Phone Number"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"tel",value:_.phone,onChange:P=>q("phone",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:"+60 12-345 6789"})]})]}),t.jsxs("section",{className:"space-y-6 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl",children:[t.jsx("h2",{className:"text-xl font-semibold",children:e==="CN"?"账单地址":"Billing Address"}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"地址第一行":"Address Line 1"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:_.addressLine1,onChange:P=>q("addressLine1",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:e==="CN"?"街道地址":"Street address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:e==="CN"?"地址第二行":"Address Line 2"}),t.jsx("input",{type:"text",value:_.addressLine2,onChange:P=>q("addressLine2",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:e==="CN"?"单元/楼层（可选）":"Apt, suite, etc. (optional)"})]}),t.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"城市":"City"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:_.city,onChange:P=>q("city",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"邮编":"Postcode"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:_.postcode,onChange:P=>q("postcode",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[e==="CN"?"州":"State"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsxs("select",{value:_.state,onChange:P=>q("state",P.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:[t.jsx("option",{value:"",className:"bg-[#0a1025]",children:e==="CN"?"请选择州":"Select state"}),Hl.map(P=>t.jsx("option",{value:P,className:"bg-[#0a1025]",children:P},P))]})]})]}),t.jsxs("section",{className:"space-y-6 rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl",children:[t.jsx("h2",{className:"text-xl font-semibold",children:e==="CN"?"付款方式":"Payment Method"}),t.jsxs("div",{className:"grid gap-3 md:grid-cols-3",children:[t.jsxs("button",{type:"button",onClick:()=>d("stripe"),className:`flex flex-col items-center gap-3 rounded-lg border-2 p-4 transition ${l==="stripe"?"border-gold bg-gold/10":"border-white/20 hover:border-white/40"}`,children:[t.jsx(ia,{className:"h-8 w-8"}),t.jsx("span",{className:"text-sm font-medium",children:e==="CN"?"信用卡/借记卡":"Credit/Debit Card"})]}),t.jsxs("button",{type:"button",onClick:()=>d("fpx"),className:`flex flex-col items-center gap-3 rounded-lg border-2 p-4 transition ${l==="fpx"?"border-gold bg-gold/10":"border-white/20 hover:border-white/40"}`,children:[t.jsx(ra,{className:"h-8 w-8"}),t.jsx("span",{className:"text-sm font-medium",children:e==="CN"?"FPX 网上银行":"FPX Online Banking"})]}),t.jsxs("button",{type:"button",onClick:()=>d("tng"),className:`flex flex-col items-center gap-3 rounded-lg border-2 p-4 transition ${l==="tng"?"border-gold bg-gold/10":"border-white/20 hover:border-white/40"}`,children:[t.jsx(oa,{className:"h-8 w-8"}),t.jsx("span",{className:"text-sm font-medium",children:"Touch 'n Go"})]})]})]}),t.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:_.termsAccepted,onChange:P=>q("termsAccepted",P.target.checked),className:"mt-1 h-5 w-5 rounded border-white/20 bg-white/10 text-gold focus:ring-gold"}),t.jsx("span",{className:"text-sm text-white/80",children:e==="CN"?t.jsxs(t.Fragment,{children:["我同意 ",t.jsx(R,{to:"/legal/terms",className:"text-gold hover:underline",children:"服务条款"})," 和 ",t.jsx(R,{to:"/legal/privacy",className:"text-gold hover:underline",children:"隐私政策"})]}):t.jsxs(t.Fragment,{children:["I agree to the ",t.jsx(R,{to:"/legal/terms",className:"text-gold hover:underline",children:"Terms of Service"})," and ",t.jsx(R,{to:"/legal/privacy",className:"text-gold hover:underline",children:"Privacy Policy"})]})})]}),t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:_.newsletter,onChange:P=>q("newsletter",P.target.checked),className:"mt-1 h-5 w-5 rounded border-white/20 bg-white/10 text-gold focus:ring-gold"}),t.jsx("span",{className:"text-sm text-white/80",children:e==="CN"?"订阅邮件，获取最新更新与优惠":"Subscribe to our newsletter for updates and offers"})]})]}),N&&C&&t.jsxs("section",{className:"space-y-4 rounded-3xl border border-emerald-500/30 bg-white/5 p-6 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-xl font-semibold",children:e==="CN"?"完成付款":"Complete Payment"}),t.jsx(ql,{clientSecret:C,amount:n.find(P=>P.currency===_.preferredCurrency)?.amount||0,currency:_.preferredCurrency,orderId:j,onSuccess:Xr,onError:es,locale:e}),T&&!h&&t.jsx("div",{className:"rounded-lg border border-emerald-500/50 bg-emerald-500/10 p-4 text-emerald-300",children:T})]}),h&&t.jsx("div",{className:"rounded-lg border border-red-500/50 bg-red-500/10 p-4 text-red-300",children:h})]}),t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"sticky top-8 space-y-6 rounded-3xl border border-white/10 bg-[#0b1129]/90 p-6 shadow-2xl",children:[t.jsx("h2",{className:"text-xl font-semibold",children:e==="CN"?"订单摘要":"Order Summary"}),t.jsx("div",{className:"space-y-3",children:s.map(P=>t.jsxs("div",{className:"flex items-start justify-between gap-3 text-sm",children:[t.jsx("span",{className:"text-white/80",children:P.name}),t.jsx("span",{className:"font-semibold text-gold",children:P.price})]},P.id))}),t.jsx("div",{className:"border-t border-white/10 pt-4",children:n.map(P=>t.jsxs("div",{className:"flex items-center justify-between text-lg",children:[t.jsxs("span",{className:"font-semibold text-white",children:["Total (",P.currency,")"]}),t.jsx("span",{className:"font-bold text-gold",children:ri(P.currency,P.amount,e)})]},P.currency))}),t.jsxs("button",{type:"button",onClick:Zr,disabled:u||N,className:"group relative w-full overflow-hidden rounded-xl bg-gradient-to-br from-emerald-500 via-teal-400 to-cyan-400 px-6 py-4 text-base font-bold text-black shadow-lg transition-all duration-300 hover:shadow-[0_0_40px_rgba(16,185,129,0.6)] disabled:opacity-50 disabled:cursor-not-allowed",children:[t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/70 via-teal-300/70 to-cyan-400/70 opacity-0 blur-md transition-opacity duration-300 group-hover:opacity-40"}),t.jsx("span",{className:"absolute inset-0 scale-95 rounded-xl border border-emerald-300/40 transition-all duration-300 group-hover:scale-100 group-hover:border-emerald-200/60"}),t.jsx("span",{className:"absolute inset-0 opacity-0 transition duration-300 group-hover:opacity-50",style:{boxShadow:"0 0 50px 12px rgba(16,185,129,0.35)"}}),t.jsx("span",{className:"relative z-10 inline-flex items-center justify-center gap-2 tracking-[0.14em] text-black group-hover:text-white",children:t.jsx("span",{className:"tracking-normal",children:N?e==="CN"?"请先完成上方支付表单":"Complete payment form above":u?e==="CN"?"处理中...":"Processing...":e==="CN"?"继续付款":"Proceed to Payment"})})]}),t.jsx("button",{type:"button",onClick:Y,disabled:u,className:"w-full rounded-full border border-white/20 bg-transparent px-6 py-3 text-sm font-medium text-white/80 transition-all duration-300 hover:border-red-400/50 hover:bg-red-500/10 hover:text-red-300 disabled:opacity-50",children:e==="CN"?"取消订单":"Cancel Order"}),t.jsx("p",{className:"text-center text-xs text-white/50",children:e==="CN"?"您的支付信息已加密传输":"Your payment information is securely encrypted"})]})})]})})]})]})}function Vl(){const{token:r}=hr(),e=fe(),{setItems:i}=Ue(),{lang:s}=W(),a=s==="CN"?"CN":"EN",[n,o]=b.useState("validating"),[c,l]=b.useState(null),[d,u]=b.useState(null);b.useEffect(()=>{r&&m()},[r]);async function m(){try{o("validating");const{data:p,error:g}=await D.rpc("validate_resume_token",{token:r});if(g)throw g;if(!p||p.length===0){o("expired");return}const y=p[0];let f=y;try{const{data:v,error:k}=await D.from("guest_orders").select("address_line1, address_line2, city, state_province, postcode, country").eq("id",y.id).single();!k&&v&&(f={...y,...v})}catch(v){console.warn("Failed to load full order details for resume:",v)}l(f),o("loading"),i(f.cart_items||[]),sessionStorage.setItem("resuming_order",JSON.stringify({orderId:f.id,email:f.guest_email,name:f.guest_name,phone:f.guest_phone,addressLine1:f.address_line1,addressLine2:f.address_line2,city:f.city,state:f.state_province,postcode:f.postcode,country:f.country,paymentMethod:f.payment_method||"stripe",currency:f.currency||"MYR",paymentStatus:f.payment_status})),o("success"),setTimeout(()=>{e("/checkout/payment")},2e3)}catch(p){console.error("Resume order error:",p),u(p.message),o("error")}}const h=()=>{if(!c)return null;const p=c.currency==="MYR"?c.total_myr:c.total_usd;return t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-6 shadow-2xl",children:[t.jsx("h2",{className:"mb-3 text-lg font-semibold text-white/90",children:a==="CN"?"订单摘要":"Order Summary"}),t.jsxs("div",{className:"space-y-2 text-sm text-white/80",children:[t.jsx("div",{className:"font-medium",children:c.guest_name}),t.jsx("div",{className:"text-white/70",children:c.guest_email}),t.jsxs("div",{className:"mt-3 text-white/60",children:[a==="CN"?"总额":"Total",":"]}),t.jsxs("div",{className:"text-lg font-semibold text-gold",children:[c.currency," ",typeof p=="number"?p.toFixed(2):"0.00"]})]})]})};return n==="validating"?t.jsx("div",{className:"container mx-auto px-4 py-16 text-white",children:t.jsxs("div",{className:"mx-auto max-w-xl rounded-3xl border border-white/10 bg-white/5 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 inline-block h-16 w-16 animate-spin rounded-full border-4 border-gold border-t-transparent"}),t.jsx("h1",{className:"mb-3 text-2xl font-semibold",children:a==="CN"?"正在验证订单...":"Validating your order..."}),t.jsx("p",{className:"text-white/70",children:a==="CN"?"请稍候，我们正在确认您的恢复链接。":"Please hold while we confirm your secure resume link."})]})}):n==="loading"||n==="success"?t.jsx("div",{className:"container mx-auto px-4 py-16 text-white",children:t.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[t.jsxs("div",{className:"rounded-3xl border border-emerald-500/30 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-4 text-5xl",children:"✨"}),t.jsx("h1",{className:"mb-3 text-3xl font-bold",children:a==="CN"?"订单已恢复！":"Order Restored!"}),t.jsx("p",{className:"text-white/80",children:a==="CN"?"我们已恢复您的订单详情，正在为您准备结账页面。":"We've restored your order details and are preparing your checkout."}),t.jsx("p",{className:"mt-3 text-sm text-white/60",children:a==="CN"?"即将跳转到付款页面，请不要关闭此窗口。":"You will be redirected to the payment page shortly. Please do not close this window."}),t.jsx("div",{className:"mt-6 inline-block h-8 w-8 animate-spin rounded-full border-2 border-white/30 border-t-emerald-400"})]}),h()]})}):n==="expired"?t.jsx("div",{className:"container mx-auto px-4 py-16 text-white",children:t.jsxs("div",{className:"mx-auto max-w-xl rounded-3xl border border-red-500/40 bg-red-500/10 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-4 text-5xl",children:"⏰"}),t.jsx("h1",{className:"mb-3 text-3xl font-bold text-red-300",children:a==="CN"?"链接已失效":"Link Expired"}),t.jsx("p",{className:"mb-6 text-white/80",children:a==="CN"?"此恢复链接已失效或已被使用。请重新选择服务并创建新的订单。":"This resume link has expired or has already been used. Please start a new order from the pricing page."}),t.jsx("button",{onClick:()=>e("/pricing"),className:"rounded-full bg-gradient-to-br from-gold to-amber-500 px-8 py-3 text-sm font-semibold text-black shadow-lg transition hover:shadow-[0_0_30px_rgba(250,204,21,0.5)]",children:a==="CN"?"返回方案与定价":"Back to Pricing"})]})}):n==="error"?t.jsx("div",{className:"container mx-auto px-4 py-16 text-white",children:t.jsxs("div",{className:"mx-auto max-w-xl rounded-3xl border border-red-500/40 bg-red-500/10 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-4 text-5xl",children:"⚠️"}),t.jsx("h1",{className:"mb-3 text-3xl font-bold text-red-300",children:a==="CN"?"出现问题":"Something Went Wrong"}),t.jsx("p",{className:"mb-6 text-white/80",children:d||(a==="CN"?"我们暂时无法恢复您的订单。请重试或联系支持团队协助处理。":"We were unable to restore your order. Please try again or contact support for assistance.")}),t.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row",children:[t.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 rounded-full border border-white/30 bg-transparent px-6 py-3 text-sm font-semibold text-white transition hover:bg-white/5",children:a==="CN"?"重试":"Retry"}),t.jsx("button",{onClick:()=>e("/contact"),className:"flex-1 rounded-full bg-gradient-to-br from-gold to-amber-500 px-6 py-3 text-sm font-semibold text-black shadow-lg transition hover:shadow-[0_0_30px_rgba(250,204,21,0.5)]",children:a==="CN"?"联系支持团队":"Contact Support"})]})]})}):null}function Kl(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",{clear:i}=Ue(),[s]=et(),a=s.get("order_id"),[n,o]=b.useState(null),[c,l]=b.useState(!0),[d,u]=b.useState(null);return b.useEffect(()=>{async function m(){if(!a){u(e==="CN"?"未找到订单":"Order not found"),l(!1);return}try{const{data:h,error:p}=await D.from("guest_orders").select("*").eq("id",a).single();if(p)throw p;o(h)}catch(h){console.error("Failed to load order:",h),u(e==="CN"?"加载订单失败":"Failed to load order")}finally{l(!1)}}m()},[a,e]),b.useEffect(()=>{if(n)try{if(i(),typeof window<"u"){const m=["EN","CN"];for(const h of m)window.localStorage.removeItem(`ma-pricing-cart-${h}`);window.dispatchEvent(new Event("cart-updated"))}}catch(m){console.warn("Failed to clear pricing cart on success page:",m)}},[n,i]),c?t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-white/20 border-t-emerald-500"}),t.jsx("p",{className:"text-white/70",children:e==="CN"?"正在加载...":"Loading..."})]})}):d?t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-2xl rounded-3xl border border-red-500/30 bg-red-500/10 p-8 text-center",children:[t.jsx("div",{className:"mb-4 text-6xl",children:"❌"}),t.jsx("h1",{className:"mb-4 text-3xl font-bold text-white",children:d}),t.jsx(R,{to:"/pricing",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(16,185,129,0.5)]",children:e==="CN"?"返回定价":"Back to Pricing"})]})}):t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[t.jsxs("div",{className:"rounded-3xl border border-emerald-500/30 bg-gradient-to-br from-emerald-500/10 to-teal-500/10 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx(Ge,{className:"h-24 w-24 text-emerald-400"})}),t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:e==="CN"?"付款成功！":"Payment Successful!"}),t.jsx("p",{className:"mb-6 text-lg text-white/80",children:e==="CN"?"感谢您的订购。我们已收到您的付款。":"Thank you for your order. We have received your payment."}),t.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[t.jsx("div",{className:"mb-2 text-sm text-white/60",children:e==="CN"?"订单编号":"Order ID"}),t.jsxs("div",{className:"font-mono text-lg text-emerald-400",children:[n?.id.slice(0,8),"..."]})]})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"订单详情":"Order Details"}),t.jsxs("div",{className:"space-y-4",children:[n?.cart_items.map((m,h)=>{const p=typeof m.amount=="number"?m.amount:Number.parseFloat(m.price?.toString().replace(/[^0-9.]/g,"")||"0")||0;return t.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4 last:border-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:m.name}),m.description&&t.jsx("div",{className:"text-sm text-white/60",children:m.description})]}),t.jsxs("div",{className:"font-semibold text-emerald-400",children:[n.currency," ",p.toFixed(2)]})]},h)}),t.jsxs("div",{className:"flex items-center justify-between border-t-2 border-emerald-500/30 pt-4",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:e==="CN"?"总计":"Total"}),t.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[n?.currency," ",n?.currency==="MYR"?n.total_myr.toFixed(2):n.total_usd.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"下一步":"Next Steps"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-emerald-500/20",children:t.jsx(Je,{className:"h-6 w-6 text-emerald-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 font-semibold text-white",children:e==="CN"?"查看您的邮箱":"Check Your Email"}),t.jsx("p",{className:"text-sm text-white/70",children:e==="CN"?`我们已向 ${n?.guest_email} 发送了订单确认邮件，其中包含您的服务访问详情。`:`We've sent an order confirmation to ${n?.guest_email} with details about accessing your services.`})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-teal-500/20",children:t.jsx(ge,{className:"h-6 w-6 text-teal-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 font-semibold text-white",children:e==="CN"?"使用魔法链接完成账户创建":"Finish setup via your magic link"}),t.jsx("p",{className:"mb-3 text-sm text-white/70",children:e==="CN"?"点击确认邮件中的链接使用魔法链接完成账户创建，即可访问客户门户并管理您的服务。":"We sent a magic link to your email. Use it to create your account and access your tools."}),t.jsx("div",{className:"inline-flex items-center gap-2 rounded-full bg-white/5 px-6 py-2 text-sm font-semibold text-white/80",children:e==="CN"?"请使用邮件中的魔法链接使用邮件中的魔法链接创建账户":"Use the magic link from your email to create your account"})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-full bg-cyan-500/20",children:t.jsx(sa,{className:"h-6 w-6 text-cyan-400"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 font-semibold text-white",children:e==="CN"?"需要帮助？":"Need Help?"}),t.jsxs("p",{className:"text-sm text-white/70",children:[e==="CN"?"如有任何疑问，请联系我们的销售团队：":"If you have any questions, contact our sales team at:"," ",t.jsx("a",{href:"mailto:sales@meta-alliance.my",className:"font-medium text-cyan-400 hover:underline",children:"sales@meta-alliance.my"})]})]})]})]})]}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsx(R,{to:"/",className:"flex-1 rounded-full border border-white/20 bg-transparent px-6 py-3 text-center font-semibold text-white transition-all duration-300 hover:border-white/40 hover:bg-white/5",children:e==="CN"?"返回首页":"Back to Home"}),t.jsx(R,{to:"/pricing",className:"flex-1 rounded-full bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-3 text-center font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(16,185,129,0.5)]",children:e==="CN"?"浏览更多服务":"Explore More Services"})]})]})})}function Yl(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",i=fe(),[s]=et(),a=s.get("order_id"),[n,o]=b.useState(null),[c,l]=b.useState(!0),[d,u]=b.useState(null),[m,h]=b.useState(!1);b.useEffect(()=>{async function y(){if(!a){u(e==="CN"?"未找到订单":"Order not found"),l(!1);return}try{const{data:f,error:v}=await D.from("guest_orders").select("*").eq("id",a).single();if(v)throw v;o(f)}catch(f){console.error("Failed to load order:",f),u(e==="CN"?"加载订单失败":"Failed to load order")}finally{l(!1)}}y()},[a,e]);const p=async()=>{h(!0);try{const{data:y,error:f}=await D.rpc("create_resume_token",{order_id:a});if(f)throw f;i(`/checkout/resume/${y}`)}catch(y){console.error("Failed to create resume token:",y),u(e==="CN"?"无法重试付款":"Unable to retry payment"),h(!1)}};if(c)return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-white/20 border-t-red-500"}),t.jsx("p",{className:"text-white/70",children:e==="CN"?"正在加载...":"Loading..."})]})});if(d&&!n)return t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-2xl rounded-3xl border border-red-500/30 bg-red-500/10 p-8 text-center",children:[t.jsx("div",{className:"mb-4 text-6xl",children:"❌"}),t.jsx("h1",{className:"mb-4 text-3xl font-bold text-white",children:d}),t.jsx(R,{to:"/pricing",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(16,185,129,0.5)]",children:e==="CN"?"返回定价":"Back to Pricing"})]})});const g=n?.payment_failure_reason||(e==="CN"?"付款处理失败":"Payment processing failed");return t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[t.jsxs("div",{className:"rounded-3xl border border-red-500/30 bg-gradient-to-br from-red-500/10 to-orange-500/10 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx(la,{className:"h-24 w-24 text-red-400"})}),t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:e==="CN"?"付款失败":"Payment Failed"}),t.jsx("p",{className:"mb-6 text-lg text-white/80",children:e==="CN"?"您的付款未能处理。请查看下方详情并重试。":"Your payment could not be processed. Please review the details below and try again."}),t.jsxs("div",{className:"rounded-lg border border-red-400/30 bg-red-500/10 p-4",children:[t.jsx("div",{className:"mb-2 text-sm text-white/60",children:e==="CN"?"失败原因":"Failure Reason"}),t.jsx("div",{className:"text-lg text-red-300",children:g})]})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"订单详情":"Order Details"}),t.jsxs("div",{className:"mb-6 space-y-4",children:[n?.cart_items.map((y,f)=>t.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4 last:border-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:y.name}),y.description&&t.jsx("div",{className:"text-sm text-white/60",children:y.description})]}),t.jsxs("div",{className:"font-semibold text-white",children:[n.currency," ",y.price.toFixed(2)]})]},f)),t.jsxs("div",{className:"flex items-center justify-between border-t-2 border-white/20 pt-4",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:e==="CN"?"总计":"Total"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:[n?.currency," ",n?.currency==="MYR"?n.total_myr.toFixed(2):n.total_usd.toFixed(2)]})]})]}),t.jsxs("button",{onClick:p,disabled:m,className:"group relative w-full overflow-hidden rounded-xl bg-gradient-to-br from-emerald-500 via-teal-400 to-cyan-400 px-6 py-4 text-base font-bold text-black shadow-lg transition-all duration-300 hover:shadow-[0_0_40px_rgba(16,185,129,0.6)] disabled:cursor-not-allowed disabled:opacity-50",children:[t.jsx("span",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/70 via-teal-300/70 to-cyan-400/70 opacity-0 blur-md transition-opacity duration-300 group-hover:opacity-40"}),t.jsxs("span",{className:"relative z-10 inline-flex items-center justify-center gap-2",children:[t.jsx(br,{className:m?"animate-spin":""}),m?e==="CN"?"正在准备...":"Preparing...":e==="CN"?"重试付款":"Retry Payment"]})]})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"常见问题":"Common Issues"}),t.jsxs("div",{className:"space-y-4 text-white/70",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"shrink-0 text-lg",children:"💳"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:e==="CN"?"卡片被拒绝":"Card Declined"}),t.jsx("p",{className:"text-sm",children:e==="CN"?"请检查您的卡片详情是否正确，或尝试使用其他付款方式。":"Check that your card details are correct or try a different payment method."})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"shrink-0 text-lg",children:"🔒"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:e==="CN"?"需要身份验证":"Authentication Required"}),t.jsx("p",{className:"text-sm",children:e==="CN"?"您的银行可能需要额外验证。请确保已启用 3D Secure。":"Your bank may require additional verification. Ensure 3D Secure is enabled."})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"shrink-0 text-lg",children:"💰"}),t.jsxs("div",{children:[t.jsx("strong",{className:"text-white",children:e==="CN"?"余额不足":"Insufficient Funds"}),t.jsx("p",{className:"text-sm",children:e==="CN"?"请确保您的账户有足够的余额完成交易。":"Ensure your account has sufficient balance to complete the transaction."})]})]})]})]}),t.jsx("div",{className:"rounded-3xl border border-cyan-500/30 bg-cyan-500/10 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Je,{className:"h-6 w-6 shrink-0 text-cyan-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 font-semibold text-white",children:e==="CN"?"需要帮助？":"Need Help?"}),t.jsx("p",{className:"text-sm text-white/70",children:e==="CN"?"如果问题仍然存在，请联系我们的销售团队，我们将协助您完成订单。":"If the issue persists, contact our sales team and we'll help you complete your order."}),t.jsx("a",{href:"mailto:sales@meta-alliance.my",className:"mt-2 inline-block font-medium text-cyan-400 hover:underline",children:"sales@meta-alliance.my"})]})]})}),t.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[t.jsxs(R,{to:"/pricing",className:"flex flex-1 items-center justify-center gap-2 rounded-full border border-white/20 bg-transparent px-6 py-3 font-semibold text-white transition-all duration-300 hover:border-white/40 hover:bg-white/5",children:[t.jsx(si,{}),e==="CN"?"返回定价":"Back to Pricing"]}),t.jsx(R,{to:"/contact",className:"flex-1 rounded-full bg-gradient-to-br from-cyan-600 to-blue-600 px-6 py-3 text-center font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(34,211,238,0.5)]",children:e==="CN"?"联系支持":"Contact Support"})]})]})})}function Gl(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",[i]=et(),s=i.get("order_id"),[a,n]=b.useState(null),[o,c]=b.useState(!0),[l,d]=b.useState(null),[u,m]=b.useState(!1);b.useEffect(()=>{async function p(){if(!s){d(e==="CN"?"未找到订单":"Order not found"),c(!1);return}try{const{data:g,error:y}=await D.from("guest_orders").select("*").eq("id",s).single();if(y)throw y;n(g)}catch(g){console.error("Failed to load order:",g),d(e==="CN"?"加载订单失败":"Failed to load order")}finally{c(!1)}}p()},[s,e]);const h=async()=>{m(!0);try{const{data:p,error:g}=await D.from("guest_orders").select("payment_status").eq("id",s).single();if(g)throw g;p.payment_status==="succeeded"?window.location.href=`/checkout/success?order_id=${s}`:p.payment_status==="failed"?window.location.href=`/checkout/failed?order_id=${s}`:n(y=>({...y,payment_status:p.payment_status}))}catch(p){console.error("Failed to check payment status:",p)}finally{m(!1)}};return o?t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-4 inline-block h-12 w-12 animate-spin rounded-full border-4 border-white/20 border-t-yellow-500"}),t.jsx("p",{className:"text-white/70",children:e==="CN"?"正在加载...":"Loading..."})]})}):l?t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-2xl rounded-3xl border border-red-500/30 bg-red-500/10 p-8 text-center",children:[t.jsx("div",{className:"mb-4 text-6xl",children:"❌"}),t.jsx("h1",{className:"mb-4 text-3xl font-bold text-white",children:l}),t.jsx(R,{to:"/pricing",className:"inline-flex items-center gap-2 rounded-full bg-gradient-to-br from-emerald-600 to-teal-600 px-6 py-3 font-semibold text-white shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(16,185,129,0.5)]",children:e==="CN"?"返回定价":"Back to Pricing"})]})}):t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-4xl space-y-8",children:[t.jsxs("div",{className:"rounded-3xl border border-yellow-500/30 bg-gradient-to-br from-yellow-500/10 to-orange-500/10 p-8 text-center shadow-2xl",children:[t.jsx("div",{className:"mb-6 flex justify-center",children:t.jsx(wt,{className:"h-24 w-24 animate-pulse text-yellow-400"})}),t.jsx("h1",{className:"mb-4 text-4xl font-bold text-white",children:e==="CN"?"付款处理中":"Payment Processing"}),t.jsx("p",{className:"mb-6 text-lg text-white/80",children:e==="CN"?"您的付款正在处理中。这可能需要几分钟到几小时。":"Your payment is being processed. This may take a few minutes to a few hours."}),t.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4",children:[t.jsx("div",{className:"mb-2 text-sm text-white/60",children:e==="CN"?"订单编号":"Order ID"}),t.jsxs("div",{className:"font-mono text-lg text-yellow-400",children:[a?.id.slice(0,8),"..."]})]})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"付款状态":"Payment Status"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-emerald-500 text-white",children:t.jsx(Ge,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 pt-1",children:[t.jsx("h3",{className:"font-semibold text-white",children:e==="CN"?"订单已提交":"Order Submitted"}),t.jsx("p",{className:"text-sm text-white/60",children:e==="CN"?"您的订单已成功提交。":"Your order has been submitted successfully."})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-yellow-500 text-black",children:t.jsx(wt,{className:"h-5 w-5 animate-pulse"})}),t.jsxs("div",{className:"flex-1 pt-1",children:[t.jsx("h3",{className:"font-semibold text-white",children:e==="CN"?"付款处理中":"Payment Processing"}),t.jsx("p",{className:"text-sm text-white/60",children:e==="CN"?"等待您的银行或付款提供商确认。":"Waiting for confirmation from your bank or payment provider."})]})]}),t.jsxs("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-white/10 text-white/40",children:t.jsx(Je,{className:"h-5 w-5"})}),t.jsxs("div",{className:"flex-1 pt-1",children:[t.jsx("h3",{className:"font-semibold text-white/50",children:e==="CN"?"确认邮件":"Confirmation Email"}),t.jsx("p",{className:"text-sm text-white/40",children:e==="CN"?"付款确认后将发送邮件。":"Email will be sent once payment is confirmed."})]})]})]}),t.jsx("button",{onClick:h,disabled:u,className:"mt-8 w-full rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 px-6 py-4 font-semibold text-black shadow-lg transition-all duration-300 hover:shadow-[0_0_30px_rgba(234,179,8,0.5)] disabled:cursor-not-allowed disabled:opacity-50",children:t.jsxs("span",{className:"inline-flex items-center gap-2",children:[t.jsx(br,{className:u?"animate-spin":""}),u?e==="CN"?"检查中...":"Checking...":e==="CN"?"检查付款状态":"Check Payment Status"]})})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"订单详情":"Order Details"}),t.jsxs("div",{className:"space-y-4",children:[a?.cart_items.map((p,g)=>t.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-4 last:border-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium text-white",children:p.name}),p.description&&t.jsx("div",{className:"text-sm text-white/60",children:p.description})]}),t.jsxs("div",{className:"font-semibold text-white",children:[a.currency," ",p.price.toFixed(2)]})]},g)),t.jsxs("div",{className:"flex items-center justify-between border-t-2 border-white/20 pt-4",children:[t.jsx("div",{className:"text-lg font-bold text-white",children:e==="CN"?"总计":"Total"}),t.jsxs("div",{className:"text-2xl font-bold text-white",children:[a?.currency," ",a?.currency==="MYR"?a.total_myr.toFixed(2):a.total_usd.toFixed(2)]})]})]})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[t.jsx("h2",{className:"mb-6 text-2xl font-semibold text-white",children:e==="CN"?"接下来会发生什么？":"What Happens Next?"}),t.jsxs("div",{className:"space-y-4 text-white/70",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"shrink-0 text-lg",children:"📧"}),t.jsx("p",{className:"text-sm",children:e==="CN"?"付款确认后，您将收到一封确认邮件，其中包含订单详情。":"Once your payment is confirmed, you'll receive a confirmation email with your order details."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"shrink-0 text-lg",children:"🔐"}),t.jsx("p",{className:"text-sm",children:e==="CN"?"邮件中将包含创建账户的链接，您可以访问客户门户。":"The email will include a link to create your account and access the customer portal."})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"shrink-0 text-lg",children:"⏰"}),t.jsx("p",{className:"text-sm",children:e==="CN"?"如果超过 24 小时未收到确认，请联系我们的支持团队。":"If you don't receive confirmation within 24 hours, contact our support team."})]})]})]}),t.jsx("div",{className:"rounded-3xl border border-cyan-500/30 bg-cyan-500/10 p-6",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Je,{className:"h-6 w-6 shrink-0 text-cyan-400"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"mb-2 font-semibold text-white",children:e==="CN"?"需要帮助？":"Need Help?"}),t.jsx("p",{className:"text-sm text-white/70",children:e==="CN"?"如有任何疑问，请联系我们的销售团队。":"If you have any questions, contact our sales team."}),t.jsx("a",{href:"mailto:sales@meta-alliance.my",className:"mt-2 inline-block font-medium text-cyan-400 hover:underline",children:"sales@meta-alliance.my"})]})]})}),t.jsx("div",{className:"flex justify-center",children:t.jsx(R,{to:"/",className:"rounded-full border border-white/20 bg-transparent px-8 py-3 font-semibold text-white transition-all duration-300 hover:border-white/40 hover:bg-white/5",children:e==="CN"?"返回首页":"Back to Home"})})]})})}function Jl(r){return B({attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(r)}async function Ql(r){const{data:e,error:i}=await D.auth.signInWithOAuth({provider:"google",options:{redirectTo:r||`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}}});if(i)throw i;return e}async function Zl(r){const{data:e,error:i}=await D.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:r||`${window.location.origin}/auth/callback`,scopes:"email,public_profile"}});if(i)throw i;return e}async function Xl(r){const{data:e,error:i}=await D.auth.signInWithOAuth({provider:"apple",options:{redirectTo:r||`${window.location.origin}/auth/callback`}});if(i)throw i;return e}async function ec(r,e,i){const{data:s,error:a}=await D.auth.signUp({email:r,password:e,options:{data:{full_name:i},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(a)throw a;return s}async function tc(r,e){const{data:i,error:s}=await D.auth.signInWithPassword({email:r,password:e});if(s)throw s;return i}async function ic(r){const{data:e,error:i}=await D.auth.signInWithOtp({email:r,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(i)throw i;return e}async function fi(){const{data:r,error:e}=await D.auth.getUser();if(e)throw e;return r.user}async function yi(r){const e=(await fi())?.id;if(!e)throw new Error("No authenticated user");const{data:i,error:s}=await D.from("user_profiles").select("*").eq("user_id",e).maybeSingle();if(s){if(s.code==="PGRST116")return null;throw s}return i}async function Jr(r,e){const i=(await fi())?.id;if(!i)throw new Error("No authenticated user");const{data:s,error:a}=await D.from("user_profiles").update(r).eq("user_id",i).select().single();if(a)throw a;return s}async function rc(r){return Jr({...r,profile_state:"complete",completion_pct:100})}async function sc(){const r=await yi();return r?r.profile_state==="complete"||typeof r.completion_pct=="number"&&r.completion_pct>=100:!1}async function ac(){let r=await yi();if(!r){const e=await fi();if(!e)throw new Error("No authenticated user");const{data:i,error:s}=await D.from("user_profiles").insert({user_id:e.id,email:e.email,full_name:e.user_metadata.full_name||e.user_metadata.name,avatar_url:e.user_metadata.avatar_url}).select().single();if(s)throw s;r=i}return r}function nc({locale:r="EN"}){const e=fe(),[i]=et(),s=i.get("redirect")||`/${r}/profile/complete`,[a,n]=b.useState("signin"),[o,c]=b.useState(""),[l,d]=b.useState(""),[u,m]=b.useState(""),[h,p]=b.useState(!1),[g,y]=b.useState(null),[f,v]=b.useState(null),k=async j=>{p(!0),y(null);try{const S=`${window.location.origin}/auth/callback?redirect=${encodeURIComponent(s)}`;j==="google"?await Ql(S):j==="facebook"?await Zl(S):await Xl(S)}catch(S){y(S.message||`Failed to sign in with ${j}`),p(!1)}},x=async j=>{j.preventDefault(),p(!0),y(null),v(null);try{a==="signin"?(await tc(o,l),e(s)):a==="signup"?(await ec(o,l,u)).user?.email_confirmed_at?e(s):v(r==="CN"?"注册成功！请查收邮箱完成验证。":"Sign up successful! Please check your email to confirm your account."):(await ic(o),v(r==="CN"?`魔法链接已发送至 ${o}，请查收邮箱。`:`Magic link sent to ${o}. Please check your inbox.`))}catch(S){y(S.message||"Authentication failed")}finally{p(!1)}},A={EN:{title:a==="signin"?"Welcome Back":a==="signup"?"Create Account":"Sign In Easily",subtitle:a==="signin"?"Sign in to access your subscriptions":a==="signup"?"Join Meta Alliance to unlock metaphysics insights":"We will send you a magic link to sign in",googleBtn:"Continue with Google",facebookBtn:"Continue with Facebook",appleBtn:"Continue with Apple",orDivider:"OR",emailLabel:"Email Address",passwordLabel:"Password",fullNameLabel:"Full Name",submitBtn:a==="signin"?"Sign In":a==="signup"?"Sign Up":"Send Magic Link",switchToSignup:"Don't have an account?",switchToSignin:"Already have an account?",switchToMagic:"Prefer passwordless?",switchLink:a==="signin"?"Sign up":a==="signup"?"Sign in":"Use password"},CN:{title:a==="signin"?"欢迎回来":a==="signup"?"创建账户":"轻松登录",subtitle:a==="signin"?"登录以访问您的订阅":a==="signup"?"加入 Meta Alliance，解锁玄学洞见":"我们会发送魔法链接帮助您登录",googleBtn:"使用 Google 继续",facebookBtn:"使用 Facebook 继续",appleBtn:"使用 Apple 继续",orDivider:"或",emailLabel:"电子邮件地址",passwordLabel:"密码",fullNameLabel:"全名",submitBtn:a==="signin"?"登录":a==="signup"?"注册":"发送魔法链接",switchToSignup:"还没有账户？",switchToSignin:"已经有账户？",switchToMagic:"更喜欢免密登录？",switchLink:a==="signin"?"去注册":a==="signup"?"去登录":"使用密码"}}[r];return t.jsx("div",{className:"container mx-auto flex min-h-screen items-center justify-center px-4 py-16",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("h1",{className:"mb-2 bg-gradient-to-r from-gold to-[#4169e1] bg-clip-text text-4xl font-bold text-transparent",children:A.title}),t.jsx("p",{className:"text-white/70",children:A.subtitle})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-2xl backdrop-blur-sm",children:[g&&t.jsx("div",{className:"mb-6 rounded-lg border border-red-500/50 bg-red-500/10 p-4 text-sm text-red-300",children:g}),f&&t.jsx("div",{className:"mb-6 rounded-lg border border-green-500/50 bg-green-500/10 p-4 text-sm text-green-300",children:f}),a!=="magic"&&t.jsxs(t.Fragment,{children:[t.jsxs("button",{onClick:()=>k("google"),disabled:h,className:"mb-3 flex w-full items-center justify-center gap-3 rounded-lg border border-white/20 bg-white px-4 py-3 font-medium text-gray-900 transition hover:bg-gray-100 disabled:opacity-50",children:[t.jsx(Jl,{className:"text-xl"}),A.googleBtn]}),t.jsxs("button",{onClick:()=>k("facebook"),disabled:h,className:"mb-3 flex w-full items-center justify-center gap-3 rounded-lg border border-[#1877f2] bg-[#1877f2] px-4 py-3 font-medium text-white transition hover:bg-[#166fe5] disabled:opacity-50",children:[t.jsx(Kr,{className:"text-xl"}),A.facebookBtn]}),t.jsxs("button",{onClick:()=>k("apple"),disabled:h,className:"mb-6 flex w-full items-center justify-center gap-3 rounded-lg border border-black bg-black px-4 py-3 font-medium text-white transition hover:bg-gray-900 disabled:opacity-50",children:[t.jsx(pl,{className:"text-xl"}),A.appleBtn]}),t.jsxs("div",{className:"relative mb-6",children:[t.jsx("div",{className:"absolute inset-0 flex items-center",children:t.jsx("div",{className:"w-full border-t border-white/20"})}),t.jsx("div",{className:"relative flex justify-center text-sm",children:t.jsx("span",{className:"bg-[#0a1025] px-4 text-white/50",children:A.orDivider})})]})]}),t.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a==="signup"&&t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:A.fullNameLabel}),t.jsx("input",{type:"text",value:u,onChange:j=>m(j.target.value),required:!0,className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:r==="CN"?"输入您的全名":"Enter your full name"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:A.emailLabel}),t.jsx("input",{type:"email",value:o,onChange:j=>c(j.target.value),required:!0,className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:r==="CN"?"您的电子邮件":"your@email.com"})]}),a!=="magic"&&t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:A.passwordLabel}),t.jsx("input",{type:"password",value:l,onChange:j=>d(j.target.value),required:!0,minLength:6,className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:r==="CN"?"至少 6 个字符":"At least 6 characters"})]}),t.jsx("button",{type:"submit",disabled:h,className:"w-full rounded-lg bg-gradient-to-r from-gold to-[#4169e1] px-4 py-3 font-semibold text-white transition hover:shadow-lg hover:shadow-gold/50 disabled:opacity-50",children:h?r==="CN"?"处理中...":"Processing...":A.submitBtn})]}),t.jsx("div",{className:"mt-6 text-center text-sm text-white/60",children:a==="magic"?t.jsx("button",{onClick:()=>n("signin"),className:"text-gold hover:underline",children:A.switchLink}):t.jsxs(t.Fragment,{children:[a==="signin"?A.switchToSignup:A.switchToSignin," ",t.jsx("button",{onClick:()=>n(a==="signin"?"signup":"signin"),className:"text-gold hover:underline",children:A.switchLink}),t.jsx("br",{}),t.jsx("button",{onClick:()=>n("magic"),className:"mt-2 text-gold hover:underline",children:A.switchToMagic})]})})]}),t.jsxs("p",{className:"mt-6 text-center text-xs text-white/50",children:[r==="CN"?"继续操作即表示您同意我们的":"By continuing, you agree to our"," ",t.jsx("a",{href:`/${r}/legal/terms`,className:"text-gold hover:underline",children:r==="CN"?"服务条款":"Terms of Service"})," ",r==="CN"?"和":"and"," ",t.jsx("a",{href:`/${r}/legal/privacy`,className:"text-gold hover:underline",children:r==="CN"?"隐私政策":"Privacy Policy"})]})]})})}function oc({locale:r="EN"}){const e=fe(),[i]=et(),[s,a]=b.useState("processing"),[n,o]=b.useState("");b.useEffect(()=>{c()},[]);const c=async()=>{try{const l=new URLSearchParams(window.location.hash.substring(1)),d=l.get("access_token"),u=l.get("refresh_token");if(!d)throw new Error("No access token found in callback");const{data:m,error:h}=await D.auth.setSession({access_token:d,refresh_token:u||""});if(h)throw h;a("success"),o(r==="CN"?"认证成功！正在重定向...":"Authentication successful! Redirecting..."),await ac();const p=await sc(),g=i.get("redirect");e(p?g?decodeURIComponent(g):`/${r}/pricing`:`/${r}/profile/complete`)}catch(l){console.error("Auth callback error:",l),a("error"),o(r==="CN"?`认证失败：${l.message}`:`Authentication failed: ${l.message}`),setTimeout(()=>{e(`/${r}/auth`)},3e3)}};return t.jsx("div",{className:"container mx-auto flex min-h-screen items-center justify-center px-4",children:t.jsxs("div",{className:"text-center",children:[s==="processing"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-6 inline-block h-16 w-16 animate-spin rounded-full border-4 border-white/20 border-t-gold"}),t.jsx("h2",{className:"text-2xl font-semibold text-white",children:r==="CN"?"正在处理您的登录...":"Processing your sign-in..."}),t.jsx("p",{className:"mt-2 text-white/60",children:r==="CN"?"请稍候":"Please wait a moment"})]}),s==="success"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-green-500/20 text-4xl text-green-400",children:"✓"}),t.jsx("h2",{className:"text-2xl font-semibold text-white",children:n})]}),s==="error"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mb-6 inline-flex h-16 w-16 items-center justify-center rounded-full bg-red-500/20 text-4xl text-red-400",children:"✕"}),t.jsx("h2",{className:"text-2xl font-semibold text-white",children:n}),t.jsx("p",{className:"mt-4 text-white/60",children:r==="CN"?"正在重定向到登录页...":"Redirecting to sign-in page..."})]})]})})}const lc=["Johor","Kedah","Kelantan","Malacca","Negeri Sembilan","Pahang","Penang","Perak","Perlis","Sabah","Sarawak","Selangor","Terengganu","Federal Territory of Kuala Lumpur","Federal Territory of Labuan","Federal Territory of Putrajaya"],Le=[{id:1,title:"Basic Information",titleCN:"基本信息"},{id:2,title:"Address Details",titleCN:"地址详情"},{id:3,title:"Preferences",titleCN:"偏好设置"},{id:4,title:"Confirmation",titleCN:"确认信息"}];function cc({locale:r="EN"}){const e=fe(),[i,s]=b.useState(1),[a,n]=b.useState(!1),[o,c]=b.useState(null),[l,d]=b.useState({full_name:"",phone:"",address_line1:"",address_line2:"",city:"",state_province:"",postcode:"",country:"Malaysia",preferred_language:r,preferred_currency:"MYR",marketing_consent:!1,newsletter_subscribed:!1});b.useEffect(()=>{u()},[]);const u=async()=>{try{const f=await yi();f&&d(v=>({...v,full_name:f.full_name||"",phone:f.phone||"",address_line1:f.address_line1||"",address_line2:f.address_line2||"",city:f.city||"",state_province:f.state_province||"",postcode:f.postcode||"",country:f.country||"Malaysia",preferred_language:f.preferred_language||r,preferred_currency:f.preferred_currency||"MYR"}))}catch(f){console.error("Failed to load profile:",f)}},m=(f,v)=>{d(k=>({...k,[f]:v})),c(null)},h=f=>{switch(f){case 1:if(!l.full_name?.trim())return c(r==="CN"?"请输入姓名":"Please enter your full name"),!1;if(!l.phone?.trim())return c(r==="CN"?"请输入电话号码":"Please enter your phone number"),!1;break;case 2:if(!l.address_line1?.trim())return c(r==="CN"?"请输入地址":"Please enter your address"),!1;if(!l.city?.trim())return c(r==="CN"?"请输入城市":"Please enter your city"),!1;if(!l.state_province?.trim())return c(r==="CN"?"请选择州/省":"Please select your state/province"),!1;if(!l.postcode?.trim())return c(r==="CN"?"请输入邮编":"Please enter your postcode"),!1;break}return!0},p=async()=>{if(h(i)){n(!0),c(null);try{await Jr({...l,onboarding_step:i}),i<Le.length&&s(f=>f+1)}catch(f){c(f.message||"Failed to save profile")}finally{n(!1)}}},g=()=>{i>1&&s(f=>f-1)},y=async()=>{n(!0),c(null);try{await rc(l),e(`/${r}/pricing`)}catch(f){c(f.message||"Failed to complete profile")}finally{n(!1)}};return t.jsxs("div",{className:"container mx-auto max-w-2xl px-4 py-16",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:Le.map((f,v)=>t.jsxs("div",{className:"flex flex-1 items-center",children:[t.jsx("div",{className:`flex h-10 w-10 items-center justify-center rounded-full border-2 ${i>=f.id?"border-gold bg-gold text-black":"border-white/30 bg-transparent text-white/50"}`,children:f.id}),v<Le.length-1&&t.jsx("div",{className:`h-0.5 flex-1 ${i>f.id?"bg-gold":"bg-white/20"}`})]},f.id))}),t.jsx("div",{className:"mt-4 text-center",children:t.jsx("h2",{className:"text-2xl font-semibold text-white",children:r==="CN"?Le[i-1].titleCN:Le[i-1].title})})]}),o&&t.jsx("div",{className:"mb-6 rounded-lg border border-red-500/50 bg-red-500/10 p-4 text-red-300",children:o}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[i===1&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[r==="CN"?"全名":"Full Name"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:l.full_name||"",onChange:f=>m("full_name",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:r==="CN"?"输入您的全名":"Enter your full name"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[r==="CN"?"电话号码":"Phone Number"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"tel",value:l.phone||"",onChange:f=>m("phone",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:"+60 12-345 6789"})]})]}),i===2&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[r==="CN"?"地址第一行":"Address Line 1"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:l.address_line1||"",onChange:f=>m("address_line1",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:r==="CN"?"街道地址":"Street address"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:r==="CN"?"地址第二行":"Address Line 2"}),t.jsx("input",{type:"text",value:l.address_line2||"",onChange:f=>m("address_line2",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none",placeholder:r==="CN"?"单元/楼层（可选）":"Apt, suite, etc. (optional)"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[r==="CN"?"城市":"City"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:l.city||"",onChange:f=>m("city",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[r==="CN"?"邮编":"Postcode"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:l.postcode||"",onChange:f=>m("postcode",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[r==="CN"?"州/省":"State / Province"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsxs("select",{value:l.state_province||"",onChange:f=>m("state_province",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:[t.jsx("option",{value:"",children:r==="CN"?"选择州":"Select state"}),lc.map(f=>t.jsx("option",{value:f,className:"bg-[#0a1025] text-white",children:f},f))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:r==="CN"?"国家":"Country"}),t.jsx("input",{type:"text",value:l.country||"Malaysia",onChange:f=>m("country",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]})]}),i===3&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:r==="CN"?"首选语言":"Preferred Language"}),t.jsxs("select",{value:l.preferred_language||"EN",onChange:f=>m("preferred_language",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:[t.jsx("option",{value:"EN",className:"bg-[#0a1025]",children:"English"}),t.jsx("option",{value:"CN",className:"bg-[#0a1025]",children:"中文"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:r==="CN"?"首选货币":"Preferred Currency"}),t.jsxs("select",{value:l.preferred_currency||"MYR",onChange:f=>m("preferred_currency",f.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:[t.jsx("option",{value:"MYR",className:"bg-[#0a1025]",children:"MYR (RM)"}),t.jsx("option",{value:"USD",className:"bg-[#0a1025]",children:"USD ($)"})]})]}),t.jsxs("div",{className:"space-y-4 rounded-lg border border-white/10 bg-white/5 p-4",children:[t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:l.marketing_consent||!1,onChange:f=>m("marketing_consent",f.target.checked),className:"mt-1 h-5 w-5 rounded border-white/20 bg-white/10 text-gold focus:ring-gold"}),t.jsx("span",{className:"text-sm text-white/80",children:r==="CN"?"我同意接收有关服务更新和特别优惠的营销通讯。":"I agree to receive marketing communications about service updates and special offers."})]}),t.jsxs("label",{className:"flex items-start gap-3",children:[t.jsx("input",{type:"checkbox",checked:l.newsletter_subscribed||!1,onChange:f=>m("newsletter_subscribed",f.target.checked),className:"mt-1 h-5 w-5 rounded border-white/20 bg-white/10 text-gold focus:ring-gold"}),t.jsx("span",{className:"text-sm text-white/80",children:r==="CN"?"订阅我们的月度新闻简报，获取玄学洞见和行业趋势。":"Subscribe to our monthly newsletter for metaphysics insights and industry trends."})]})]})]}),i===4&&t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-6 text-sm text-white/80",children:[t.jsx("h3",{className:"mb-4 text-lg font-semibold text-white",children:r==="CN"?"请确认您的信息":"Please confirm your information"}),t.jsxs("dl",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("dt",{className:"font-semibold",children:"Name:"}),t.jsx("dd",{children:l.full_name})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-semibold",children:"Phone:"}),t.jsx("dd",{children:l.phone})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-semibold",children:"Address:"}),t.jsxs("dd",{children:[l.address_line1,l.address_line2&&`, ${l.address_line2}`]})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-semibold",children:"City:"}),t.jsxs("dd",{children:[l.city,", ",l.postcode]})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-semibold",children:"State:"}),t.jsx("dd",{children:l.state_province})]}),t.jsxs("div",{children:[t.jsx("dt",{className:"font-semibold",children:"Country:"}),t.jsx("dd",{children:l.country})]})]})]}),t.jsx("p",{className:"text-center text-sm text-white/60",children:r==="CN"?"点击完成后，您将被重定向到订阅页面。":"After completing, you will be redirected to the subscription page."})]}),t.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[i>1&&t.jsx("button",{onClick:g,disabled:a,className:"rounded-lg border border-white/20 px-6 py-3 text-white transition hover:border-white/40 disabled:opacity-50",children:r==="CN"?"返回":"Back"}),t.jsx("div",{className:"ml-auto",children:i<Le.length?t.jsx("button",{onClick:p,disabled:a,className:"rounded-lg bg-gradient-to-r from-gold to-[#4169e1] px-8 py-3 font-semibold text-white transition hover:shadow-lg hover:shadow-gold/50 disabled:opacity-50",children:a?r==="CN"?"保存中...":"Saving...":r==="CN"?"下一步":"Next"}):t.jsx("button",{onClick:y,disabled:a,className:"rounded-lg bg-gradient-to-r from-gold to-[#4169e1] px-8 py-3 font-semibold text-white transition hover:shadow-lg hover:shadow-gold/50 disabled:opacity-50",children:a?r==="CN"?"提交中...":"Submitting...":r==="CN"?"完成并继续":"Complete & Continue"})})]})]})]})}function dc(){const{token:r}=hr(),e=fe(),{lang:i}=W(),s=i==="CN"?"CN":"EN",n=`${window.location.origin.replace(/\/+$/,"")}/login`,o="",c=y=>`${o}${y.startsWith("/")?y:`/${y}`}`,[l,d]=b.useState("validating"),[u,m]=b.useState(null),[h,p]=b.useState(0);b.useEffect(()=>{r&&g(String(r))},[r]);const g=async y=>{try{p(10),d("validating");const f=c(`/api/magic-link/resolve?token=${encodeURIComponent(y)}`),v=await fetch(f);if(!v.ok){const T=await v.json().catch(()=>null);console.error("Magic link resolve failed:",v.status,T),m(s==="CN"?"链接无效或已过期，如问题持续请联系支持团队。":"Invalid or expired magic link. Please contact support if this persists."),d("error");return}const x=(await v.json())?.order;if(!x){m(s==="CN"?"无法解析魔法链接，请联系支持团队。":"Unable to resolve magic link. Please contact support."),d("error");return}if(x.payment_status!=="succeeded"){m(s==="CN"?"付款尚未完成，请稍后重试。":"Payment is not completed yet. Please try again later."),d("error");return}if(x.account_created){m(s==="CN"?"此链接已被使用，请直接登录。":"This magic link has already been used. Please sign in to your Metaphysics Alliance account."),d("error");return}p(25),d("creating");const C=Math.random().toString(36).slice(-12)+Math.random().toString(36).slice(-12),{data:A,error:j}=await D.auth.signUp({email:x.guest_email,password:C,options:{data:{full_name:x.guest_name,source:"magic_link",order_id:x.id},emailRedirectTo:window.location.origin+"/profile/complete"}});if(j||!A||!A.user){console.error("Auth signUp failed:",j),m(s==="CN"?"创建账户失败，请稍后重试。":"Failed to create account. Please try again later."),d("error");return}const S=A.user.id;try{const _=`${window.location.origin.replace(/\/+$/,"")}/login`;await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"account-welcome",to:x.guest_email,name:x.guest_name,loginEmail:x.guest_email,tempPassword:C,loginUrl:_})}),console.log("✅ Account welcome email sent")}catch(T){console.warn("Failed to send account welcome email:",T)}p(60);try{const{data:T,error:O}=await D.from("subscription_plans").select("id, plan_code").in("plan_code",["essential","advanced","supreme"]);if(O)console.warn("Failed to load subscription plans:",O);else if(T&&T.length>0){const _=["essential","advanced","supreme"];let $=T.find(te=>te.plan_code===_[0]);$||($=T.find(te=>te.plan_code===_[1])||T[0]);const{error:q}=await D.from("user_subscriptions").insert([{user_id:S,plan_id:$.id,status:"active",started_at:new Date().toISOString(),auto_renew:!1}]);q&&console.warn("Failed to create user_subscriptions record:",q)}}catch(T){console.warn("Unexpected error while creating user_subscriptions record:",T)}p(80);try{const T=await fetch(c("/api/payments/mirror-from-order"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({magicToken:y,userId:S})});if(T.ok){const O=await T.json().catch(()=>null);console.log("Payment mirrored to Tools ledger:",O)}else{const O=await T.json().catch(()=>null);console.warn("Payment mirroring failed:",T.status,O)}}catch(T){console.warn("Unexpected error while mirroring payment to Tools:",T)}p(90);const{error:N}=await D.from("guest_orders").update({account_created:!0,user_id:S,magic_link_clicked_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",x.id);N&&console.warn("Failed to mark order complete:",N),p(100),d("success");const w=`${n}?email=${encodeURIComponent(x.guest_email)}`;setTimeout(()=>{window.location.href=w},1200)}catch(f){console.error("Magic link error:",f),m(f&&f.message||(s==="CN"?"无法处理该链接，请稍后重试或联系支持团队。":"Unable to process this magic link. Please try again later or contact support.")),d("error")}};return t.jsx("div",{className:"container mx-auto flex min-h-screen items-center justify-center px-4 py-16",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 text-center shadow-2xl text-white",children:[t.jsxs("div",{className:"mb-6",children:[l==="validating"&&t.jsx("div",{className:"mx-auto h-16 w-16 animate-spin rounded-full border-4 border-white/20 border-t-gold"}),l==="creating"&&t.jsx("div",{className:"mx-auto h-16 w-16 animate-pulse rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400"}),l==="success"&&t.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-emerald-500/20 text-4xl",children:"✓"}),l==="error"&&t.jsx("div",{className:"mx-auto flex h-16 w-16 items-center justify-center rounded-full bg-red-500/20 text-4xl",children:"!"})]}),t.jsxs("h1",{className:"mb-4 text-2xl font-bold",children:[l==="validating"&&(s==="CN"?"正在验证您的链接...":"Validating your link..."),l==="creating"&&(s==="CN"?"正在创建您的账户...":"Creating your account..."),l==="success"&&(s==="CN"?"账户创建成功！":"Account Created Successfully!"),l==="error"&&(s==="CN"?"出现错误":"Something Went Wrong")]}),t.jsxs("p",{className:"mb-6 text-white/70",children:[l==="validating"&&(s==="CN"?"请稍候，我们正在验证您的安全链接。":"Please wait while we verify your secure link."),l==="creating"&&(s==="CN"?"我们正在为您配置账户与订阅。":"We are setting up your account and subscriptions."),l==="success"&&(s==="CN"?"即将为您跳转至资料完善页面。":"Redirecting you to profile completion."),l==="error"&&t.jsx("span",{className:"text-red-300",children:u||(s==="CN"?"无法处理该链接，请重试或联系支持团队。":"Unable to process this magic link. Please try again or contact support.")})]}),(l==="validating"||l==="creating")&&t.jsx("div",{className:"mx-auto mb-4 h-2 w-full overflow-hidden rounded-full bg-white/10",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-cyan-400 transition-all duration-500",style:{width:`${h}%`}})}),l==="error"&&t.jsx("button",{onClick:()=>e("/pricing"),className:"mt-4 rounded-full bg-gradient-to-br from-gold to-amber-300 px-6 py-3 text-sm font-medium text-black transition hover:shadow-lg",children:s==="CN"?"返回定价页面":"Back to Pricing"}),l==="error"&&typeof u=="string"&&u.includes("already been used")&&t.jsxs("div",{className:"mt-4 flex flex-col gap-3",children:[t.jsx("a",{href:n,className:"block rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400 px-6 py-3 text-sm font-semibold text-black transition hover:shadow-lg",children:s==="CN"?"??????":"Go to Login"}),t.jsx("button",{onClick:()=>e("/pricing"),className:"rounded-full border border-white/30 px-6 py-3 text-sm font-medium text-white/80 transition hover:bg-white/10",children:s==="CN"?"??????":"Back to Pricing"})]})]})})})}const de={WELCOME:0,BASIC_INFO:1,PREFERENCES:2,MARKETING:3,COMPLETE:4},uc=["Asia/Kuala_Lumpur (GMT+8)","Asia/Singapore (GMT+8)","Asia/Hong_Kong (GMT+8)","Asia/Shanghai (GMT+8)","Asia/Bangkok (GMT+7)","UTC (GMT+0)"];function hc(){const r=fe(),e=_t(),{lang:i,setLang:s}=W(),a=i==="CN"?"CN":"EN",[n,o]=b.useState(de.WELCOME),[c,l]=b.useState(!0),[d,u]=b.useState(!1),[m,h]=b.useState(null),[p,g]=b.useState(null),[y,f]=b.useState(null),[v,k]=b.useState({fullName:"",phone:"",preferredLanguage:"EN",preferredCurrency:"MYR",timezone:"Asia/Kuala_Lumpur (GMT+8)",newsletter:!0});b.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:{user:w},error:T}=await D.auth.getUser();if(T||!w){r("/pricing");return}g(w);const{data:O,error:_}=await D.from("user_profiles").select("*").eq("user_id",w.id).maybeSingle();if(_)throw _;if(O)f(O);else{const{data:q,error:te}=await D.from("user_profiles").insert([{user_id:w.id,full_name:w.email,profile_state:"draft",completion_pct:0}]).select().maybeSingle();if(te)throw te;f(q)}const $=O||{};if(k({fullName:$.full_name||"",phone:$.phone||"",preferredLanguage:$.report_language||$.preferred_language||"EN",preferredCurrency:$.preferred_currency||"MYR",timezone:$.timezone||"Asia/Kuala_Lumpur (GMT+8)",newsletter:!0}),$.profile_state==="complete"||typeof $.completion_pct=="number"&&$.completion_pct>=100){r("/dashboard");return}l(!1)}catch(w){console.error("Failed to load profile:",w),h(w.message),l(!1)}},C=(w,T)=>{k(O=>({...O,[w]:T})),h(null)},A=()=>{o(w=>Math.min(w+1,de.COMPLETE))},j=()=>{o(w=>Math.max(w-1,de.WELCOME))},S=async()=>{u(!0),h(null);try{if(n===de.BASIC_INFO&&!v.fullName.trim())throw new Error(a==="CN"?"请输入您的全名":"Please enter your full name");const w={full_name:v.fullName,report_language:v.preferredLanguage,timezone:v.timezone,profile_state:"in_progress"},{error:T}=await D.from("user_profiles").update(w).eq("user_id",p.id);if(T)throw T;v.preferredLanguage!==i&&s(v.preferredLanguage),A()}catch(w){h(w.message)}finally{u(!1)}},N=async()=>{u(!0),h(null);try{const{error:w}=await D.from("user_profiles").update({profile_state:"complete",completion_pct:100,report_language:v.preferredLanguage,timezone:v.timezone}).eq("user_id",p.id);if(w)throw w;v.newsletter&&await D.from("newsletter_subscriptions").insert([{email:p.email,full_name:v.fullName,source:"profile_completion",preferred_language:v.preferredLanguage,consent_given:!0}]).select().then(({error:T})=>{T&&T.code!=="23505"&&console.warn("Newsletter subscription warning:",T)}),A(),setTimeout(()=>{r("/dashboard")},3e3)}catch(w){h(w.message)}finally{u(!1)}};return c?t.jsx("div",{className:"container mx-auto flex min-h-screen items-center justify-center",children:t.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-white/20 border-t-gold"})}):t.jsx("div",{className:"container mx-auto px-4 py-16",children:t.jsxs("div",{className:"mx-auto max-w-2xl",children:[t.jsxs("div",{className:"mb-12",children:[t.jsxs("div",{className:"mb-4 flex items-center justify-between text-sm text-white/70",children:[t.jsxs("span",{children:[a==="CN"?"步骤":"Step"," ",n+1," / 5"]}),t.jsxs("span",{children:[Math.round((n+1)/5*100),"%"]})]}),t.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-white/10",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-cyan-400 transition-all duration-500",style:{width:`${(n+1)/5*100}%`}})})]}),t.jsxs("div",{className:"rounded-3xl border border-white/10 bg-white/5 p-8 shadow-2xl",children:[n===de.WELCOME&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-6 text-6xl",children:"👋"}),t.jsx("h1",{className:"mb-4 text-3xl font-bold text-white",children:a==="CN"?"欢迎来到 Metaphysics Alliance！":"Welcome to Metaphysics Alliance!"}),t.jsx("p",{className:"mb-8 text-lg text-white/70",children:a==="CN"?`您好 ${e.state?.userName||""}！让我们花一点时间来完成您的个人资料。`:`Hi ${e.state?.userName||""}! Let's take a moment to complete your profile.`}),t.jsx("button",{onClick:A,className:"rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400 px-8 py-4 font-bold text-black shadow-lg transition hover:shadow-[0_0_40px_rgba(16,185,129,0.6)]",children:a==="CN"?"开始":"Let's Start"})]}),n===de.BASIC_INFO&&t.jsxs("div",{children:[t.jsx("h2",{className:"mb-6 text-2xl font-bold text-white",children:a==="CN"?"基本信息":"Basic Information"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"mb-2 block text-sm text-white/70",children:[a==="CN"?"全名":"Full Name"," ",t.jsx("span",{className:"text-red-400",children:"*"})]}),t.jsx("input",{type:"text",value:v.fullName,onChange:w=>C("fullName",w.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:a==="CN"?"电话号码":"Phone Number"}),t.jsx("input",{type:"tel",value:v.phone,onChange:w=>C("phone",w.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white placeholder-white/50 focus:border-gold focus:outline-none"})]})]}),m&&t.jsx("div",{className:"mt-4 rounded-lg border border-red-500/50 bg-red-500/10 p-4 text-red-300",children:m}),t.jsxs("div",{className:"mt-8 flex gap-4",children:[t.jsx("button",{onClick:j,className:"flex-1 rounded-full border border-white/20 px-6 py-3 font-medium text-white/80 transition hover:bg-white/5",children:a==="CN"?"返回":"Back"}),t.jsx("button",{onClick:S,disabled:d,className:"flex-1 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400 px-6 py-3 font-bold text-black transition hover:shadow-lg disabled:opacity-50",children:d?a==="CN"?"保存中...":"Saving...":a==="CN"?"继续":"Continue"})]})]}),n===de.PREFERENCES&&t.jsxs("div",{children:[t.jsx("h2",{className:"mb-6 text-2xl font-bold text-white",children:a==="CN"?"偏好设置":"Preferences"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:a==="CN"?"首选语言":"Preferred Language"}),t.jsxs("select",{value:v.preferredLanguage,onChange:w=>C("preferredLanguage",w.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:[t.jsx("option",{value:"EN",className:"bg-[#0a1025]",children:"English"}),t.jsx("option",{value:"CN",className:"bg-[#0a1025]",children:"简体中文"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:a==="CN"?"首选货币":"Preferred Currency"}),t.jsxs("select",{value:v.preferredCurrency,onChange:w=>C("preferredCurrency",w.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:[t.jsx("option",{value:"MYR",className:"bg-[#0a1025]",children:"MYR (Malaysian Ringgit)"}),t.jsx("option",{value:"USD",className:"bg-[#0a1025]",children:"USD (US Dollar)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"mb-2 block text-sm text-white/70",children:a==="CN"?"时区":"Timezone"}),t.jsx("select",{value:v.timezone,onChange:w=>C("timezone",w.target.value),className:"w-full rounded-lg border border-white/20 bg-white/10 px-4 py-3 text-white focus:border-gold focus:outline-none",children:uc.map(w=>t.jsx("option",{value:w,className:"bg-[#0a1025]",children:w},w))})]})]}),t.jsxs("div",{className:"mt-8 flex gap-4",children:[t.jsx("button",{onClick:j,className:"flex-1 rounded-full border border-white/20 px-6 py-3 font-medium text-white/80 transition hover:bg-white/5",children:a==="CN"?"返回":"Back"}),t.jsx("button",{onClick:S,disabled:d,className:"flex-1 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400 px-6 py-3 font-bold text-black transition hover:shadow-lg disabled:opacity-50",children:d?a==="CN"?"保存中...":"Saving...":a==="CN"?"继续":"Continue"})]})]}),n===de.MARKETING&&t.jsxs("div",{children:[t.jsx("h2",{className:"mb-6 text-2xl font-bold text-white",children:a==="CN"?"保持联系":"Stay Connected"}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("label",{className:"flex items-start gap-4 rounded-lg border border-white/10 bg-white/5 p-4 cursor-pointer hover:bg-white/10 transition",children:[t.jsx("input",{type:"checkbox",checked:v.newsletter,onChange:w=>C("newsletter",w.target.checked),className:"mt-1 h-5 w-5 rounded border-white/20 bg-white/10 text-gold focus:ring-gold"}),t.jsxs("div",{children:[t.jsx("div",{className:"mb-1 font-semibold text-white",children:a==="CN"?"订阅新闻简报":"Subscribe to Newsletter"}),t.jsx("div",{className:"text-sm text-white/70",children:a==="CN"?"接收有关新服务、独家优惠和元宇宙智慧的更新。":"Receive updates about new services, exclusive offers, and metaphysical wisdom."})]})]}),t.jsx("div",{className:"rounded-lg border border-white/10 bg-white/5 p-4 text-sm text-white/70",children:a==="CN"?"您可以随时在账户设置中更改您的通信偏好。":"You can change your communication preferences anytime in your account settings."})]}),t.jsxs("div",{className:"mt-8 flex gap-4",children:[t.jsx("button",{onClick:j,className:"flex-1 rounded-full border border-white/20 px-6 py-3 font-medium text-white/80 transition hover:bg-white/5",children:a==="CN"?"返回":"Back"}),t.jsx("button",{onClick:N,disabled:d,className:"flex-1 rounded-full bg-gradient-to-br from-emerald-500 to-cyan-400 px-6 py-3 font-bold text-black transition hover:shadow-lg disabled:opacity-50",children:d?a==="CN"?"完成中...":"Completing...":a==="CN"?"完成设置":"Complete Setup"})]})]}),n===de.COMPLETE&&t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"mb-6 text-6xl",children:"🎉"}),t.jsx("h2",{className:"mb-4 text-3xl font-bold text-white",children:a==="CN"?"全部完成！":"All Set!"}),t.jsx("p",{className:"mb-8 text-lg text-white/70",children:a==="CN"?"您的个人资料已完成。正在重定向到您的仪表板...":"Your profile is complete. Redirecting to your dashboard..."}),t.jsx("div",{className:"mx-auto h-12 w-12 animate-spin rounded-full border-4 border-white/20 border-t-gold"})]})]})]})})}const ei={label:"Book a consultation",href:"/contact",body:"Ready to explore this work together? Book a consultation and we will craft a custom plan for you."},or=(r,{title:e,intro:i,bullets:s,ideal:a,cta:n=ei})=>({path:r,element:t.jsx(Wt,{title:e,intro:i,sections:[{heading:"What you receive",bullets:s},{heading:"Ideal for",body:a}],cta:n})}),Q=(r,e={})=>{const i=typeof e=="string"?e:e?.serviceKey;return{path:r,element:t.jsx(yt,{serviceKey:i})}},mc=[{path:"/auth",element:t.jsx(nc,{locale:"EN"})},{path:"/auth/callback",element:t.jsx(oc,{locale:"EN"})},{path:"/profile/complete",element:t.jsx(cc,{locale:"EN"})},{path:"/services",element:t.jsx(bl,{})},{path:"/",element:t.jsx(hl,{})},{path:"/contact",element:t.jsx(yl,{})},{path:"/pricing",element:t.jsx(Ml,{})},{path:"/pricing/checkout",element:t.jsx(Fl,{})},{path:"/checkout/payment",element:t.jsx(zl,{})},{path:"/vip-report",element:t.jsx(Wt,{title:"VIP Holistic Destiny Analysis",intro:"Our flagship programme blends BaZi, Zi Wei Dou Shu, Qi Men Dun Jia, Feng Shui, numerology and True Solar Time calibration into a single navigational document. Each tier expands the depth of analysis so you can lead at the personal, family or enterprise level with absolute timing clarity.",sections:[{heading:"How it helps",bullets:["Triangulates multiple classical systems so recommendations agree before action.","Maps ten-year and yearly pivot windows against True Solar Time for precision moves.","Delivers a practical playbook that translates metaphysics into strategy, environment and naming."]},{heading:"Choose your tier",body:"Select Essential, Advanced or Supreme depending on how deep you need to go into capital allocation, relationship mapping and space/time optimisation. Every engagement begins with a discovery consultation to define the right tier."}],cta:ei})},Q("/vip-report/essential",{serviceKey:"essentialBlueprint"}),Q("/vip-report/pro",{serviceKey:"advancedBlueprint"}),Q("/vip-report/supreme",{serviceKey:"supremeBlueprint"}),{path:"/services/celestial/destiny-algorithm",element:t.jsx(yt,{serviceKey:"bazi"})},{path:"/services/celestial/imperial-star-atlas",element:t.jsx(yt,{serviceKey:"ziwei"})},{path:"/services/celestial/arcane-strategy-matrix",element:t.jsx(yt,{serviceKey:"qimen"})},Q("/services/fengshui/home-destiny-compass",{serviceKey:"fsHome"}),Q("/services/fengshui/office-power-alignment",{serviceKey:"fsOffice"}),Q("/services/fengshui/dragon-vein-oracle",{serviceKey:"fsDragon"}),Q("/services/fengshui/cosmic-cycle-of-fate",{serviceKey:"fsCycle"}),Q("/services/fengshui/celestial-star-matrix",{serviceKey:"fsMatrix"}),Q("/services/fengshui/energy-convergence-field",{serviceKey:"fsEnergy"}),Q("/services/magnetic-matrix/i-ching-energy-matrix",{serviceKey:"mmIching"}),Q("/services/magnetic-matrix/name-destiny-code",{serviceKey:"mmName"}),Q("/services/magnetic-matrix/soul-number-blueprint",{serviceKey:"mmSoul"}),Q("/oracle/celestial-numbers",{serviceKey:"celestialNumbers"}),Q("/oracle/taiyi-numbers",{serviceKey:"taiyiNumbers"}),Q("/oracle/six-ren",{serviceKey:"sixRen"}),{path:"/academy/courses",element:t.jsx(fa,{})},{path:"/academy/foundation",element:t.jsx(nt,{courseKey:"academyFoundation"})},{path:"/academy/beginner",element:t.jsx(nt,{courseKey:"academyBeginner"})},{path:"/academy/intermediate",element:t.jsx(nt,{courseKey:"academyIntermediate"})},{path:"/academy/professional",element:t.jsx(nt,{courseKey:"academyProfessional"})},Q("/enterprise/audit",{serviceKey:"corporateAudit"}),Q("/enterprise/site",{serviceKey:"enterpriseSite"}),Q("/enterprise/cycles",{serviceKey:"enterpriseCycles"}),or("/resources/four-pillars",{title:"Cosmic Four Pillars Chart",intro:"Interactive resources to help you interpret BaZi charts responsibly. Includes glossaries, case studies and timing checklists.",bullets:["Downloadable templates for chart plotting and interpretation notes.","Video explainers on common structures and corrective strategies.","Monthly case clinics pulled from real client stories (shared anonymously)."],ideal:"Ideal for self-learners and students who want structured reference material."}),or("/resources/purple-star",{title:"Celestial Star Oracle Chart",intro:"Resource hub for Zi Wei Dou Shu enthusiasts. Decode palaces, auxiliary stars and transformation mechanisms with clarity.",bullets:["Reference sheets for star meanings and combinations.","Live breakdowns of famous charts to illustrate key patterns.","Guides on integrating Zi Wei insights with BaZi and Qi Men."],ideal:"Ideal for students wanting to deepen their imperial astrology skill set."}),{path:"/about",element:t.jsx(ha,{})},{path:"/contact",element:t.jsx(Wt,{title:"Contact",intro:"Let's map out the support you need. Share your intention and preferred timelines-our team will respond within two business days.",sections:[{heading:"How to reach us",bullets:["Email: hello@meta-alliance.my","WhatsApp / WeChat: available upon request after initial enquiry.","Consultations available in English, Mandarin and Cantonese."]},{heading:"Before you enquire",body:"Please include your birth data (with location and time) for destiny work, or site address and floor plans for Feng Shui. For corporate engagements, share organisation size and key objectives."}],cta:ei})},{path:"/legal/privacy",element:t.jsx(We,{policyKey:"privacy"})},{path:"/legal/terms",element:t.jsx(We,{policyKey:"terms"})},{path:"/legal/cookies",element:t.jsx(We,{policyKey:"cookies"})},{path:"/legal/disclaimer",element:t.jsx(We,{policyKey:"disclaimer"})},{path:"/legal/refund",element:t.jsx(We,{policyKey:"refund"})},{path:"/checkout/resume/:token",element:t.jsx(Vl,{})},{path:"/checkout/success",element:t.jsx(Kl,{})},{path:"/checkout/failed",element:t.jsx(Yl,{})},{path:"/checkout/pending",element:t.jsx(Gl,{})},{path:"/auth/magic/:token",element:t.jsx(dc,{})},{path:"/profile/complete",element:t.jsx(hc,{})}],pc=[{from:"/privacy",to:"/legal/privacy"},{from:"/terms",to:"/legal/terms"},{from:"/cookies",to:"/legal/cookies"},{from:"/disclaimer",to:"/legal/disclaimer"},{from:"/refund",to:"/legal/refund"},{from:"/services/vip-report",to:"/vip-report"},{from:"/oracle/celestial",to:"/oracle/celestial-numbers"},{from:"/oracle/taiyi",to:"/oracle/taiyi-numbers"},{from:"/oracle/supreme",to:"/oracle/six-ren"}];let ft;async function gc(){return ft||(ft=(async()=>{const{data:r,error:e}=await D.auth.getSession();if(e)throw e;return r.session?r.session:null})().catch(r=>{throw ft=void 0,r})),ft}function fc(){const r=_t();return b.useEffect(()=>{gc().catch(e=>{console.error("Supabase automatic sign-in failed:",e)})},[]),t.jsxs(t.Fragment,{children:[t.jsx(Vs,{}),t.jsxs("div",{className:"relative z-10",children:[t.jsx(zs,{}),t.jsx(Ye,{mode:"wait",children:t.jsx(Gs,{children:t.jsx(bs,{})},r.pathname)}),t.jsx(Fs,{})]})]})}function yc(){const{lang:r}=W(),e=r==="CN"?"CN":"EN",i=gs([{element:t.jsx(fc,{}),children:[...mc.map(({path:s,element:a})=>({path:s,element:a})),...pc.map(({from:s,to:a})=>({path:s,element:t.jsx(fs,{to:a,replace:!0})})),{path:"*",element:t.jsx(Js,{})}]}]);return t.jsx(Zs,{locale:e,children:t.jsx(ys,{router:i,future:{v7_startTransition:!0,v7_relativeSplatPath:!0}})})}Ts.createRoot(document.getElementById("root")).render(t.jsx(pe.StrictMode,{children:t.jsx(Us,{children:t.jsx(yc,{})})}));
//# sourceMappingURL=index-BdD8fEKa.js.map
